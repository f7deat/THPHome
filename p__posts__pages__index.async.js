"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6230],{86444:function(ue,R,t){var G=t(53939),f=t.n(G),K=t(83134),V=t.n(K),N=t(4870),q=t(46665),h=t(68136),T=t(44949),re=t(58703),U=t(33130),W=function(e){var ee=N.Z.useFormInstance(),$=(0,h.useRef)(null),le=function(){if($.current){var B;ee.setFieldValue(e.name,(B=$.current)===null||B===void 0?void 0:B.getContent())}};return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(T.M,{onChange:le,onInit:function(B,I){return $.current=I},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(B,I,J){if(J.filetype=="file"&&B("mypage.html",{text:"My text"}),J.filetype=="image"){var H=document.createElement("input");H.setAttribute("type","file"),H.setAttribute("accept","image/*"),H.addEventListener("change",function(){var ie=V()(f()().mark(function te(D){var ne,Y,X;return f()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return ne=D.target.files[0],Y=new FormData,Y.append("file",ne),A.next=5,(0,re.request)("file/image/upload",{data:Y,method:"POST"});case 5:X=A.sent,X&&(q.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),B(X.url,{alt:"My alt text"}));case 7:case"end":return A.stop()}},te)}));return function(te){return ie.apply(this,arguments)}}()),H.click()}J.filetype=="media"&&B("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:ee.getFieldValue(e.name)})})};R.Z=W},14413:function(ue,R,t){t.r(R),t.d(R,{default:function(){return Re}});var G=t(34827),f=t.n(G),K=t(96338),V=t(70524),N=t(81068),q=t(64235),h=t(58703),T=t(15621),re=t(13762),U=t(2537),W=t(62380),i=t(68136),e=t(33130),ee=function(){return(0,e.jsx)(e.Fragment,{})},$=ee,le=t(53939),b=t.n(le),B=t(83134),I=t.n(B),J=function(a){return(0,h.request)("block/sort-order",{method:"POST",data:a})},H=function(a){return(0,h.request)("block/delete/".concat(a),{method:"POST"})},ie=function(a){return(0,h.request)("block/add",{method:"POST",data:a})},te=function(a){return(0,h.request)("block/list/".concat(a))},D=function(a){return(0,h.request)("block/".concat(a))},ne=function(a){return(0,h.request)("post/get/".concat(a))},Y=function(a){return(0,h.request)("block/options")},X=function(a,n){return(0,h.request)("block/save/".concat(a),{method:"POST",data:n})},k=t(41220),A=t(43772),Q=t(91816),ge=function(a){var n=a.id,m=k.A.useFormInstance();return(0,i.useEffect)(function(){n&&D(n).then(function(r){m.setFields([{name:"type",value:r.type},{name:"value",value:r.value},{name:"className",value:r.className}])})},[n]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(A.Z,{label:"Lo\u1EA1i",name:"type",options:[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"Paragraph",value:"paragraph"}]}),(0,e.jsx)(Q.Z,{label:"N\u1ED9i dung",name:"value"})]})},he=ge,xe=function(a){var n=a.id,m=k.A.useFormInstance();return(0,i.useEffect)(function(){n&&D(n).then(function(r){m.setFields([{name:"introduce",value:r.introduce},{name:"lecturer",value:r.lecturer},{name:"career",value:r.career},{name:"opportunity",value:r.opportunity}])})},[n]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Q.Z,{label:"TH\xD4NG TIN V\u1EC0 NG\xC0NH",name:"introduce"}),(0,e.jsx)(Q.Z,{label:"\u0110\u1ED8I NG\u0168 GI\u1EA2NG VI\xCAN",name:"lecturer"}),(0,e.jsx)(Q.Z,{label:"C\u01A0 H\u1ED8I VI\u1EC6C L\xC0M",name:"career"}),(0,e.jsx)(Q.Z,{label:"C\u01A0 H\u1ED8I PH\xC1T TRI\u1EC2N",name:"opportunity"})]})},pe=xe,M=t(16331),je=function(a){var n=a.id,m=k.A.useFormInstance();return(0,i.useEffect)(function(){n&&D(n).then(function(r){m.setFields([{name:"embedUrl",value:r.embedUrl}])})},[n]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(M.Z,{label:"Embed URL",name:"embedUrl"})})},ye=je,Pe=function(a){var n=a.id,m=k.A.useFormInstance();return(0,i.useEffect)(function(){n&&D(n).then(function(r){m.setFields([{name:"label",value:r.label},{name:"className",value:r.className}])})},[n]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(M.Z,{label:"Label",name:"label"})})},Ee=Pe,ce=t(86444),be=function(a){var n=a.id,m=k.A.useFormInstance();return(0,i.useEffect)(function(){n&&D(n).then(function(r){m.setFields([{name:"raw",value:r.raw},{name:"className",value:r.className}])})},[n]),(0,e.jsx)(k.A.Item,{name:"raw",label:"N\u1ED9i dung",children:(0,e.jsx)(ce.Z,{name:"raw"})})},Ce=be,se=t(88821),de=t(59342),me=t(24657),fe=t(18801),F=t(46665),Se=function(a){var n=a.id,m=(0,i.useState)([]),r=f()(m,2),x=r[0],j=r[1],L=(0,i.useState)([]),C=f()(L,2),O=C[0],S=C[1],Z=k.A.useFormInstance();return(0,i.useEffect)(function(){n&&D(n).then(function(l){Z.setFields([{name:"label",value:l.label},{name:"className",value:l.className}]),l.logos?j(l.logos):j([])})},[n]),(0,i.useEffect)(function(){S([])},[Z]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(M.Z,{name:"logos",hidden:!0}),(0,e.jsxs)("div",{className:"flex gap-4",style:{gap:8,flexWrap:"wrap"},children:[x.map(function(l,c){return(0,e.jsx)("div",{className:"relative",style:{border:"1px solid #d1d1d1",borderRadius:8,marginBottom:8,padding:4},children:(0,e.jsx)(de.Z.Ribbon,{text:(0,e.jsx)(T.ZP,{onClick:function(){j(x.filter(function(y){return y!==l}))},type:"text",size:"small",style:{color:"white"},children:"X\xF3a"}),children:(0,e.jsx)(me.Z,{src:l,alt:"LOGO",width:90,height:90,style:{borderRadius:8,objectFit:"cover"}})})},c)}),(0,e.jsx)(fe.Z,{beforeUpload:function(c){var v=c.type==="image/jpeg"||c.type==="image/png";if(v){var y=new FormData;return y.append("file",c),(0,h.request)("file/upload",{method:"POST",data:y}).then(function(P){if(!P.succeeded)return F.ZP.error(P.message),!1;x.push(P.url),j(x),Z.setFieldValue("logos",x)}),!1}else return F.ZP.error("You can only upload JPG or PNG file!"),!1},listType:"picture-card",fileList:O,onChange:function(c){var v=c.fileList;S([v.pop()])},children:(0,e.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,e.jsx)(se.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})]})]})},Ze=Se,Be=function(a){var n=a.id,m=(0,i.useState)([]),r=f()(m,2),x=r[0],j=r[1],L=(0,i.useState)([]),C=f()(L,2),O=C[0],S=C[1],Z=k.A.useFormInstance();return(0,i.useEffect)(function(){n&&D(n).then(function(l){Z.setFields([{name:"textContent",value:l.textContent},{name:"images",value:l.images},{name:"className",value:l.className}]),l.images?j(l.images):j([])})},[n]),(0,i.useEffect)(function(){S([])},[Z,n]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(M.Z,{name:"images",hidden:!0}),(0,e.jsx)(k.A.Item,{name:"textContent",label:"N\u1ED9i dung",children:(0,e.jsx)(ce.Z,{name:"textContent"})}),(0,e.jsxs)("div",{className:"flex gap-4",style:{gap:8,flexWrap:"wrap"},children:[x.map(function(l,c){return(0,e.jsx)("div",{className:"relative",style:{border:"1px solid #d1d1d1",borderRadius:8,marginBottom:8,padding:4},children:(0,e.jsx)(de.Z.Ribbon,{text:(0,e.jsx)(T.ZP,{onClick:function(){j(x.filter(function(y){return y!==l}))},type:"text",size:"small",style:{color:"white"},children:"X\xF3a"}),children:(0,e.jsx)(me.Z,{src:l,alt:"LOGO",width:90,height:90,style:{borderRadius:8,objectFit:"cover"}})})},c)}),(0,e.jsx)(fe.Z,{beforeUpload:function(c){var v=c.type==="image/jpeg"||c.type==="image/png";if(v){var y=new FormData;return y.append("file",c),(0,h.request)("file/upload",{method:"POST",data:y}).then(function(P){if(!P.succeeded)return F.ZP.error(P.message),!1;x.push(P.url),j(x),Z.setFieldValue("images",x)}),!1}else return F.ZP.error("You can only upload JPG or PNG file!"),!1},listType:"picture-card",fileList:O,onChange:function(c){var v=c.fileList;S([v.pop()])},children:(0,e.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,e.jsx)(se.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})]})]})},ke=Be,Te=t(49799),De=t(25223),Fe=t(58169),Oe=t(99894),ve=t(7482),Ae=t(30339),Ne=t(45941),Ie=function(){var a=(0,h.useParams)(),n=a.id,m=(0,i.useState)([]),r=f()(m,2),x=r[0],j=r[1],L=(0,i.useState)(!1),C=f()(L,2),O=C[0],S=C[1],Z=(0,i.useState)(!1),l=f()(Z,2),c=l[0],v=l[1],y=(0,i.useState)(),P=f()(y,2),o=P[0],_=P[1],oe=(0,i.useRef)(),ae=function(){n&&te(n).then(function(g){j(g.data)})};(0,i.useEffect)(function(){n&&ae()},[n]);var Ge=function(){var E=I()(b()().mark(function g(u){return b()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,H(u);case 2:F.ZP.success("Deleted!"),ae();case 4:case"end":return s.stop()}},g)}));return function(u){return E.apply(this,arguments)}}(),Ue=function(){var E=I()(b()().mark(function g(u){var p;return b()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return u.postId=n,w.next=3,ie(u);case 3:F.ZP.success("Added!"),v(!1),ae(),(p=oe.current)===null||p===void 0||p.resetFields();case 7:case"end":return w.stop()}},g)}));return function(u){return E.apply(this,arguments)}}(),He=[{key:"1",label:"Show / Hide"}],ze=function(){var E=I()(b()().mark(function g(u,p){var s;return b()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(u.key!=="1"){z.next=5;break}return z.next=3,ne(p);case 3:s=z.sent,s.succeeded&&(F.ZP.success("Actived!"),ae());case 5:case"end":return z.stop()}},g)}));return function(u,p){return E.apply(this,arguments)}}(),Ke=[{title:"#",dataIndex:"sortOrder",className:"drag-visible"},{title:"Lo\u1EA1i",dataIndex:"blockName"},{title:"T\xEAn",dataIndex:"name"},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"T\xE1c v\u1EE5",valueType:"option",render:function(g,u){return[(0,e.jsx)(T.ZP,{size:"small",type:"primary",disabled:u.autoGenerateField,icon:(0,e.jsx)(Te.Z,{}),onClick:function(){var s;_(u),(s=oe.current)===null||s===void 0||s.setFieldValue("id",u.id),S(!0)}},1),(0,e.jsx)(Ae.Z,{title:"Are you sure?",onConfirm:function(){return Ge(u.id)},children:(0,e.jsx)(T.ZP,{size:"small",icon:(0,e.jsx)(De.Z,{}),danger:!0,type:"primary"})},4),(0,e.jsx)(Ne.Z,{menu:{items:He,onClick:function(s){return ze(s,u.id)}},children:(0,e.jsx)(T.ZP,{size:"small",icon:(0,e.jsx)(Fe.Z,{}),type:"dashed"})},"more")]}}],Ve=function(g,u,p){J(p).then(function(s){j(p),F.ZP.success("Saved!")})},We=function(){return o?o.normalizedName==="TextBlock"?(0,e.jsx)(he,{id:o.id}):o.normalizedName==="MajorGeneralBlock"?(0,e.jsx)(pe,{id:o.id}):o.normalizedName==="VideoBlock"?(0,e.jsx)(ye,{id:o.id}):o.normalizedName==="DividerBlock"?(0,e.jsx)(Ee,{id:o.id}):o.normalizedName==="TinyMCEBlock"?(0,e.jsx)(Ce,{id:o.id}):o.normalizedName==="SponsorBlock"?(0,e.jsx)(Ze,{id:o.id}):o.normalizedName==="SideGalleryBlock"?(0,e.jsx)(ke,{id:o.id}):(0,e.jsx)(W.Z,{}):(0,e.jsx)(W.Z,{})},$e=function(){var E=I()(b()().mark(function g(u){return b()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o){s.next=2;break}return s.abrupt("return");case 2:return console.log(u),s.next=5,X(o.id,u);case 5:F.ZP.success("Saved!"),S(!1);case 7:case"end":return s.stop()}},g)}));return function(u){return E.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"mb-2 flex justify-end gap-2",children:(0,e.jsx)(T.ZP,{onClick:function(){return v(!0)},type:"primary",icon:(0,e.jsx)(se.Z,{}),children:(0,e.jsx)("span",{children:"Th\xEAm m\u1EDBi"})},0)}),(0,e.jsx)(Oe.Z,{search:!1,rowKey:"id",columns:Ke,pagination:!1,dataSource:x,dragSortKey:"sortOrder",onDragSortEnd:Ve}),(0,e.jsxs)(ve.Y,{open:c,title:"Add component",onOpenChange:v,onFinish:Ue,children:[(0,e.jsx)(M.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,e.jsx)(A.Z,{rules:[{required:!0}],request:Y,name:"blockId",label:"Block"})]}),(0,e.jsxs)(ve.Y,{open:O,onOpenChange:S,title:"Block Configuration",onFinish:$e,formRef:oe,children:[(0,e.jsx)(M.Z,{name:"id",hidden:!0}),(0,e.jsx)(M.Z,{name:"className",label:"Class Name"}),We()]})]})},Me=Ie,Le=function(){var a=(0,h.useParams)(),n=a.id,m=(0,i.useState)(!1),r=f()(m,2),x=r[0],j=r[1],L=(0,i.useState)(),C=f()(L,2),O=C[0],S=C[1],Z=(0,i.useState)("content"),l=f()(Z,2),c=l[0],v=l[1],y=function(){n&&(0,K.u)(n).then(function(_){return S(_)})};(0,i.useEffect)(function(){y()},[n]);var P=function(_){v(_)};return(0,e.jsx)(N._z,{title:O==null?void 0:O.name,extra:(0,e.jsx)(T.ZP,{icon:(0,e.jsx)(V.Z,{}),onClick:function(){return history.back()},children:(0,e.jsx)("span",{children:"Quay l\u1EA1i"})}),children:(0,e.jsxs)(re.Z,{gutter:16,children:[(0,e.jsx)(U.Z,{span:18,children:(0,e.jsx)(q.Z,{tabs:{tabPosition:"top",activeKey:c,items:[{label:"N\u1ED9i dung",key:"content",children:(0,e.jsx)(Me,{})},{label:"C\xE0i \u0111\u1EB7t",key:"setting",children:(0,e.jsx)($,{})}],onChange:P},className:"mb-4"})}),(0,e.jsx)(U.Z,{span:6,children:(0,e.jsx)(q.Z,{title:"Preview",children:(0,e.jsx)(W.Z,{})})})]})})},Re=Le},96338:function(ue,R,t){t.d(R,{A:function(){return f},u:function(){return K}});var G=t(58703),f=function(N){return(0,G.request)("post/get-list",{params:N})},K=function(N){return(0,G.request)("post/get/".concat(N))}}}]);
