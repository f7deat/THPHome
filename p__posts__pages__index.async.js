"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6230],{86444:function(oe,B,n){var D=n(53939),f=n.n(D),b=n(83134),O=n.n(b),j=n(4870),_=n(46665),v=n(68136),y=n(44949),q=n(58703),k=n(33130),Z=function(e){var $=j.Z.useFormInstance(),A=(0,v.useRef)(null),w=function(){if(A.current){var x;$.setFieldValue(e.name,(x=A.current)===null||x===void 0?void 0:x.getContent())}};return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(y.M,{onChange:w,onInit:function(x,P){return A.current=P},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(x,P,M){if(M.filetype=="file"&&x("mypage.html",{text:"My text"}),M.filetype=="image"){var T=document.createElement("input");T.setAttribute("type","file"),T.setAttribute("accept","image/*"),T.addEventListener("change",function(){var ee=O()(f()().mark(function Y(E){var Q,I,F;return f()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return Q=E.target.files[0],I=new FormData,I.append("file",Q),p.next=5,(0,q.request)("file/image/upload",{data:I,method:"POST"});case 5:F=p.sent,F&&(_.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),x(F.url,{alt:"My alt text"}));case 7:case"end":return p.stop()}},Y)}));return function(Y){return ee.apply(this,arguments)}}()),T.click()}M.filetype=="media"&&x("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:$.getFieldValue(e.name)})})};B.Z=Z},85210:function(oe,B,n){n.r(B),n.d(B,{default:function(){return Ze}});var D=n(34827),f=n.n(D),b=n(96338),O=n(70524),j=n(81068),_=n(64235),v=n(58703),y=n(15621),q=n(13762),k=n(2537),Z=n(62380),o=n(68136),e=n(33130),$=function(){return(0,e.jsx)(e.Fragment,{})},A=$,w=n(53939),g=n.n(w),x=n(83134),P=n.n(x),M=function(r){return(0,v.request)("block/sort-order",{method:"POST",data:r})},T=function(r){return(0,v.request)("block/delete/".concat(r),{method:"POST"})},ee=function(r){return(0,v.request)("block/add",{method:"POST",data:r})},Y=function(r){return(0,v.request)("block/list/".concat(r))},E=function(r){return(0,v.request)("block/".concat(r))},Q=function(r){return(0,v.request)("post/get/".concat(r))},I=function(r){return(0,v.request)("block/options")},F=function(r,t){return(0,v.request)("block/save/".concat(r),{method:"POST",data:t})},C=n(41220),p=n(43772),N=n(91816),ce=function(r){var t=r.id,m=C.A.useFormInstance();return(0,o.useEffect)(function(){t&&E(t).then(function(a){m.setFields([{name:"type",value:a.type},{name:"value",value:a.value},{name:"className",value:a.className}])})},[t]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(p.Z,{label:"Lo\u1EA1i",name:"type",options:[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"Paragraph",value:"paragraph"}]}),(0,e.jsx)(N.Z,{label:"N\u1ED9i dung",name:"value"})]})},de=ce,me=function(r){var t=r.id,m=C.A.useFormInstance();return(0,o.useEffect)(function(){t&&E(t).then(function(a){m.setFields([{name:"introduce",value:a.introduce},{name:"lecturer",value:a.lecturer},{name:"career",value:a.career},{name:"opportunity",value:a.opportunity}])})},[t]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N.Z,{label:"TH\xD4NG TIN V\u1EC0 NG\xC0NH",name:"introduce"}),(0,e.jsx)(N.Z,{label:"\u0110\u1ED8I NG\u0168 GI\u1EA2NG VI\xCAN",name:"lecturer"}),(0,e.jsx)(N.Z,{label:"C\u01A0 H\u1ED8I VI\u1EC6C L\xC0M",name:"career"}),(0,e.jsx)(N.Z,{label:"C\u01A0 H\u1ED8I PH\xC1T TRI\u1EC2N",name:"opportunity"})]})},fe=me,R=n(16331),ve=function(r){var t=r.id,m=C.A.useFormInstance();return(0,o.useEffect)(function(){t&&E(t).then(function(a){m.setFields([{name:"embedUrl",value:a.embedUrl}])})},[t]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(R.Z,{label:"Embed URL",name:"embedUrl"})})},he=ve,ge=function(r){var t=r.id,m=C.A.useFormInstance();return(0,o.useEffect)(function(){t&&E(t).then(function(a){m.setFields([{name:"label",value:a.label},{name:"className",value:a.className}])})},[t]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(R.Z,{label:"Label",name:"label"})})},xe=ge,pe=n(86444),je=function(r){var t=r.id,m=C.A.useFormInstance();return(0,o.useEffect)(function(){t&&E(t).then(function(a){m.setFields([{name:"raw",value:a.raw},{name:"className",value:a.className}])})},[t]),(0,e.jsx)(C.A.Item,{name:"raw",label:"N\u1ED9i dung",children:(0,e.jsx)(pe.Z,{name:"raw"})})},ye=je,Pe=n(49799),Ee=n(25223),Ce=n(58169),Be=n(88821),De=n(99894),ie=n(7482),L=n(46665),ke=n(30339),Te=n(45941),Se=function(){var r=(0,v.useParams)(),t=r.id,m=(0,o.useState)([]),a=f()(m,2),ue=a[0],ne=a[1],te=(0,o.useState)(!1),H=f()(te,2),K=H[0],U=H[1],re=(0,o.useState)(!1),G=f()(re,2),ae=G[0],z=G[1],le=(0,o.useState)(),J=f()(le,2),i=J[0],V=J[1],se=(0,o.useRef)(),X=function(){t&&Y(t).then(function(c){ne(c.data)})};(0,o.useEffect)(function(){t&&X()},[t]);var Ae=function(){var h=P()(g()().mark(function c(s){return g()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,T(s);case 2:L.ZP.success("Deleted!"),X();case 4:case"end":return l.stop()}},c)}));return function(s){return h.apply(this,arguments)}}(),Me=function(){var h=P()(g()().mark(function c(s){var d;return g()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return s.postId=t,W.next=3,ee(s);case 3:L.ZP.success("Added!"),z(!1),X(),(d=se.current)===null||d===void 0||d.resetFields();case 7:case"end":return W.stop()}},c)}));return function(s){return h.apply(this,arguments)}}(),Ie=[{key:"1",label:"Show / Hide"}],Fe=function(){var h=P()(g()().mark(function c(s,d){var l;return g()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(s.key!=="1"){S.next=5;break}return S.next=3,Q(d);case 3:l=S.sent,l.succeeded&&(L.ZP.success("Actived!"),X());case 5:case"end":return S.stop()}},c)}));return function(s,d){return h.apply(this,arguments)}}(),Ne=[{title:"#",dataIndex:"sortOrder",className:"drag-visible"},{title:"Lo\u1EA1i",dataIndex:"blockName"},{title:"T\xEAn",dataIndex:"name"},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"T\xE1c v\u1EE5",valueType:"option",render:function(c,s){return[(0,e.jsx)(y.ZP,{size:"small",type:"primary",disabled:s.autoGenerateField,icon:(0,e.jsx)(Pe.Z,{}),onClick:function(){var l;V(s),(l=se.current)===null||l===void 0||l.setFieldValue("id",s.id),U(!0)}},1),(0,e.jsx)(ke.Z,{title:"Are you sure?",onConfirm:function(){return Ae(s.id)},children:(0,e.jsx)(y.ZP,{size:"small",icon:(0,e.jsx)(Ee.Z,{}),danger:!0,type:"primary"})},4),(0,e.jsx)(Te.Z,{menu:{items:Ie,onClick:function(l){return Fe(l,s.id)}},children:(0,e.jsx)(y.ZP,{size:"small",icon:(0,e.jsx)(Ce.Z,{}),type:"dashed"})},"more")]}}],Re=function(c,s,d){M(d).then(function(l){ne(d),L.ZP.success("Saved!")})},Le=function(){return i?i.normalizedName==="TextBlock"?(0,e.jsx)(de,{id:i.id}):i.normalizedName==="MajorGeneralBlock"?(0,e.jsx)(fe,{id:i.id}):i.normalizedName==="VideoBlock"?(0,e.jsx)(he,{id:i.id}):i.normalizedName==="DividerBlock"?(0,e.jsx)(xe,{id:i.id}):i.normalizedName==="TinyMCEBlock"?(0,e.jsx)(ye,{id:i.id}):(0,e.jsx)(Z.Z,{}):(0,e.jsx)(Z.Z,{})},He=function(){var h=P()(g()().mark(function c(s){return g()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i){l.next=2;break}return l.abrupt("return");case 2:return console.log(s),l.next=5,F(i.id,s);case 5:L.ZP.success("Saved!"),U(!1);case 7:case"end":return l.stop()}},c)}));return function(s){return h.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"mb-2 flex justify-end gap-2",children:(0,e.jsx)(y.ZP,{onClick:function(){return z(!0)},type:"primary",icon:(0,e.jsx)(Be.Z,{}),children:(0,e.jsx)("span",{children:"Th\xEAm m\u1EDBi"})},0)}),(0,e.jsx)(De.Z,{search:!1,rowKey:"id",columns:Ne,pagination:!1,dataSource:ue,dragSortKey:"sortOrder",onDragSortEnd:Re}),(0,e.jsxs)(ie.Y,{open:ae,title:"Add component",onOpenChange:z,onFinish:Me,children:[(0,e.jsx)(R.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,e.jsx)(p.Z,{rules:[{required:!0}],request:I,name:"blockId",label:"Block"})]}),(0,e.jsxs)(ie.Y,{open:K,onOpenChange:U,title:"Block Configuration",onFinish:He,formRef:se,children:[(0,e.jsx)(R.Z,{name:"id",hidden:!0}),(0,e.jsx)(R.Z,{name:"className",label:"Class Name"}),Le()]})]})},be=Se,Oe=function(){var r=(0,v.useParams)(),t=r.id,m=(0,o.useState)(!1),a=f()(m,2),ue=a[0],ne=a[1],te=(0,o.useState)(),H=f()(te,2),K=H[0],U=H[1],re=(0,o.useState)("content"),G=f()(re,2),ae=G[0],z=G[1],le=function(){t&&(0,b.u)(t).then(function(V){return U(V)})};(0,o.useEffect)(function(){le()},[t]);var J=function(V){z(V)};return(0,e.jsx)(j._z,{title:K==null?void 0:K.name,extra:(0,e.jsx)(y.ZP,{icon:(0,e.jsx)(O.Z,{}),onClick:function(){return history.back()},children:(0,e.jsx)("span",{children:"Quay l\u1EA1i"})}),children:(0,e.jsxs)(q.Z,{gutter:16,children:[(0,e.jsx)(k.Z,{span:18,children:(0,e.jsx)(_.Z,{tabs:{tabPosition:"top",activeKey:ae,items:[{label:"N\u1ED9i dung",key:"content",children:(0,e.jsx)(be,{})},{label:"C\xE0i \u0111\u1EB7t",key:"setting",children:(0,e.jsx)(A,{})}],onChange:J},className:"mb-4"})}),(0,e.jsx)(k.Z,{span:6,children:(0,e.jsx)(_.Z,{title:"Preview",children:(0,e.jsx)(Z.Z,{})})})]})})},Ze=Oe},96338:function(oe,B,n){n.d(B,{A:function(){return f},u:function(){return b}});var D=n(58703),f=function(j){return(0,D.request)("post/get-list",{params:j})},b=function(j){return(0,D.request)("post/get/".concat(j))}}}]);
