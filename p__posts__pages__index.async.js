"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6230],{8019:function(ie,U,t){var G=t(90228),m=t.n(G),H=t(87999),$=t.n(H),L=t(16941),_=t(68110),x=t(93236),N=t(81384),Q=t(37090),I=t(62086),z=function(y){var C=L.Z.useFormInstance(),A=(0,x.useRef)(null),e=function(){if(A.current){var D;C.setFieldValue(y.name,(D=A.current)===null||D===void 0?void 0:D.getContent())}};return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(N.M,{onChange:e,onInit:function(D,q){return A.current=q},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(D,q,S){if(S.filetype=="file"&&D("mypage.html",{text:"My text"}),S.filetype=="image"){var K=document.createElement("input");K.setAttribute("type","file"),K.setAttribute("accept","image/*"),K.addEventListener("change",function(){var V=$()(m()().mark(function ee(ae){var te,J,k;return m()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return te=ae.target.files[0],J=new FormData,J.append("file",te),R.next=5,(0,Q.request)("file/image/upload",{data:J,method:"POST"});case 5:k=R.sent,k&&(_.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),D(k.url,{alt:"My alt text"}));case 7:case"end":return R.stop()}},ee)}));return function(ee){return V.apply(this,arguments)}}()),K.click()}S.filetype=="media"&&D("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:C.getFieldValue(y.name)})})};U.Z=z},82682:function(ie,U,t){t.r(U),t.d(U,{default:function(){return Re}});var G=t(48305),m=t.n(G),H=t(63134),$=t(70474),L=t(77097),_=t(27701),x=t(37090),N=t(55641),Q=t(69534),I=t(97146),z=t(58925),l=t(93236),y=t(54885),C=t(1536),A=t(14123),e=t(62086),w=function(){var a=(0,x.useParams)(),n=a.id,c=y.A.useForm(),r=m()(c,1),h=r[0],g=(0,l.useState)(),O=m()(g,2),P=O[0],T=O[1];return(0,l.useEffect)(function(){n&&(0,H.u)(n).then(function(f){f&&(h.setFields([{name:"title",value:f.title},{name:"description",value:f.description},{name:"thumbnail",value:f.thumbnail}]),f.thumbnail&&T(f.thumbnail))})},[n]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(y.A,{form:h,children:(0,e.jsxs)(Q.Z,{gutter:16,children:[(0,e.jsxs)(I.Z,{span:16,children:[(0,e.jsx)(C.Z,{label:"Ti\xEAu \u0111\u1EC1",name:"title",rules:[{required:!0}]}),(0,e.jsx)(A.Z,{label:"M\xF4 t\u1EA3",name:"description",tooltip:"Meta Description"}),(0,e.jsx)(C.Z,{label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",name:"thumbnail"})]}),(0,e.jsx)(I.Z,{span:8,children:(0,e.jsx)(_.Z,{bordered:!0,title:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",headerBordered:!0,children:P?(0,e.jsx)("img",{src:P,className:"w-full object-cover h-48"}):(0,e.jsx)(z.Z,{})})})]})})})},D=w,q=t(90228),S=t.n(q),K=t(87999),V=t.n(K),ee=function(a){return(0,x.request)("block/sort-order",{method:"POST",data:a})},ae=function(a){return(0,x.request)("block/delete/".concat(a),{method:"POST"})},te=function(a){return(0,x.request)("block/add",{method:"POST",data:a})},J=function(a){return(0,x.request)("block/list/".concat(a))},k=function(a){return(0,x.request)("block/".concat(a))},se=function(a){return(0,x.request)("post/get/".concat(a))},R=function(a){return(0,x.request)("block/options")},ve=function(a,n){return(0,x.request)("block/save/".concat(a),{method:"POST",data:n})},oe=t(24706),he=function(a){var n=a.id,c=y.A.useFormInstance();return(0,l.useEffect)(function(){n&&k(n).then(function(r){c.setFields([{name:"type",value:r.type},{name:"value",value:r.value},{name:"className",value:r.className}])})},[n]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(oe.Z,{label:"Lo\u1EA1i",name:"type",options:[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"Paragraph",value:"paragraph"}]}),(0,e.jsx)(A.Z,{label:"N\u1ED9i dung",name:"value"})]})},xe=he,ge=function(a){var n=a.id,c=y.A.useFormInstance();return(0,l.useEffect)(function(){n&&k(n).then(function(r){c.setFields([{name:"introduce",value:r.introduce},{name:"lecturer",value:r.lecturer},{name:"career",value:r.career},{name:"opportunity",value:r.opportunity}])})},[n]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(A.Z,{label:"TH\xD4NG TIN V\u1EC0 NG\xC0NH",name:"introduce"}),(0,e.jsx)(A.Z,{label:"\u0110\u1ED8I NG\u0168 GI\u1EA2NG VI\xCAN",name:"lecturer"}),(0,e.jsx)(A.Z,{label:"C\u01A0 H\u1ED8I VI\u1EC6C L\xC0M",name:"career"}),(0,e.jsx)(A.Z,{label:"C\u01A0 H\u1ED8I PH\xC1T TRI\u1EC2N",name:"opportunity"})]})},pe=ge,je=function(a){var n=a.id,c=y.A.useFormInstance();return(0,l.useEffect)(function(){n&&k(n).then(function(r){c.setFields([{name:"embedUrl",value:r.embedUrl}])})},[n]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(C.Z,{label:"Embed URL",name:"embedUrl",rules:[{required:!0}]})})},ye=je,Pe=function(a){var n=a.id,c=y.A.useFormInstance();return(0,l.useEffect)(function(){n&&k(n).then(function(r){c.setFields([{name:"label",value:r.label},{name:"className",value:r.className}])})},[n]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(C.Z,{label:"Label",name:"label"})})},be=Pe,ue=t(8019),Ee=function(a){var n=a.id,c=y.A.useFormInstance();return(0,l.useEffect)(function(){n&&k(n).then(function(r){c.setFields([{name:"raw",value:r.raw},{name:"className",value:r.className}])})},[n]),(0,e.jsx)(y.A.Item,{name:"raw",label:"N\u1ED9i dung",children:(0,e.jsx)(ue.Z,{name:"raw"})})},Ce=Ee,re=t(21897),ce=t(21577),de=t(19991),me=t(31633),M=t(68110),Se=function(a){var n=a.id,c=(0,l.useState)([]),r=m()(c,2),h=r[0],g=r[1],O=(0,l.useState)([]),P=m()(O,2),T=P[0],f=P[1],F=y.A.useFormInstance();return(0,l.useEffect)(function(){n&&k(n).then(function(i){F.setFields([{name:"label",value:i.label},{name:"className",value:i.className}]),i.logos?g(i.logos):g([])})},[n]),(0,l.useEffect)(function(){f([])},[F]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(C.Z,{name:"logos",hidden:!0}),(0,e.jsxs)("div",{className:"flex gap-4",style:{gap:8,flexWrap:"wrap"},children:[h.map(function(i,d){return(0,e.jsx)("div",{className:"relative",style:{border:"1px solid #d1d1d1",borderRadius:8,marginBottom:8,padding:4},children:(0,e.jsx)(ce.Z.Ribbon,{text:(0,e.jsx)(N.ZP,{onClick:function(){g(h.filter(function(E){return E!==i}))},type:"text",size:"small",style:{color:"white"},children:"X\xF3a"}),children:(0,e.jsx)(de.Z,{src:i,alt:"LOGO",width:90,height:90,style:{borderRadius:8,objectFit:"cover"}})})},d)}),(0,e.jsx)(me.Z,{beforeUpload:function(d){var p=d.type==="image/jpeg"||d.type==="image/png";if(p){var E=new FormData;return E.append("file",d),(0,x.request)("file/upload",{method:"POST",data:E}).then(function(Z){if(!Z.succeeded)return M.ZP.error(Z.message),!1;h.push(Z.url),g(h),F.setFieldValue("logos",h)}),!1}else return M.ZP.error("You can only upload JPG or PNG file!"),!1},listType:"picture-card",fileList:T,onChange:function(d){var p=d.fileList;f([p.pop()])},children:(0,e.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,e.jsx)(re.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})]})]})},Ze=Se,Be=function(a){var n=a.id,c=(0,l.useState)([]),r=m()(c,2),h=r[0],g=r[1],O=(0,l.useState)([]),P=m()(O,2),T=P[0],f=P[1],F=y.A.useFormInstance();return(0,l.useEffect)(function(){n&&k(n).then(function(i){F.setFields([{name:"textContent",value:i.textContent},{name:"images",value:i.images},{name:"className",value:i.className}]),i.images?g(i.images):g([])})},[n]),(0,l.useEffect)(function(){f([])},[F,n]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(C.Z,{name:"images",hidden:!0}),(0,e.jsx)(y.A.Item,{name:"textContent",label:"N\u1ED9i dung",children:(0,e.jsx)(ue.Z,{name:"textContent"})}),(0,e.jsxs)("div",{className:"flex gap-4",style:{gap:8,flexWrap:"wrap"},children:[h.map(function(i,d){return(0,e.jsx)("div",{className:"relative",style:{border:"1px solid #d1d1d1",borderRadius:8,marginBottom:8,padding:4},children:(0,e.jsx)(ce.Z.Ribbon,{text:(0,e.jsx)(N.ZP,{onClick:function(){g(h.filter(function(E){return E!==i}))},type:"text",size:"small",style:{color:"white"},children:"X\xF3a"}),children:(0,e.jsx)(de.Z,{src:i,alt:"LOGO",width:90,height:90,style:{borderRadius:8,objectFit:"cover"}})})},d)}),(0,e.jsx)(me.Z,{beforeUpload:function(d){var p=d.type==="image/jpeg"||d.type==="image/png";if(p){var E=new FormData;return E.append("file",d),(0,x.request)("file/upload",{method:"POST",data:E}).then(function(Z){if(!Z.succeeded)return M.ZP.error(Z.message),!1;h.push(Z.url),g(h),F.setFieldValue("images",h)}),!1}else return M.ZP.error("You can only upload JPG or PNG file!"),!1},listType:"picture-card",fileList:T,onChange:function(d){var p=d.fileList;f([p.pop()])},children:(0,e.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,e.jsx)(re.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})]})]})},ke=Be,Te=t(69838),Fe=t(22717),Ae=t(48486),De=t(10878),fe=t(25283),Oe=t(53739),Ne=t(22757),Me=function(){var a=(0,x.useParams)(),n=a.id,c=(0,l.useState)([]),r=m()(c,2),h=r[0],g=r[1],O=(0,l.useState)(!1),P=m()(O,2),T=P[0],f=P[1],F=(0,l.useState)(!1),i=m()(F,2),d=i[0],p=i[1],E=(0,l.useState)(),Z=m()(E,2),o=Z[0],Y=Z[1],le=(0,l.useRef)(),ne=function(){n&&J(n).then(function(j){g(j.data)})};(0,l.useEffect)(function(){n&&ne()},[n]);var Ue=function(){var B=V()(S()().mark(function j(u){return S()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,ae(u);case 2:M.ZP.success("Deleted!"),ne();case 4:case"end":return s.stop()}},j)}));return function(u){return B.apply(this,arguments)}}(),Ge=function(){var B=V()(S()().mark(function j(u){var b;return S()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return u.postId=n,X.next=3,te(u);case 3:M.ZP.success("Added!"),p(!1),ne(),(b=le.current)===null||b===void 0||b.resetFields();case 7:case"end":return X.stop()}},j)}));return function(u){return B.apply(this,arguments)}}(),He=[{key:"1",label:"Show / Hide"}],ze=function(){var B=V()(S()().mark(function j(u,b){var s;return S()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(u.key!=="1"){W.next=5;break}return W.next=3,se(b);case 3:s=W.sent,s.succeeded&&(M.ZP.success("Actived!"),ne());case 5:case"end":return W.stop()}},j)}));return function(u,b){return B.apply(this,arguments)}}(),Ke=[{title:"#",dataIndex:"sortOrder",className:"drag-visible"},{title:"Lo\u1EA1i",dataIndex:"blockName"},{title:"T\xEAn",dataIndex:"name"},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"T\xE1c v\u1EE5",valueType:"option",render:function(j,u){return[(0,e.jsx)(N.ZP,{size:"small",type:"primary",disabled:u.autoGenerateField,icon:(0,e.jsx)(Te.Z,{}),onClick:function(){var s;Y(u),(s=le.current)===null||s===void 0||s.setFieldValue("id",u.id),f(!0)}},1),(0,e.jsx)(Oe.Z,{title:"Are you sure?",onConfirm:function(){return Ue(u.id)},children:(0,e.jsx)(N.ZP,{size:"small",icon:(0,e.jsx)(Fe.Z,{}),danger:!0,type:"primary"})},4),(0,e.jsx)(Ne.Z,{menu:{items:He,onClick:function(s){return ze(s,u.id)}},children:(0,e.jsx)(N.ZP,{size:"small",icon:(0,e.jsx)(Ae.Z,{}),type:"dashed"})},"more")]}}],Ve=function(j,u,b){ee(b).then(function(s){g(b),M.ZP.success("Saved!")})},We=function(){return o?o.normalizedName==="TextBlock"?(0,e.jsx)(xe,{id:o.id}):o.normalizedName==="MajorGeneralBlock"?(0,e.jsx)(pe,{id:o.id}):o.normalizedName==="VideoBlock"?(0,e.jsx)(ye,{id:o.id}):o.normalizedName==="DividerBlock"?(0,e.jsx)(be,{id:o.id}):o.normalizedName==="TinyMCEBlock"?(0,e.jsx)(Ce,{id:o.id}):o.normalizedName==="SponsorBlock"?(0,e.jsx)(Ze,{id:o.id}):o.normalizedName==="SideGalleryBlock"?(0,e.jsx)(ke,{id:o.id}):(0,e.jsx)(z.Z,{}):(0,e.jsx)(z.Z,{})},$e=function(){var B=V()(S()().mark(function j(u){return S()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o){s.next=2;break}return s.abrupt("return");case 2:return console.log(u),s.next=5,ve(o.id,u);case 5:M.ZP.success("Saved!"),f(!1);case 7:case"end":return s.stop()}},j)}));return function(u){return B.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"mb-2 flex justify-end gap-2",children:(0,e.jsx)(N.ZP,{onClick:function(){return p(!0)},type:"primary",icon:(0,e.jsx)(re.Z,{}),children:(0,e.jsx)("span",{children:"Th\xEAm m\u1EDBi"})},0)}),(0,e.jsx)(De.Z,{search:!1,rowKey:"id",columns:Ke,pagination:!1,dataSource:h,dragSortKey:"sortOrder",onDragSortEnd:Ve}),(0,e.jsxs)(fe.Y,{open:d,title:"Add component",onOpenChange:p,onFinish:Ge,children:[(0,e.jsx)(C.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,e.jsx)(oe.Z,{rules:[{required:!0}],request:R,name:"blockId",label:"Block"})]}),(0,e.jsxs)(fe.Y,{open:T,onOpenChange:f,title:"Block Configuration",onFinish:$e,formRef:le,children:[(0,e.jsx)(C.Z,{name:"id",hidden:!0}),(0,e.jsx)(C.Z,{name:"className",label:"Class Name"}),We()]})]})},Ie=Me,Le=function(){var a=(0,x.useParams)(),n=a.id,c=(0,l.useState)(!1),r=m()(c,2),h=r[0],g=r[1],O=(0,l.useState)(),P=m()(O,2),T=P[0],f=P[1],F=(0,l.useState)("content"),i=m()(F,2),d=i[0],p=i[1],E=function(){n&&(0,H.u)(n).then(function(Y){return f(Y)})};(0,l.useEffect)(function(){E()},[n]);var Z=function(Y){p(Y)};return(0,e.jsx)(L._z,{title:T==null?void 0:T.name,extra:(0,e.jsx)(N.ZP,{icon:(0,e.jsx)($.Z,{}),onClick:function(){return history.back()},children:(0,e.jsx)("span",{children:"Quay l\u1EA1i"})}),children:(0,e.jsxs)(Q.Z,{gutter:16,children:[(0,e.jsx)(I.Z,{span:18,children:(0,e.jsx)(_.Z,{tabs:{tabPosition:"top",activeKey:d,items:[{label:"N\u1ED9i dung",key:"content",children:(0,e.jsx)(Ie,{})},{label:"C\xE0i \u0111\u1EB7t",key:"setting",children:(0,e.jsx)(D,{})}],onChange:Z},className:"mb-4"})}),(0,e.jsx)(I.Z,{span:6,children:(0,e.jsx)(_.Z,{title:"Preview",headerBordered:!0,children:(0,e.jsx)(z.Z,{})})})]})})},Re=Le},63134:function(ie,U,t){t.d(U,{A:function(){return m},u:function(){return H}});var G=t(37090),m=function(L){return(0,G.request)("post/get-list",{params:L})},H=function(L){return(0,G.request)("post/get/".concat(L))}}}]);
