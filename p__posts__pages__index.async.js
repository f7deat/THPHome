"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6230],{86444:function(ie,N,n){var L=n(53939),f=n.n(L),K=n(83134),z=n.n(K),O=n(4870),w=n(46665),g=n(68136),P=n(44949),re=n(58703),R=n(33130),V=function(e){var ee=O.Z.useFormInstance(),W=(0,g.useRef)(null),se=function(){if(W.current){var j;ee.setFieldValue(e.name,(j=W.current)===null||j===void 0?void 0:j.getContent())}};return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(P.M,{onChange:se,onInit:function(j,A){return W.current=A},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(j,A,$){if($.filetype=="file"&&j("mypage.html",{text:"My text"}),$.filetype=="image"){var U=document.createElement("input");U.setAttribute("type","file"),U.setAttribute("accept","image/*"),U.addEventListener("change",function(){var le=z()(f()().mark(function ne(E){var te,Y,J;return f()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return te=E.target.files[0],Y=new FormData,Y.append("file",te),b.next=5,(0,re.request)("file/image/upload",{data:Y,method:"POST"});case 5:J=b.sent,J&&(w.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),j(J.url,{alt:"My alt text"}));case 7:case"end":return b.stop()}},ne)}));return function(ne){return le.apply(this,arguments)}}()),U.click()}$.filetype=="media"&&j("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:ee.getFieldValue(e.name)})})};N.Z=V},70616:function(ie,N,n){n.r(N),n.d(N,{default:function(){return Ne}});var L=n(34827),f=n.n(L),K=n(96338),z=n(70524),O=n(81068),w=n(64235),g=n(58703),P=n(15621),re=n(13762),R=n(2537),V=n(62380),l=n(68136),e=n(33130),ee=function(){return(0,e.jsx)(e.Fragment,{})},W=ee,se=n(53939),x=n.n(se),j=n(83134),A=n.n(j),$=function(a){return(0,g.request)("block/sort-order",{method:"POST",data:a})},U=function(a){return(0,g.request)("block/delete/".concat(a),{method:"POST"})},le=function(a){return(0,g.request)("block/add",{method:"POST",data:a})},ne=function(a){return(0,g.request)("block/list/".concat(a))},E=function(a){return(0,g.request)("block/".concat(a))},te=function(a){return(0,g.request)("post/get/".concat(a))},Y=function(a){return(0,g.request)("block/options")},J=function(a,t){return(0,g.request)("block/save/".concat(a),{method:"POST",data:t})},C=n(41220),b=n(43772),Q=n(91816),de=function(a){var t=a.id,c=C.A.useFormInstance();return(0,l.useEffect)(function(){t&&E(t).then(function(r){c.setFields([{name:"type",value:r.type},{name:"value",value:r.value},{name:"className",value:r.className}])})},[t]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(b.Z,{label:"Lo\u1EA1i",name:"type",options:[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"Paragraph",value:"paragraph"}]}),(0,e.jsx)(Q.Z,{label:"N\u1ED9i dung",name:"value"})]})},me=de,fe=function(a){var t=a.id,c=C.A.useFormInstance();return(0,l.useEffect)(function(){t&&E(t).then(function(r){c.setFields([{name:"introduce",value:r.introduce},{name:"lecturer",value:r.lecturer},{name:"career",value:r.career},{name:"opportunity",value:r.opportunity}])})},[t]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Q.Z,{label:"TH\xD4NG TIN V\u1EC0 NG\xC0NH",name:"introduce"}),(0,e.jsx)(Q.Z,{label:"\u0110\u1ED8I NG\u0168 GI\u1EA2NG VI\xCAN",name:"lecturer"}),(0,e.jsx)(Q.Z,{label:"C\u01A0 H\u1ED8I VI\u1EC6C L\xC0M",name:"career"}),(0,e.jsx)(Q.Z,{label:"C\u01A0 H\u1ED8I PH\xC1T TRI\u1EC2N",name:"opportunity"})]})},ve=fe,G=n(16331),ge=function(a){var t=a.id,c=C.A.useFormInstance();return(0,l.useEffect)(function(){t&&E(t).then(function(r){c.setFields([{name:"embedUrl",value:r.embedUrl}])})},[t]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(G.Z,{label:"Embed URL",name:"embedUrl"})})},he=ge,xe=function(a){var t=a.id,c=C.A.useFormInstance();return(0,l.useEffect)(function(){t&&E(t).then(function(r){c.setFields([{name:"label",value:r.label},{name:"className",value:r.className}])})},[t]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(G.Z,{label:"Label",name:"label"})})},pe=xe,je=n(86444),ye=function(a){var t=a.id,c=C.A.useFormInstance();return(0,l.useEffect)(function(){t&&E(t).then(function(r){c.setFields([{name:"raw",value:r.raw},{name:"className",value:r.className}])})},[t]),(0,e.jsx)(C.A.Item,{name:"raw",label:"N\u1ED9i dung",children:(0,e.jsx)(je.Z,{name:"raw"})})},Pe=ye,ue=n(88821),Ee=n(59342),Ce=n(24657),be=n(18801),F=n(46665),Se=function(a){var t=a.id,c=(0,l.useState)([]),r=f()(c,2),S=r[0],B=r[1],X=(0,l.useState)([]),k=f()(X,2),M=k[0],T=k[1],I=C.A.useFormInstance();return(0,l.useEffect)(function(){t&&E(t).then(function(d){I.setFields([{name:"label",value:d.label},{name:"className",value:d.className}]),d.logos?B(d.logos):B([])})},[t]),(0,l.useEffect)(function(){T([])},[I]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{name:"logos",hidden:!0}),(0,e.jsxs)("div",{className:"flex gap-4",style:{gap:8,flexWrap:"wrap"},children:[S.map(function(d,p){return(0,e.jsx)("div",{className:"relative",style:{border:"1px solid #d1d1d1",borderRadius:8,marginBottom:8,padding:4},children:(0,e.jsx)(Ee.Z.Ribbon,{text:(0,e.jsx)(P.ZP,{onClick:function(){B(S.filter(function(D){return D!==d}))},type:"text",size:"small",style:{color:"white"},children:"X\xF3a"}),children:(0,e.jsx)(Ce.Z,{src:d,alt:"LOGO",width:90,height:90,style:{borderRadius:8,objectFit:"cover"}})})},p)}),(0,e.jsx)(be.Z,{beforeUpload:function(p){var y=p.type==="image/jpeg"||p.type==="image/png";if(y){var D=new FormData;return D.append("file",p),(0,g.request)("file/upload",{method:"POST",data:D}).then(function(Z){if(!Z.succeeded)return F.ZP.error(Z.message),!1;S.push(Z.url),B(S),I.setFieldValue("logos",S)}),!1}else return F.ZP.error("You can only upload JPG or PNG file!"),!1},listType:"picture-card",fileList:M,onChange:function(p){var y=p.fileList;T([y.pop()])},children:(0,e.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,e.jsx)(ue.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})]})]})},Be=Se,ke=n(49799),Te=n(25223),De=n(58169),Ze=n(99894),ce=n(7482),Oe=n(30339),Ae=n(45941),Fe=function(){var a=(0,g.useParams)(),t=a.id,c=(0,l.useState)([]),r=f()(c,2),S=r[0],B=r[1],X=(0,l.useState)(!1),k=f()(X,2),M=k[0],T=k[1],I=(0,l.useState)(!1),d=f()(I,2),p=d[0],y=d[1],D=(0,l.useState)(),Z=f()(D,2),i=Z[0],_=Z[1],oe=(0,l.useRef)(),ae=function(){t&&ne(t).then(function(m){B(m.data)})};(0,l.useEffect)(function(){t&&ae()},[t]);var Le=function(){var h=A()(x()().mark(function m(o){return x()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,U(o);case 2:F.ZP.success("Deleted!"),ae();case 4:case"end":return s.stop()}},m)}));return function(o){return h.apply(this,arguments)}}(),Re=function(){var h=A()(x()().mark(function m(o){var v;return x()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return o.postId=t,q.next=3,le(o);case 3:F.ZP.success("Added!"),y(!1),ae(),(v=oe.current)===null||v===void 0||v.resetFields();case 7:case"end":return q.stop()}},m)}));return function(o){return h.apply(this,arguments)}}(),Ue=[{key:"1",label:"Show / Hide"}],Ge=function(){var h=A()(x()().mark(function m(o,v){var s;return x()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(o.key!=="1"){H.next=5;break}return H.next=3,te(v);case 3:s=H.sent,s.succeeded&&(F.ZP.success("Actived!"),ae());case 5:case"end":return H.stop()}},m)}));return function(o,v){return h.apply(this,arguments)}}(),He=[{title:"#",dataIndex:"sortOrder",className:"drag-visible"},{title:"Lo\u1EA1i",dataIndex:"blockName"},{title:"T\xEAn",dataIndex:"name"},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"T\xE1c v\u1EE5",valueType:"option",render:function(m,o){return[(0,e.jsx)(P.ZP,{size:"small",type:"primary",disabled:o.autoGenerateField,icon:(0,e.jsx)(ke.Z,{}),onClick:function(){var s;_(o),(s=oe.current)===null||s===void 0||s.setFieldValue("id",o.id),T(!0)}},1),(0,e.jsx)(Oe.Z,{title:"Are you sure?",onConfirm:function(){return Le(o.id)},children:(0,e.jsx)(P.ZP,{size:"small",icon:(0,e.jsx)(Te.Z,{}),danger:!0,type:"primary"})},4),(0,e.jsx)(Ae.Z,{menu:{items:Ue,onClick:function(s){return Ge(s,o.id)}},children:(0,e.jsx)(P.ZP,{size:"small",icon:(0,e.jsx)(De.Z,{}),type:"dashed"})},"more")]}}],Ke=function(m,o,v){$(v).then(function(s){B(v),F.ZP.success("Saved!")})},ze=function(){return i?i.normalizedName==="TextBlock"?(0,e.jsx)(me,{id:i.id}):i.normalizedName==="MajorGeneralBlock"?(0,e.jsx)(ve,{id:i.id}):i.normalizedName==="VideoBlock"?(0,e.jsx)(he,{id:i.id}):i.normalizedName==="DividerBlock"?(0,e.jsx)(pe,{id:i.id}):i.normalizedName==="TinyMCEBlock"?(0,e.jsx)(Pe,{id:i.id}):i.normalizedName==="SponsorBlock"?(0,e.jsx)(Be,{id:i.id}):(0,e.jsx)(V.Z,{}):(0,e.jsx)(V.Z,{})},Ve=function(){var h=A()(x()().mark(function m(o){return x()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i){s.next=2;break}return s.abrupt("return");case 2:return console.log(o),s.next=5,J(i.id,o);case 5:F.ZP.success("Saved!"),T(!1);case 7:case"end":return s.stop()}},m)}));return function(o){return h.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"mb-2 flex justify-end gap-2",children:(0,e.jsx)(P.ZP,{onClick:function(){return y(!0)},type:"primary",icon:(0,e.jsx)(ue.Z,{}),children:(0,e.jsx)("span",{children:"Th\xEAm m\u1EDBi"})},0)}),(0,e.jsx)(Ze.Z,{search:!1,rowKey:"id",columns:He,pagination:!1,dataSource:S,dragSortKey:"sortOrder",onDragSortEnd:Ke}),(0,e.jsxs)(ce.Y,{open:p,title:"Add component",onOpenChange:y,onFinish:Re,children:[(0,e.jsx)(G.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,e.jsx)(b.Z,{rules:[{required:!0}],request:Y,name:"blockId",label:"Block"})]}),(0,e.jsxs)(ce.Y,{open:M,onOpenChange:T,title:"Block Configuration",onFinish:Ve,formRef:oe,children:[(0,e.jsx)(G.Z,{name:"id",hidden:!0}),(0,e.jsx)(G.Z,{name:"className",label:"Class Name"}),ze()]})]})},Me=Fe,Ie=function(){var a=(0,g.useParams)(),t=a.id,c=(0,l.useState)(!1),r=f()(c,2),S=r[0],B=r[1],X=(0,l.useState)(),k=f()(X,2),M=k[0],T=k[1],I=(0,l.useState)("content"),d=f()(I,2),p=d[0],y=d[1],D=function(){t&&(0,K.u)(t).then(function(_){return T(_)})};(0,l.useEffect)(function(){D()},[t]);var Z=function(_){y(_)};return(0,e.jsx)(O._z,{title:M==null?void 0:M.name,extra:(0,e.jsx)(P.ZP,{icon:(0,e.jsx)(z.Z,{}),onClick:function(){return history.back()},children:(0,e.jsx)("span",{children:"Quay l\u1EA1i"})}),children:(0,e.jsxs)(re.Z,{gutter:16,children:[(0,e.jsx)(R.Z,{span:18,children:(0,e.jsx)(w.Z,{tabs:{tabPosition:"top",activeKey:p,items:[{label:"N\u1ED9i dung",key:"content",children:(0,e.jsx)(Me,{})},{label:"C\xE0i \u0111\u1EB7t",key:"setting",children:(0,e.jsx)(W,{})}],onChange:Z},className:"mb-4"})}),(0,e.jsx)(R.Z,{span:6,children:(0,e.jsx)(w.Z,{title:"Preview",children:(0,e.jsx)(V.Z,{})})})]})})},Ne=Ie},96338:function(ie,N,n){n.d(N,{A:function(){return f},u:function(){return K}});var L=n(58703),f=function(O){return(0,L.request)("post/get-list",{params:O})},K=function(O){return(0,L.request)("post/get/".concat(O))}}}]);
