"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6230],{52554:function(Q,B,t){t.r(B),t.d(B,{default:function(){return ge}});var T=t(34827),l=t.n(T),E=t(96338),F=t(70524),x=t(81068),b=t(64235),f=t(58703),g=t(15621),U=t(13762),L=t(2537),I=t(62380),c=t(68136),e=t(33130),V=function(){return(0,e.jsx)(e.Fragment,{})},W=V,J=t(53939),v=t.n(J),X=t(83134),N=t.n(X),q=function(){return(0,e.jsx)(e.Fragment,{})},w=q,_=function(r){return(0,f.request)("post/get-list",{params:r})},ee=function(r,o){return(0,f.request)("post/get-list",{params:r})},te=function(r){return(0,f.request)("block/add",{method:"POST",data:r})},ne=function(r){return(0,f.request)("block/list/".concat(r))},re=function(r){return(0,f.request)("post/get/".concat(r))},ae=function(r){return(0,f.request)("block/options")},se=t(49799),oe=t(25223),ue=t(58169),ie=t(88821),le=t(99894),Y=t(7482),ce=t(16331),de=t(43772),y=t(46665),fe=t(30339),ve=t(45941),me=function(){var r=(0,f.useParams)(),o=r.id,M=(0,c.useState)([]),S=l()(M,2),H=S[0],z=S[1],K=(0,c.useState)(!1),j=l()(K,2),p=j[0],A=j[1],G=(0,c.useState)(!1),P=l()(G,2),R=P[0],C=P[1],$=(0,c.useState)(),O=l()($,2),Z=O[0],k=O[1],D=function(){o&&ne(o).then(function(a){z(a.data)})};(0,c.useEffect)(function(){o&&D()},[o]);var ye=function(){var u=N()(v()().mark(function a(n){var s;return v()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,ee(n,o);case 2:s=m.sent,s.succeeded?(y.ZP.success("Deleted!"),D()):y.ZP.error(s.errors[0].description);case 4:case"end":return m.stop()}},a)}));return function(n){return u.apply(this,arguments)}}(),Se=function(){var u=N()(v()().mark(function a(n){return v()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n.postId=o,i.next=3,te(n);case 3:y.ZP.success("Added!"),C(!1),D();case 6:case"end":return i.stop()}},a)}));return function(n){return u.apply(this,arguments)}}(),je=[{key:"1",label:"Show / Hide"}],pe=function(){var u=N()(v()().mark(function a(n,s){var i;return v()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(n.key!=="1"){h.next=5;break}return h.next=3,re(s);case 3:i=h.sent,i.succeeded&&(y.ZP.success("Actived!"),D());case 5:case"end":return h.stop()}},a)}));return function(n,s){return u.apply(this,arguments)}}(),Pe=[{title:"#",dataIndex:"sort",className:"drag-visible"},{title:"Block",dataIndex:"blockName"},{title:"T\xEAn",dataIndex:"name"},{title:"Status",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"Action",valueType:"option",render:function(a,n){return[(0,e.jsx)(g.ZP,{size:"small",type:"primary",disabled:n.autoGenerateField,icon:(0,e.jsx)(se.Z,{}),onClick:function(){k(n),A(!0)}},1),(0,e.jsx)(fe.Z,{title:"Are you sure?",onConfirm:function(){return ye(n.id)},children:(0,e.jsx)(g.ZP,{size:"small",icon:(0,e.jsx)(oe.Z,{}),danger:!0,type:"primary"})},4),(0,e.jsx)(ve.Z,{menu:{items:je,onClick:function(i){return pe(i,n.id)}},children:(0,e.jsx)(g.ZP,{size:"small",icon:(0,e.jsx)(ue.Z,{}),type:"dashed"})},"more")]}}],Ce=function(a){var n=a.map(function(s){return s.id||""});_(n).then(function(s){s.succeeded&&(z(a),y.ZP.success("Saved!"))})},Ze=function(){return Z?Z.normalizedName==="Text"?(0,e.jsx)(w,{}):(0,e.jsx)(I.Z,{}):(0,e.jsx)(I.Z,{})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"mb-2 flex justify-end gap-2",children:(0,e.jsx)(g.ZP,{onClick:function(){return C(!0)},type:"primary",icon:(0,e.jsx)(ie.Z,{}),children:(0,e.jsx)("span",{children:"Th\xEAm m\u1EDBi"})},0)}),(0,e.jsx)(le.Z,{search:!1,rowKey:"id",columns:Pe,pagination:!1,dataSource:H,dragSortKey:"sort",onDragSortEnd:Ce}),(0,e.jsxs)(Y.Y,{open:R,title:"Add component",onOpenChange:C,onFinish:Se,children:[(0,e.jsx)(ce.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,e.jsx)(de.Z,{rules:[{required:!0}],request:ae,name:"blockId",label:"Block"})]}),(0,e.jsx)(Y.Y,{open:p,onOpenChange:A,title:"Block Configuration",children:Ze()})]})},he=me,xe=function(){var r=(0,f.useParams)(),o=r.id,M=(0,c.useState)(!1),S=l()(M,2),H=S[0],z=S[1],K=(0,c.useState)(),j=l()(K,2),p=j[0],A=j[1],G=(0,c.useState)("content"),P=l()(G,2),R=P[0],C=P[1],$=function(){o&&(0,E.u)(o).then(function(k){return A(k)})};(0,c.useEffect)(function(){$()},[o]);var O=function(k){C(k)};return(0,e.jsx)(x._z,{title:p==null?void 0:p.name,extra:(0,e.jsx)(g.ZP,{icon:(0,e.jsx)(F.Z,{}),onClick:function(){return history.back()},children:(0,e.jsx)("span",{children:"Quay l\u1EA1i"})}),children:(0,e.jsxs)(U.Z,{gutter:16,children:[(0,e.jsx)(L.Z,{span:18,children:(0,e.jsx)(b.Z,{tabs:{tabPosition:"top",activeKey:R,items:[{label:"N\u1ED9i dung",key:"content",children:(0,e.jsx)(he,{})},{label:"C\xE0i \u0111\u1EB7t",key:"setting",children:(0,e.jsx)(W,{})}],onChange:O},className:"mb-4"})}),(0,e.jsx)(L.Z,{span:6,children:(0,e.jsx)(b.Z,{title:"Preview",children:(0,e.jsx)(I.Z,{})})})]})})},ge=xe},96338:function(Q,B,t){t.d(B,{A:function(){return l},u:function(){return E}});var T=t(58703),l=function(x){return(0,T.request)("post/get-list",{params:x})},E=function(x){return(0,T.request)("post/get/".concat(x))}}}]);
