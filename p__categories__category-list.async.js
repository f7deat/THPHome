"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3659],{26637:function(W,C,a){a.r(C),a.d(C,{default:function(){return de}});var p=a(78095),o=a.n(p),P=a(34827),r=a.n(P),c=a(10483),g=a(24991),l=a(46665),y=a(96216),v=a(41605),u=a(15621),B=a(30339),X=a(78491),$=a(18186),N=a(4870),b=a(13762),A=a(2537),w=a(62380),k=a(28791),d=a(68136),q=a(22200),I=a(49799),L=a(25223),_=a(88821),ee=a(52643),ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},te=ne,ae=a(91471),se=function(O,S){return d.createElement(ae.Z,(0,ee.Z)({},O,{ref:S,icon:te}))},ie=d.forwardRef(se),re=a(54619),m=a(58703),oe=a(81068),z=a(60096),M=a(26805),e=a(33130),le=c.Z.TextArea,F=g.Z.Option,ue=function(){var O=(0,d.useState)([]),S=r()(O,2),x=S[0],he=S[1],ve=(0,d.useState)(!1),D=r()(ve,2),E=D[0],H=D[1],me=(0,d.useState)(),K=r()(me,2),fe=K[0],ge=K[1],xe=(0,d.useState)(!1),V=r()(xe,2),je=V[0],j=V[1],Ze=(0,d.useState)(0),Y=r()(Ze,2),f=Y[0],R=Y[1],Ce=(0,d.useState)(),G=r()(Ce,2),t=G[0],h=G[1],ye=(0,d.useState)(!1),J=r()(ye,2),Q=J[0],T=J[1],U=(0,m.useIntl)(),Z=function(n){(0,m.request)("category/get-list/".concat(n,"?language=").concat((0,M.dK)(U.locale))).then(function(i){he(i)})};(0,d.useEffect)(function(){Z(f)},[f]);function Se(s){h(s),(0,m.request)("post/get-in-category/".concat(s.id)).then(function(n){ge(n),H(!E)})}function Pe(s){(0,m.request)("category/update",{data:s,method:"POST"}).then(function(n){l.ZP.success(n.message),Z(f),j(!1)})}var Oe=function(){t.language=(0,M.dK)(U.locale),t.isDisplayOnHome=Q,t.id?Pe(t):(0,m.request)("category/add",{method:"POST",data:t}).then(function(n){n.succeeded?(l.ZP.success(n.message),Z(f),j(!1)):l.ZP.error(n.message)})},Ee=function(){T(!1),j(!0),h({})},Te=function(n){T(n.isDisplayOnHome),h(n),j(!0)};function pe(s){(0,m.request)("category/delete/".concat(s),{method:"POST"}).then(function(n){n.succeeded?(Z(0),l.ZP.success("Success!")):l.ZP.error(n.message)})}function Be(s,n){(0,m.request)("category/remove-post",{method:"POST",data:{categoryId:s,postId:n}}).then(function(i){i.succeeded&&l.ZP.success("succeeded!")})}function Ne(s,n){n?s.status=1:s.status=0,(0,m.request)("category/active",{method:"POST",data:s}).then(function(i){l.ZP.success(i.message),Z(f)})}var Ae=[{title:"Id",dataIndex:"id",search:!1},{title:"T\xEAn danh m\u1EE5c",render:function(n){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{onClick:function(){return R(n.id)},className:"font-bold cursor-pointer",children:n.name}),(0,e.jsx)("div",{className:"text-gray-500",children:n.description})]})}},{title:"Normalized Name",dataIndex:"normalizeName"},{title:"Status",render:function(n){return(0,e.jsx)(y.Z,{size:"small",defaultChecked:n.status===1,onChange:function(ze){return Ne(n,ze)}})}},{title:"",valueType:"option",render:function(n){return(0,e.jsxs)(v.Z,{children:[(0,e.jsx)(u.ZP,{type:"primary",size:"small",icon:(0,e.jsx)(q.Z,{}),onClick:function(){return Se(n)}}),(0,e.jsx)(u.ZP,{size:"small",icon:(0,e.jsx)(I.Z,{}),onClick:function(){return Te(n)}}),(0,e.jsx)(B.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return pe(n.id)},children:(0,e.jsx)(u.ZP,{type:"primary",size:"small",danger:!0,icon:(0,e.jsx)(L.Z,{})})})]})}}],Ie=[{title:"Id",dataIndex:"id"},{title:"Title",dataIndex:"title"},{title:"",render:function(n){return(0,e.jsxs)(v.Z,{children:[(0,e.jsx)(u.ZP,{type:"primary",icon:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(B.Z,{title:"Are you sure to delete from this category?",okText:"Yes",cancelText:"No",onConfirm:function(){return Be(f,n.id)},children:(0,e.jsx)(u.ZP,{type:"primary",danger:!0,icon:(0,e.jsx)(L.Z,{})})})]})}}];function Le(s){h(function(n){return o()(o()({},n),{},{parrentId:s})})}return(0,e.jsxs)(oe._z,{extra:(0,e.jsxs)(v.Z,{className:"mb-2",children:[(0,e.jsx)(u.ZP,{type:"primary",icon:(0,e.jsx)(_.Z,{}),onClick:Ee,children:"T\u1EA1o m\u1EDBi"}),(0,e.jsx)(u.ZP,{icon:(0,e.jsx)(ie,{}),onClick:function(){return R(0)},hidden:f===0,children:"Back"})]}),children:[(0,e.jsx)(z.Z,{search:{layout:"vertical"},dataSource:x,columns:Ae,rowKey:"id",rowSelection:{}}),(0,e.jsxs)(X.Z,{title:t==null?void 0:t.name,placement:"right",closable:!1,onClose:function(){return H(!E)},visible:E,width:960,children:[(0,e.jsxs)(v.Z,{className:"mb-3",children:[(0,e.jsx)(c.Z,{}),(0,e.jsx)(u.ZP,{type:"primary",icon:(0,e.jsx)(re.Z,{})})]}),(0,e.jsx)(z.Z,{dataSource:fe,columns:Ie,rowSelection:{},rowKey:"id"})]}),(0,e.jsx)($.Z,{title:(t==null?void 0:t.name)||"New Category",visible:je,onOk:Oe,onCancel:function(){return j(!1)},width:600,children:(0,e.jsx)(N.Z,{layout:"vertical",children:(0,e.jsxs)(b.Z,{gutter:16,children:[(0,e.jsxs)(A.Z,{span:12,children:[(0,e.jsx)("div",{children:"T\xEAn danh m\u1EE5c:"}),(0,e.jsx)(c.Z,{className:"mb-2",value:t==null?void 0:t.name,onChange:function(n){return h(function(i){return o()(o()({},i),{},{name:n.target.value})})}}),(0,e.jsx)("div",{children:"Icon:"}),(0,e.jsx)(c.Z,{className:"mb-2",value:t==null?void 0:t.icon,onChange:function(n){return h(function(i){return o()(o()({},i),{},{icon:n.target.value})})}}),(0,e.jsx)(N.Z.Item,{label:"Normalize Name",tooltip:"D\xF9ng l\xE0m key cho \u0111a ng\xF4n ng\u1EEF",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp!"}],children:(0,e.jsx)(c.Z,{className:"mb-2",value:t==null?void 0:t.url,onChange:function(n){return h(function(i){return o()(o()({},i),{},{normalizeName:n.target.value})})}})}),(0,e.jsx)("div",{children:"Danh m\u1EE5c cha:"}),(0,e.jsxs)(g.Z,{showSearch:!0,placeholder:"Select category",optionFilterProp:"children",onChange:Le,className:"w-full mb-2",value:t==null?void 0:t.parrentId,allowClear:!0,children:[(0,e.jsx)(F,{value:-1,children:"Tr\u1ED1ng"},-1),x&&(x==null?void 0:x.map(function(s){return(0,e.jsx)(F,{value:s.id,children:s.name},s.id)}))]}),(0,e.jsx)("div",{children:"M\xF4 t\u1EA3:"}),(0,e.jsx)(le,{className:"mb-2",value:t==null?void 0:t.description,onChange:function(n){return h(function(i){return o()(o()({},i),{},{description:n.target.value})})}})]}),(0,e.jsxs)(A.Z,{span:12,children:[(0,e.jsx)("div",{children:"Thumbnail:"}),(0,e.jsx)(c.Z,{className:"mb-2",value:t==null?void 0:t.thumbnail,onChange:function(n){return h(function(i){return o()(o()({},i),{},{thumbnail:n.target.value})})}}),t!=null&&t.thumbnail?(0,e.jsx)("img",{src:t==null?void 0:t.thumbnail,alt:t==null?void 0:t.name,className:"w-full object-fit-cover",height:138}):(0,e.jsx)(w.Z,{}),(0,e.jsx)("div",{children:(0,e.jsx)(k.Z,{onChange:function(n){return T(n.target.checked)},checked:Q,children:"Hi\u1EC3n th\u1ECB tr\xEAn trang ch\u1EE7"})})]})]})})})]})},de=ue},26805:function(W,C,a){a.d(C,{dK:function(){return o},gB:function(){return P}});function p(r){return r.trim()}function o(r){return r?r==="vi-VN"?1:2:1}function P(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=c?1e3:1024;if(Math.abs(r)<l)return r+" B";var y=c?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],v=-1,u=Math.pow(10,g);do r/=l,++v;while(Math.round(Math.abs(r)*u)/u>=l&&v<y.length-1);return r.toFixed(g)+" "+y[v]}}}]);
