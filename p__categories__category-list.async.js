"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3659],{47781:function(U,C,a){a.r(C),a.d(C,{default:function(){return ue}});var B=a(26068),o=a.n(B),P=a(48305),r=a.n(P),c=a(76477),g=a(95845),l=a(68110),y=a(1904),v=a(14292),u=a(55641),p=a(53739),W=a(29690),X=a(47686),A=a(16941),$=a(69534),N=a(97146),w=a(58925),b=a(43772),d=a(93236),k=a(35411),I=a(69838),L=a(22717),q=a(21897),_=a(48063),ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},te=ee,ne=a(38782),ae=function(T,S){return d.createElement(ne.Z,(0,_.Z)({},T,{ref:S,icon:te}))},se=d.forwardRef(ae),ie=a(61020),f=a(37090),re=a(77097),M=a(98365),z=a(42389),e=a(62086),oe=c.Z.TextArea,F=g.Z.Option,le=function(){var T=(0,d.useState)([]),S=r()(T,2),x=S[0],ce=S[1],he=(0,d.useState)(!1),D=r()(he,2),E=D[0],H=D[1],ve=(0,d.useState)(),K=r()(ve,2),fe=K[0],me=K[1],ge=(0,d.useState)(!1),V=r()(ge,2),xe=V[0],j=V[1],je=(0,d.useState)(0),Y=r()(je,2),m=Y[0],Ze=Y[1],Ce=(0,d.useState)(),R=r()(Ce,2),n=R[0],h=R[1],ye=(0,d.useState)(!1),G=r()(ye,2),Q=G[0],O=G[1],J=(0,f.useIntl)(),Z=function(t){(0,f.request)("category/get-list/".concat(t,"?language=").concat((0,z.dK)(J.locale))).then(function(i){ce(i)})};(0,d.useEffect)(function(){Z(m)},[m]);function Se(s){h(s),(0,f.request)("post/get-in-category/".concat(s.id)).then(function(t){me(t),H(!E)})}function Pe(s){(0,f.request)("category/update",{data:s,method:"POST"}).then(function(t){l.ZP.success(t.message),Z(m),j(!1)})}var Te=function(){n.language=(0,z.dK)(J.locale),n.isDisplayOnHome=Q,n.id?Pe(n):(0,f.request)("category/add",{method:"POST",data:n}).then(function(t){t.succeeded?(l.ZP.success(t.message),Z(m),j(!1)):l.ZP.error(t.message)})},Ee=function(){O(!1),j(!0),h({})},Oe=function(t){O(t.isDisplayOnHome),h(t),j(!0)};function Be(s){(0,f.request)("category/delete/".concat(s),{method:"POST"}).then(function(t){t.succeeded?(Z(0),l.ZP.success("Success!")):l.ZP.error(t.message)})}function pe(s,t){(0,f.request)("category/remove-post",{method:"POST",data:{categoryId:s,postId:t}}).then(function(i){i.succeeded&&l.ZP.success("succeeded!")})}function Ae(s,t){t?s.status=1:s.status=0,(0,f.request)("category/active",{method:"POST",data:s}).then(function(i){l.ZP.success(i.message),Z(m)})}var Ne=[{title:"#",valueType:"indexBorder",width:50},{title:"T\xEAn danh m\u1EE5c",dataIndex:"name"},{title:"Tr\u1EA1ng th\xE1i",render:function(t){return(0,e.jsx)(y.Z,{size:"small",defaultChecked:t.status===1,onChange:function(Me){return Ae(t,Me)}})},width:100,align:"center"},{title:"T\xE1c v\u1EE5",valueType:"option",render:function(t){return(0,e.jsxs)(v.Z,{children:[(0,e.jsx)(u.ZP,{type:"primary",size:"small",icon:(0,e.jsx)(k.Z,{}),onClick:function(){return Se(t)}}),(0,e.jsx)(u.ZP,{size:"small",icon:(0,e.jsx)(I.Z,{}),onClick:function(){return Oe(t)}}),(0,e.jsx)(p.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return Be(t.id)},children:(0,e.jsx)(u.ZP,{type:"primary",size:"small",danger:!0,icon:(0,e.jsx)(L.Z,{})})})]})},width:100}],Ie=[{title:"Id",dataIndex:"id"},{title:"Title",dataIndex:"title"},{title:"",render:function(t){return(0,e.jsxs)(v.Z,{children:[(0,e.jsx)(u.ZP,{type:"primary",icon:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(p.Z,{title:"Are you sure to delete from this category?",okText:"Yes",cancelText:"No",onConfirm:function(){return pe(m,t.id)},children:(0,e.jsx)(u.ZP,{type:"primary",danger:!0,icon:(0,e.jsx)(L.Z,{})})})]})}}];function Le(s){h(function(t){return o()(o()({},t),{},{parrentId:s})})}return(0,e.jsxs)(re._z,{extra:(0,e.jsxs)(v.Z,{className:"mb-2",children:[(0,e.jsx)(u.ZP,{type:"primary",icon:(0,e.jsx)(q.Z,{}),onClick:Ee,children:"T\u1EA1o m\u1EDBi"}),(0,e.jsx)(u.ZP,{icon:(0,e.jsx)(se,{}),onClick:function(){return Ze(0)},hidden:m===0,children:"Quay l\u1EA1i"})]}),children:[(0,e.jsx)(M.Z,{search:{layout:"vertical"},dataSource:x,columns:Ne,rowKey:"id"}),(0,e.jsxs)(W.Z,{title:n==null?void 0:n.name,placement:"right",closable:!1,onClose:function(){return H(!E)},visible:E,width:960,children:[(0,e.jsxs)(v.Z,{className:"mb-3",children:[(0,e.jsx)(c.Z,{}),(0,e.jsx)(u.ZP,{type:"primary",icon:(0,e.jsx)(ie.Z,{})})]}),(0,e.jsx)(M.Z,{dataSource:fe,columns:Ie,rowSelection:{},rowKey:"id"})]}),(0,e.jsx)(X.Z,{title:(n==null?void 0:n.name)||"New Category",visible:xe,onOk:Te,onCancel:function(){return j(!1)},width:600,children:(0,e.jsx)(A.Z,{layout:"vertical",children:(0,e.jsxs)($.Z,{gutter:16,children:[(0,e.jsxs)(N.Z,{span:12,children:[(0,e.jsx)("div",{children:"T\xEAn danh m\u1EE5c:"}),(0,e.jsx)(c.Z,{className:"mb-2",value:n==null?void 0:n.name,onChange:function(t){return h(function(i){return o()(o()({},i),{},{name:t.target.value})})}}),(0,e.jsx)("div",{children:"Icon:"}),(0,e.jsx)(c.Z,{className:"mb-2",value:n==null?void 0:n.icon,onChange:function(t){return h(function(i){return o()(o()({},i),{},{icon:t.target.value})})}}),(0,e.jsx)(A.Z.Item,{label:"Normalize Name",tooltip:"D\xF9ng l\xE0m key cho \u0111a ng\xF4n ng\u1EEF",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp!"}],children:(0,e.jsx)(c.Z,{className:"mb-2",value:n==null?void 0:n.url,onChange:function(t){return h(function(i){return o()(o()({},i),{},{normalizeName:t.target.value})})}})}),(0,e.jsx)("div",{children:"Danh m\u1EE5c cha:"}),(0,e.jsxs)(g.Z,{showSearch:!0,placeholder:"Select category",optionFilterProp:"children",onChange:Le,className:"w-full mb-2",value:n==null?void 0:n.parrentId,allowClear:!0,children:[(0,e.jsx)(F,{value:-1,children:"Tr\u1ED1ng"},-1),x&&(x==null?void 0:x.map(function(s){return(0,e.jsx)(F,{value:s.id,children:s.name},s.id)}))]}),(0,e.jsx)("div",{children:"M\xF4 t\u1EA3:"}),(0,e.jsx)(oe,{className:"mb-2",value:n==null?void 0:n.description,onChange:function(t){return h(function(i){return o()(o()({},i),{},{description:t.target.value})})}})]}),(0,e.jsxs)(N.Z,{span:12,children:[(0,e.jsx)("div",{children:"Thumbnail:"}),(0,e.jsx)(c.Z,{className:"mb-2",value:n==null?void 0:n.thumbnail,onChange:function(t){return h(function(i){return o()(o()({},i),{},{thumbnail:t.target.value})})}}),n!=null&&n.thumbnail?(0,e.jsx)("img",{src:n==null?void 0:n.thumbnail,alt:n==null?void 0:n.name,className:"w-full object-fit-cover",height:138}):(0,e.jsx)(w.Z,{}),(0,e.jsx)("div",{children:(0,e.jsx)(b.Z,{onChange:function(t){return O(t.target.checked)},checked:Q,children:"Hi\u1EC3n th\u1ECB tr\xEAn trang ch\u1EE7"})})]})]})})})]})},ue=le},42389:function(U,C,a){a.d(C,{dK:function(){return o},gB:function(){return P}});function B(r){return r.trim()}function o(r){return r?r==="vi-VN"?1:2:1}function P(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=c?1e3:1024;if(Math.abs(r)<l)return r+" B";var y=c?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],v=-1,u=Math.pow(10,g);do r/=l,++v;while(Math.round(Math.abs(r)*u)/u>=l&&v<y.length-1);return r.toFixed(g)+" "+y[v]}}}]);
