"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3659],{69057:function(V,C,s){s.r(C);var D=s(26068),i=s.n(D),E=s(48305),_=s.n(E),h=s(76477),j=s(95845),c=s(68110),Y=s(1904),g=s(14292),r=s(55641),M=s(53739),G=s(29690),J=s(47686),T=s(16941),Q=s(69534),Z=s(97146),X=s(58925),$=s(43772),d=s(93236),k=s(35411),I=s(69838),A=s(22717),w=s(21897),q=s(45253),ee=s(61020),u=s(37090),ne=s(77097),y=s(21982),S=s(42389),e=s(62086),te=h.Z.TextArea,L=j.Z.Option,ae=function(){var se=(0,d.useState)([]),U=_()(se,2),v=U[0],oe=U[1],ie=(0,d.useState)(!1),B=_()(ie,2),O=B[0],p=B[1],le=(0,d.useState)(),K=_()(le,2),re=K[0],de=K[1],ue=(0,d.useState)(!1),R=_()(ue,2),_e=R[0],P=R[1],ce=(0,d.useState)(0),W=_()(ce,2),m=W[0],N=W[1],me=(0,d.useState)(),b=_()(me,2),t=b[0],l=b[1],Ee=(0,d.useState)(!1),H=_()(Ee,2),z=H[0],x=H[1],F=(0,u.useIntl)(),f=function(n){(0,u.request)("category/get-list/".concat(n,"?language=").concat((0,S.d)(F.locale))).then(function(o){oe(o)})};(0,d.useEffect)(function(){f(m)},[m]);function he(a){l(a),(0,u.request)("post/get-in-category/".concat(a.id)).then(function(n){de(n),p(!O)})}function ve(a){(0,u.request)("category/update",{data:a,method:"POST"}).then(function(n){c.ZP.success(n.message),f(m),P(!1)})}var Pe=function(){t.language=(0,S.d)(F.locale),t.isDisplayOnHome=z,t.id?ve(t):(0,u.request)("category/add",{method:"POST",data:t}).then(function(n){n.succeeded?(c.ZP.success(n.message),f(m),P(!1)):c.ZP.error(n.message)})},fe=function(){x(!1),P(!0),l({})},Ce=function(n){x(n.isDisplayOnHome),l(n),P(!0)};function ge(a){(0,u.request)("category/delete/".concat(a),{method:"POST"}).then(function(n){n.succeeded?(f(0),c.ZP.success("Success!")):c.ZP.error(n.message)})}function Oe(a,n){(0,u.request)("category/remove-post",{method:"POST",data:{categoryId:a,postId:n}}).then(function(o){o.succeeded&&c.ZP.success("succeeded!")})}function xe(a,n){n?a.status=1:a.status=0,(0,u.request)("category/active",{method:"POST",data:a}).then(function(o){c.ZP.success(o.message),f(m)})}var De=[{title:"Id",dataIndex:"id"},{title:"T\xEAn danh m\u1EE5c",render:function(n){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{onClick:function(){return N(n.id)},className:"font-bold cursor-pointer",children:n.name}),(0,e.jsx)("div",{className:"text-gray-500",children:n.description})]})}},{title:"Normalized Name",dataIndex:"normalizeName"},{title:"Status",render:function(n){return(0,e.jsx)(Y.Z,{size:"small",defaultChecked:n.status===1,onChange:function(Te){return xe(n,Te)}})}},{title:"",render:function(n){return(0,e.jsxs)(g.Z,{children:[(0,e.jsx)(r.ZP,{type:"primary",size:"small",icon:(0,e.jsx)(k.Z,{}),onClick:function(){return he(n)}}),(0,e.jsx)(r.ZP,{size:"small",icon:(0,e.jsx)(I.Z,{}),onClick:function(){return Ce(n)}}),(0,e.jsx)(M.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return ge(n.id)},children:(0,e.jsx)(r.ZP,{type:"primary",size:"small",danger:!0,icon:(0,e.jsx)(A.Z,{})})})]})}}],je=[{title:"Id",dataIndex:"id"},{title:"Title",dataIndex:"title"},{title:"",render:function(n){return(0,e.jsxs)(g.Z,{children:[(0,e.jsx)(r.ZP,{type:"primary",icon:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(M.Z,{title:"Are you sure to delete from this category?",okText:"Yes",cancelText:"No",onConfirm:function(){return Oe(m,n.id)},children:(0,e.jsx)(r.ZP,{type:"primary",danger:!0,icon:(0,e.jsx)(A.Z,{})})})]})}}];function Me(a){l(function(n){return i()(i()({},n),{},{parrentId:a})})}return(0,e.jsxs)(ne._z,{extra:(0,e.jsxs)(g.Z,{className:"mb-2",children:[(0,e.jsx)(r.ZP,{type:"primary",icon:(0,e.jsx)(w.Z,{}),onClick:fe,children:"T\u1EA1o m\u1EDBi"}),(0,e.jsx)(r.ZP,{icon:(0,e.jsx)(q.Z,{}),onClick:function(){return N(0)},hidden:m===0,children:"Back"})]}),children:[(0,e.jsx)(y.Z,{search:{layout:"vertical"},dataSource:v,columns:De,rowKey:"id",rowSelection:{}}),(0,e.jsxs)(G.Z,{title:t==null?void 0:t.name,placement:"right",closable:!1,onClose:function(){return p(!O)},visible:O,width:960,children:[(0,e.jsxs)(g.Z,{className:"mb-3",children:[(0,e.jsx)(h.Z,{}),(0,e.jsx)(r.ZP,{type:"primary",icon:(0,e.jsx)(ee.Z,{})})]}),(0,e.jsx)(y.Z,{dataSource:re,columns:je,rowSelection:{},rowKey:"id"})]}),(0,e.jsx)(J.Z,{title:(t==null?void 0:t.name)||"New Category",visible:_e,onOk:Pe,onCancel:function(){return P(!1)},width:600,children:(0,e.jsx)(T.Z,{layout:"vertical",children:(0,e.jsxs)(Q.Z,{gutter:16,children:[(0,e.jsxs)(Z.Z,{span:12,children:[(0,e.jsx)("div",{children:"T\xEAn danh m\u1EE5c:"}),(0,e.jsx)(h.Z,{className:"mb-2",value:t==null?void 0:t.name,onChange:function(n){return l(function(o){return i()(i()({},o),{},{name:n.target.value})})}}),(0,e.jsx)("div",{children:"Icon:"}),(0,e.jsx)(h.Z,{className:"mb-2",value:t==null?void 0:t.icon,onChange:function(n){return l(function(o){return i()(i()({},o),{},{icon:n.target.value})})}}),(0,e.jsx)(T.Z.Item,{label:"Normalize Name",tooltip:"D\xF9ng l\xE0m key cho \u0111a ng\xF4n ng\u1EEF",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp!"}],children:(0,e.jsx)(h.Z,{className:"mb-2",value:t==null?void 0:t.url,onChange:function(n){return l(function(o){return i()(i()({},o),{},{normalizeName:n.target.value})})}})}),(0,e.jsx)("div",{children:"Danh m\u1EE5c cha:"}),(0,e.jsxs)(j.Z,{showSearch:!0,placeholder:"Select category",optionFilterProp:"children",onChange:Me,className:"w-full mb-2",value:t==null?void 0:t.parrentId,allowClear:!0,children:[(0,e.jsx)(L,{value:-1,children:"Tr\u1ED1ng"},-1),v&&(v==null?void 0:v.map(function(a){return(0,e.jsx)(L,{value:a.id,children:a.name},a.id)}))]}),(0,e.jsx)("div",{children:"M\xF4 t\u1EA3:"}),(0,e.jsx)(te,{className:"mb-2",value:t==null?void 0:t.description,onChange:function(n){return l(function(o){return i()(i()({},o),{},{description:n.target.value})})}})]}),(0,e.jsxs)(Z.Z,{span:12,children:[(0,e.jsx)("div",{children:"Thumbnail:"}),(0,e.jsx)(h.Z,{className:"mb-2",value:t==null?void 0:t.thumbnail,onChange:function(n){return l(function(o){return i()(i()({},o),{},{thumbnail:n.target.value})})}}),t!=null&&t.thumbnail?(0,e.jsx)("img",{src:t==null?void 0:t.thumbnail,alt:t==null?void 0:t.name,className:"w-full object-fit-cover",height:138}):(0,e.jsx)(X.Z,{}),(0,e.jsx)("div",{children:(0,e.jsx)($.Z,{onChange:function(n){return x(n.target.checked)},checked:z,children:"Hi\u1EC3n th\u1ECB tr\xEAn trang ch\u1EE7"})})]})]})})})]})};C.default=ae},42389:function(V,C,s){s.d(C,{d:function(){return i}});function D(E){return E.trim()}function i(E){return E?E==="vi-VN"?1:2:1}}}]);
