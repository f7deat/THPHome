"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1658],{54885:function(_,D,e){e.d(D,{A:function(){return i}});var d=e(28730),v=e(16941),n=e(93236),h=e(97888),V=e(39472),C=e(20237),R=e(18534),B=e(91569),N=e(65589),E=e(55588),Q=e(72772),I=e(14292),M=e(82187),$=e.n(M),Z=e(29984),ee=e(38295),X=e(22222),A=function(g){return(0,C.Z)({},g.componentCls,{"&-title":{marginBlockEnd:g.marginXL,fontWeight:"bold"},"&-container":(0,C.Z)({flexWrap:"wrap",maxWidth:"100%"},"> div".concat(g.antCls,"-space-item"),{maxWidth:"100%"}),"&-twoLine":(0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)({display:"block",width:"100%"},"".concat(g.componentCls,"-title"),{width:"100%",margin:"8px 0"}),"".concat(g.componentCls,"-container"),{paddingInlineStart:16}),"".concat(g.antCls,"-space-item,").concat(g.antCls,"-form-item"),{width:"100%"}),"".concat(g.antCls,"-form-item"),{"&-control":{display:"flex",alignItems:"center",justifyContent:"flex-end","&-input":{alignItems:"center",justifyContent:"flex-end","&-content":{flex:"none"}}}})})};function J(p){return(0,X.Xj)("ProFormGroup",function(g){var l=(0,d.Z)((0,d.Z)({},g),{},{componentCls:".".concat(p)});return[A(l)]})}var m=e(62086),W=n.forwardRef(function(p,g){var l=n.useContext(Z.Z),w=l.groupProps,c=(0,d.Z)((0,d.Z)({},w),p),de=c.children,ce=c.collapsible,me=c.defaultCollapsed,pe=c.style,F=c.labelLayout,b=c.title,O=b===void 0?p.label:b,t=c.tooltip,fe=c.align,ve=fe===void 0?"start":fe,he=c.direction,ge=c.size,H=ge===void 0?32:ge,Ae=c.titleStyle,ne=c.titleRender,L=c.spaceProps,re=c.extra,ae=c.autoFocus,Pe=(0,N.Z)(function(){return me||!1},{value:p.collapsed,onChange:p.onCollapse}),xe=(0,R.Z)(Pe,2),oe=xe[0],Se=xe[1],Ee=(0,n.useContext)(Q.ZP.ConfigContext),Ie=Ee.getPrefixCls,Ce=(0,ee.zx)(p),Me=Ce.ColWrapper,ie=Ce.RowWrapper,K=Ie("pro-form-group"),ye=J(K),Re=ye.wrapSSR,Y=ye.hashId,Ze=ce&&(0,m.jsx)(B.Z,{style:{marginInlineEnd:8},rotate:oe?void 0:90}),je=(0,m.jsx)(E.G,{label:Ze?(0,m.jsxs)("div",{children:[Ze,O]}):O,tooltip:t}),U=(0,n.useCallback)(function(G){var z=G.children;return(0,m.jsx)(I.Z,(0,d.Z)((0,d.Z)({},L),{},{className:$()("".concat(K,"-container ").concat(Y),L==null?void 0:L.className),size:H,align:ve,direction:he,style:(0,d.Z)({rowGap:0},L==null?void 0:L.style),children:z}))},[ve,K,he,Y,H,L]),Fe=ne?ne(je,p):je,Te=(0,n.useMemo)(function(){var G=[],z=n.Children.toArray(de).map(function(o,s){var x;return n.isValidElement(o)&&o!==null&&o!==void 0&&(x=o.props)!==null&&x!==void 0&&x.hidden?(G.push(o),null):s===0&&n.isValidElement(o)&&ae?n.cloneElement(o,(0,d.Z)((0,d.Z)({},o.props),{},{autoFocus:ae})):o});return[(0,m.jsx)(ie,{Wrapper:U,children:z},"children"),G.length>0?(0,m.jsx)("div",{style:{display:"none"},children:G}):null]},[de,ie,U,ae]),De=(0,R.Z)(Te,2),le=De[0],Ne=De[1];return Re((0,m.jsx)(Me,{children:(0,m.jsxs)("div",{className:$()(K,Y,(0,C.Z)({},"".concat(K,"-twoLine"),F==="twoLine")),style:pe,ref:g,children:[Ne,(O||t||re)&&(0,m.jsx)("div",{className:"".concat(K,"-title ").concat(Y).trim(),style:Ae,onClick:function(){Se(!oe)},children:re?(0,m.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[Fe,(0,m.jsx)("span",{onClick:function(z){return z.stopPropagation()},children:re})]}):Fe}),(0,m.jsx)("div",{style:{display:ce&&oe?"none":void 0},children:le})]})}))});W.displayName="ProForm-Group";var te=W,k=e(65939);function i(p){return(0,m.jsx)(h.I,(0,d.Z)({layout:"vertical",contentRender:function(l,w){return(0,m.jsxs)(m.Fragment,{children:[l,w]})}},p))}i.Group=te,i.useForm=v.Z.useForm,i.Item=k.Z,i.useWatch=v.Z.useWatch,i.ErrorList=v.Z.ErrorList,i.Provider=v.Z.Provider,i.useFormInstance=v.Z.useFormInstance,i.EditOrReadOnlyContext=V.A},8019:function(_,D,e){var d=e(90228),v=e.n(d),n=e(87999),h=e.n(n),V=e(68110),C=e(93236),R=e(81384),B=e(37090),N=e(54885),E=e(62086),Q=function(M){var $=N.A.useFormInstance(),Z=(0,C.useRef)(null),ee=function(){if(Z.current){var A;$.setFieldValue(M.name,(A=Z.current)===null||A===void 0?void 0:A.getContent())}};return(0,C.useEffect)(function(){!M.initialValue&&Z.current&&Z.current.setContent("")},[M.initialValue]),(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{className:"mb-4",children:[(0,E.jsx)(N.A.Item,{hidden:!0,name:M.name}),(0,E.jsx)("div",{className:"mb-2",children:M.label}),(0,E.jsx)(R.M,{onChange:ee,onInit:function(A,J){Z.current=J},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(A,J,m){if(m.filetype==="file"&&A("mypage.html",{text:"My text"}),m.filetype==="image"){var W=document.createElement("input");W.setAttribute("type","file"),W.setAttribute("accept","image/*"),W.addEventListener("change",function(){var te=h()(v()().mark(function k(i){var p,g,l;return v()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return p=i.target.files[0],g=new FormData,g.append("file",p),c.next=5,(0,B.request)("file/image/upload",{data:g,method:"POST"});case 5:l=c.sent,l&&(V.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),A(l.url,{alt:"My alt text"}));case 7:case"end":return c.stop()}},k)}));return function(k){return te.apply(this,arguments)}}()),W.click()}m.filetype==="media"&&A("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:M.initialValue})]})})};D.Z=Q},96668:function(_,D,e){e.d(D,{W:function(){return v},h:function(){return d}});var d=function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.PAGE=1]="PAGE",n[n.NEWS=2]="NEWS",n[n.NOTIFICATION=3]="NOTIFICATION",n[n.GALLERY=4]="GALLERY",n[n.ADMISSION=5]="ADMISSION",n}({}),v=[{value:d.PAGE,label:"Trang"},{value:d.NEWS,label:"Tin t\u1EE9c"},{value:d.NOTIFICATION,label:"Th\xF4ng b\xE1o"},{value:d.ADMISSION,label:"Tuy\u1EC3n sinh"}]},76730:function(_,D,e){e.r(D),e.d(D,{default:function(){return z}});var d=e(26068),v=e.n(d),n=e(90228),h=e.n(n),V=e(15558),C=e.n(V),R=e(87999),B=e.n(R),N=e(48305),E=e.n(N),Q=e(59764),I=e(68110),M=e(55641),$=e(69534),Z=e(97146),ee=e(16941),X=e(76477),A=e(19991),J=e(58925),m=e(1904),W=e(70474),te=e(38444),k=e(23318),i=e(93236),p=e(96668),g=e(8019),l=e(37090),w=e(77097),c=e(20433),de=e(54885),ce=e(14123),me=e(24706),pe=e(1536),F=e(28730),b=e(57596),O=e(23959),t=e(62086),fe=["fieldProps","request","params","proFieldProps"],ve=function(s,x){var P=s.fieldProps,T=s.request,S=s.params,y=s.proFieldProps,Oe=(0,b.Z)(s,fe);return(0,t.jsx)(O.Z,(0,F.Z)({valueType:"treeSelect",fieldProps:P,ref:x,request:T,params:S,filedConfig:{customLightMode:!0},proFieldProps:y},Oe))},he=i.forwardRef(ve),ge=he,H=e(29984),Ae=["proFieldProps","fieldProps"],ne="date",L=i.forwardRef(function(o,s){var x=o.proFieldProps,P=o.fieldProps,T=(0,b.Z)(o,Ae),S=(0,i.useContext)(H.Z);return(0,t.jsx)(O.Z,(0,F.Z)({ref:s,valueType:ne,fieldProps:(0,F.Z)({getPopupContainer:S.getPopupContainer},P),proFieldProps:x,filedConfig:{valueType:ne,customLightMode:!0}},T))}),re=L,ae=["proFieldProps","fieldProps"],Pe="dateMonth",xe=i.forwardRef(function(o,s){var x=o.proFieldProps,P=o.fieldProps,T=(0,b.Z)(o,ae),S=(0,i.useContext)(H.Z);return(0,t.jsx)(O.Z,(0,F.Z)({ref:s,valueType:Pe,fieldProps:(0,F.Z)({getPopupContainer:S.getPopupContainer},P),proFieldProps:x,filedConfig:{valueType:Pe,customLightMode:!0}},T))}),oe=xe,Se=["fieldProps"],Ee="dateQuarter",Ie=i.forwardRef(function(o,s){var x=o.fieldProps,P=(0,b.Z)(o,Se),T=(0,i.useContext)(H.Z);return(0,t.jsx)(O.Z,(0,F.Z)({ref:s,valueType:Ee,fieldProps:(0,F.Z)({getPopupContainer:T.getPopupContainer},x),filedConfig:{valueType:Ee,customLightMode:!0}},P))}),Ce=Ie,Me=["proFieldProps","fieldProps"],ie="dateWeek",K=i.forwardRef(function(o,s){var x=o.proFieldProps,P=o.fieldProps,T=(0,b.Z)(o,Me),S=(0,i.useContext)(H.Z);return(0,t.jsx)(O.Z,(0,F.Z)({ref:s,valueType:ie,fieldProps:(0,F.Z)({getPopupContainer:S.getPopupContainer},P),proFieldProps:x,filedConfig:{valueType:ie,customLightMode:!0}},T))}),ye=K,Re=["proFieldProps","fieldProps"],Y="dateYear",Ze=i.forwardRef(function(o,s){var x=o.proFieldProps,P=o.fieldProps,T=(0,b.Z)(o,Re),S=(0,i.useContext)(H.Z);return(0,t.jsx)(O.Z,(0,F.Z)({ref:s,valueType:Y,fieldProps:(0,F.Z)({getPopupContainer:S.getPopupContainer},P),proFieldProps:x,filedConfig:{valueType:Y,customLightMode:!0}},T))}),je=Ze,U=re;U.Week=ye,U.Month=oe,U.Quarter=Ce,U.Year=je,U.displayName="ProFormComponent";var Fe=U,Te=e(42389),De=function(s){return(0,l.request)("category/options",{params:s})},le=e(35555),Ne=Q.Z.Dragger,G=function(){var s=(0,i.useRef)(),x=(0,l.useParams)(),P=x.id,T=(0,i.useState)({}),S=E()(T,2),y=S[0],Oe=S[1],He=(0,i.useState)([]),We=E()(He,2),se=We[0],Le=We[1],Ke=(0,i.useState)("https://dhhp.edu.vn/files/1a5acea5-4941-4140-a8f5-56a1d5e4eabd.jpg"),be=E()(Ke,2),Ue=be[0],Ge=be[1],Ye=(0,i.useState)(!1),Ve=E()(Ye,2),ze=Ve[0],Be=Ve[1],$e=(0,l.useIntl)(),Qe=(0,i.useCallback)(function(){P&&((0,l.request)("post/get/".concat(P)).then(function(u){var r;Oe(u),(r=s.current)===null||r===void 0||r.setFields([{name:"content",value:u.content},{name:"title",value:u.title},{name:"type",value:u.type},{name:"thumbnail",value:u.thumbnail},{name:"modifiedDate",value:u.modifiedDate},{name:"description",value:u.description},{name:"status",value:u.status}]),Ge(u.thumbnail)}),(0,l.request)("post/get-list-category-id-in-post/".concat(P)).then(function(u){var r;(r=s.current)===null||r===void 0||r.setFieldValue("categories",u)}),(0,l.request)("post/attachment-list-in-post/".concat(P)).then(function(u){var r=u.map(function(a){return{uid:a.id,name:a.name,status:"done",url:"/files/".concat(a.id).concat(a.extension)}});Le(r)}))},[P]);(0,i.useEffect)(function(){Qe()},[]);var Xe=function(r){var a=se.map(function(f){return{id:f.uid}});(0,l.request)("post/add",{method:"POST",data:{post:y,listCategoryId:r.categories,attachments:a}}).then(function(f){f.succeeded?(I.ZP.success("L\u01B0u th\xE0nh c\xF4ng!"),r.type===p.h.NEWS&&l.history.push("/post/article"),r.type===p.h.NOTIFICATION&&l.history.push("/post/notification"),r.type===p.h.PAGE&&l.history.push("/post/page"),r.type===p.h.ADMISSION&&l.history.push("/post/admission")):I.ZP.error("ERROR"),Be(!1)})},Je=function(r){var a=se.map(function(f){return{id:f.uid}});(0,l.request)("post/update",{method:"POST",data:{post:y,listCategoryId:r.categories,attachments:a}}).then(function(f){f.succeeded?I.ZP.success("L\u01B0u th\xE0nh c\xF4ng!"):I.ZP.error("ERROR"),Be(!1)})},ke=function(r){(0,l.request)("post/file/delete/".concat(r.uid),{method:"DELETE"}).then(function(a){a.succeeded?Le(se.filter(function(f){return f.uid!==r.uid})):I.ZP.error(a.message)})},we=function(){var u=B()(h()().mark(function r(a){var f,j,q;return h()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return f=new FormData,f.append("file",a),ue.next=4,(0,l.request)("post/upload",{method:"POST",data:f});case 4:j=ue.sent,q={uid:j.attach.id,name:j.attach.name,status:"done",url:"/files/".concat(j.attach.id).concat(j.attach.extension)},Le([].concat(C()(se),[q])),I.ZP.success("".concat(a.name," file uploaded successfully."));case 8:case"end":return ue.stop()}},r)}));return function(a){return u.apply(this,arguments)}}(),qe={name:"file",multiple:!1,beforeUpload:we,fileList:se,onRemove:ke},_e=function(){var u=B()(h()().mark(function r(a){return h()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:a.type=Number(a.type),y.content=a.content,y.type=a.type,y.title=a.title,y.thumbnail=a.thumbnail,y.language=(0,Te.dK)($e.locale),y.description=a.description,y.modifiedDate=a.modifiedDate,y.status=a.status,Be(!0),P?Je(a):Xe(a);case 11:case"end":return j.stop()}},r)}));return function(a){return u.apply(this,arguments)}}();return(0,t.jsx)(w._z,{extra:(0,t.jsx)(M.ZP,{icon:(0,t.jsx)(W.Z,{}),onClick:function(){return l.history.back()},children:"Quay l\u1EA1i"}),children:(0,t.jsx)(c.Z,{children:(0,t.jsx)(de.A,{onFinish:_e,layout:"vertical",formRef:s,loading:ze,children:(0,t.jsxs)($.Z,{gutter:16,children:[(0,t.jsxs)(Z.Z,{span:18,children:[(0,t.jsx)(ee.Z.Item,{name:"title",label:"Ti\xEAu \u0111\u1EC1",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp ti\xEAu \u0111\u1EC1 b\xE0i vi\u1EBFt"}],children:(0,t.jsx)(X.Z,{})}),(0,t.jsx)(ce.Z,{label:"M\xF4 t\u1EA3",name:"description",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp m\xF4 t\u1EA3 b\xE0i vi\u1EBFt"},{max:150,message:"M\xF4 t\u1EA3 t\u1ED1i \u0111a 150 k\xFD t\u1EF1"}]}),(0,t.jsx)(g.Z,{name:"content",label:"N\u1ED9i dung",initialValue:y==null?void 0:y.content,rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp n\u1ED9i dung b\xE0i vi\u1EBFt"}]})]}),(0,t.jsxs)(Z.Z,{span:6,children:[(0,t.jsxs)($.Z,{gutter:16,children:[(0,t.jsx)(Z.Z,{span:12,children:(0,t.jsx)(me.Z,{allowClear:!1,label:"Lo\u1EA1i",name:"type",initialValue:p.h.NEWS,rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn lo\u1EA1i b\xE0i vi\u1EBFt"}],options:p.W})}),(0,t.jsx)(Z.Z,{span:12,children:(0,t.jsx)(pe.Z,{label:"Ng\xF4n ng\u1EEF",tooltip:"Chuy\u1EC3n ng\xF4n ng\u1EEF tr\xEAn thanh c\xF4ng c\u1EE5",initialValue:(0,l.getLocale)(),name:"language",disabled:!0})})]}),(0,t.jsx)(ge,{label:"Danh m\u1EE5c",name:"categories",request:function(r){return De(v()(v()({},r),{},{language:(0,Te.dK)($e.locale)}))},fieldProps:{showSearch:!0,filterTreeNode:function(r,a){var f;return(f=a.label)===null||f===void 0?void 0:f.toLowerCase().includes(r.toLowerCase())},multiple:!0}}),(0,t.jsx)(pe.Z,{label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",name:"thumbnail",initialValue:"https://dhhp.edu.vn/files/1a5acea5-4941-4140-a8f5-56a1d5e4eabd.jpg",rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn \u1EA3nh \u0111\u1EA1i di\u1EC7n"}],fieldProps:{suffix:(0,t.jsx)(Q.Z,{beforeUpload:function(r){var a=r.type==="image/jpeg"||r.type==="image/png";if(a){var f=new FormData;return f.append("file",r),(0,l.request)("file/image/upload",{method:"POST",data:f}).then(function(j){var q;if(!j.succeeded)return I.ZP.error(j.message),!1;(q=s.current)===null||q===void 0||q.setFieldValue("thumbnail",j.url),Ge(j.url)}),!1}else return I.ZP.error("You can only upload JPG or PNG file!"),!1},maxCount:1,showUploadList:!1,children:(0,t.jsx)(M.ZP,{icon:(0,t.jsx)(te.Z,{}),size:"small",type:"dashed",children:"T\u1EA3i l\xEAn"})})}}),(0,t.jsx)("div",{className:"mb-4",children:Ue?(0,t.jsx)(A.Z,{src:Ue,height:180,wrapperClassName:"w-full h-40",style:{width:"100%",objectFit:"cover"}}):(0,t.jsx)("div",{className:"h-40 border flex items-center justify-center",children:(0,t.jsx)(J.Z,{})})}),(0,t.jsxs)($.Z,{gutter:16,children:[(0,t.jsx)(Z.Z,{md:12,children:(0,t.jsx)(Fe,{name:"modifiedDate",label:"Ng\xE0y xu\u1EA5t b\u1EA3n",width:"xl"})}),(0,t.jsx)(Z.Z,{md:12,children:(0,t.jsx)(me.Z,{name:"status",label:"Tr\u1EA1ng th\xE1i",required:!0,initialValue:le.$.DRAFT,allowClear:!1,options:[{label:"B\u1EA3n nh\xE1p",value:le.$.DRAFT},{label:"Xu\u1EA5t b\u1EA3n",value:le.$.PUBLISH}]})})]}),(0,t.jsx)("div",{className:"mb-1",children:"T\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)(Ne,v()(v()({},qe),{},{children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(k.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Ch\u1ECDn t\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"H\u1ED7 tr\u1EE3 c\xE1c \u0111\u1ECBnh d\u1EA1ng th\xF4ng d\u1EE5ng .docx, .xlsx, .pdf"})]}))}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(m.Z,{checked:!0})," Chia s\u1EBB l\xEAn Zalo OA"]})]})]})})})})},z=G},35555:function(_,D,e){e.d(D,{$:function(){return v},S:function(){return d}});var d=function(n){return n[n.NONE=0]="NONE",n[n.VI=1]="VI",n[n.EN=2]="EN",n}({}),v=function(n){return n[n.DRAFT=0]="DRAFT",n[n.PUBLISH=1]="PUBLISH",n[n.TRASH=2]="TRASH",n}({})},42389:function(_,D,e){e.d(D,{dK:function(){return v},gB:function(){return n}});function d(h){return h.trim()}function v(h){return h?h==="vi-VN"?1:2:1}function n(h){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=V?1e3:1024;if(Math.abs(h)<R)return h+" B";var B=V?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],N=-1,E=Math.pow(10,C);do h/=R,++N;while(Math.round(Math.abs(h)*E)/E>=R&&N<B.length-1);return h.toFixed(C)+" "+B[N]}}}]);
