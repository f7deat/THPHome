"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1658],{54885:function(Q,j,e){e.d(j,{A:function(){return o}});var l=e(28730),m=e(16941),n=e(93236),p=e(97888),O=e(39472),g=e(20237),x=e(18534),B=e(91569),N=e(65589),y=e(55588),X=e(72772),M=e(14292),R=e(82187),$=e.n(R),F=e(29984),ee=e(38295),J=e(22222),I=function(P){return(0,g.Z)({},P.componentCls,{"&-title":{marginBlockEnd:P.marginXL,fontWeight:"bold"},"&-container":(0,g.Z)({flexWrap:"wrap",maxWidth:"100%"},"> div".concat(P.antCls,"-space-item"),{maxWidth:"100%"}),"&-twoLine":(0,g.Z)((0,g.Z)((0,g.Z)((0,g.Z)({display:"block",width:"100%"},"".concat(P.componentCls,"-title"),{width:"100%",margin:"8px 0"}),"".concat(P.componentCls,"-container"),{paddingInlineStart:16}),"".concat(P.antCls,"-space-item,").concat(P.antCls,"-form-item"),{width:"100%"}),"".concat(P.antCls,"-form-item"),{"&-control":{display:"flex",alignItems:"center",justifyContent:"flex-end","&-input":{alignItems:"center",justifyContent:"flex-end","&-content":{flex:"none"}}}})})};function k(v){return(0,J.Xj)("ProFormGroup",function(P){var s=(0,l.Z)((0,l.Z)({},P),{},{componentCls:".".concat(v)});return[I(s)]})}var f=e(62086),b=n.forwardRef(function(v,P){var s=n.useContext(F.Z),q=s.groupProps,d=(0,l.Z)((0,l.Z)({},q),v),de=d.children,ce=d.collapsible,me=d.defaultCollapsed,pe=d.style,D=d.labelLayout,G=d.title,L=G===void 0?v.label:G,t=d.tooltip,fe=d.align,ve=fe===void 0?"start":fe,he=d.direction,ge=d.size,H=ge===void 0?32:ge,Ae=d.titleStyle,ne=d.titleRender,W=d.spaceProps,re=d.extra,ae=d.autoFocus,Pe=(0,N.Z)(function(){return me||!1},{value:v.collapsed,onChange:v.onCollapse}),xe=(0,x.Z)(Pe,2),oe=xe[0],Ie=xe[1],Ce=(0,n.useContext)(X.ZP.ConfigContext),Se=Ce.getPrefixCls,Ee=(0,ee.zx)(v),Me=Ee.ColWrapper,ie=Ee.RowWrapper,K=Se("pro-form-group"),ye=k(K),Re=ye.wrapSSR,Y=ye.hashId,Ze=ce&&(0,f.jsx)(B.Z,{style:{marginInlineEnd:8},rotate:oe?void 0:90}),je=(0,f.jsx)(y.G,{label:Ze?(0,f.jsxs)("div",{children:[Ze,L]}):L,tooltip:t}),U=(0,n.useCallback)(function(V){var z=V.children;return(0,f.jsx)(M.Z,(0,l.Z)((0,l.Z)({},W),{},{className:$()("".concat(K,"-container ").concat(Y),W==null?void 0:W.className),size:H,align:ve,direction:he,style:(0,l.Z)({rowGap:0},W==null?void 0:W.style),children:z}))},[ve,K,he,Y,H,W]),Fe=ne?ne(je,v):je,Te=(0,n.useMemo)(function(){var V=[],z=n.Children.toArray(de).map(function(i,c){var E;return n.isValidElement(i)&&i!==null&&i!==void 0&&(E=i.props)!==null&&E!==void 0&&E.hidden?(V.push(i),null):c===0&&n.isValidElement(i)&&ae?n.cloneElement(i,(0,l.Z)((0,l.Z)({},i.props),{},{autoFocus:ae})):i});return[(0,f.jsx)(ie,{Wrapper:U,children:z},"children"),V.length>0?(0,f.jsx)("div",{style:{display:"none"},children:V}):null]},[de,ie,U,ae]),De=(0,x.Z)(Te,2),le=De[0],Oe=De[1];return Re((0,f.jsx)(Me,{children:(0,f.jsxs)("div",{className:$()(K,Y,(0,g.Z)({},"".concat(K,"-twoLine"),D==="twoLine")),style:pe,ref:P,children:[Oe,(L||t||re)&&(0,f.jsx)("div",{className:"".concat(K,"-title ").concat(Y).trim(),style:Ae,onClick:function(){Ie(!oe)},children:re?(0,f.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[Fe,(0,f.jsx)("span",{onClick:function(z){return z.stopPropagation()},children:re})]}):Fe}),(0,f.jsx)("div",{style:{display:ce&&oe?"none":void 0},children:le})]})}))});b.displayName="ProForm-Group";var te=b,w=e(65939);function o(v){return(0,f.jsx)(p.I,(0,l.Z)({layout:"vertical",contentRender:function(s,q){return(0,f.jsxs)(f.Fragment,{children:[s,q]})}},v))}o.Group=te,o.useForm=m.Z.useForm,o.Item=w.Z,o.useWatch=m.Z.useWatch,o.ErrorList=m.Z.ErrorList,o.Provider=m.Z.Provider,o.useFormInstance=m.Z.useFormInstance,o.EditOrReadOnlyContext=O.A},8019:function(Q,j,e){var l=e(90228),m=e.n(l),n=e(87999),p=e.n(n),O=e(68110),g=e(93236),x=e(81384),B=e(37090),N=e(54885),y=e(62086),X=function(R){var $=N.A.useFormInstance(),F=(0,g.useRef)(null),ee=function(){if(F.current){var I;$.setFieldValue(R.name,(I=F.current)===null||I===void 0?void 0:I.getContent())}};return(0,g.useEffect)(function(){!R.initialValue&&F.current&&F.current.setContent("")},[R.initialValue]),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"mb-4",children:[(0,y.jsx)(N.A.Item,{hidden:!0,name:R.name}),(0,y.jsx)("div",{className:"mb-2",children:R.label}),(0,y.jsx)(x.M,{onChange:ee,onInit:function(I,k){F.current=k},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(I,k,f){if(f.filetype==="file"&&I("mypage.html",{text:"My text"}),f.filetype==="image"){var b=document.createElement("input");b.setAttribute("type","file"),b.setAttribute("accept","image/*"),b.addEventListener("change",function(){var te=p()(m()().mark(function w(o){var v,P,s;return m()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return v=o.target.files[0],P=new FormData,P.append("file",v),d.next=5,(0,B.request)("file/image/upload",{data:P,method:"POST"});case 5:s=d.sent,s&&(O.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),I(s.url,{alt:"My alt text"}));case 7:case"end":return d.stop()}},w)}));return function(w){return te.apply(this,arguments)}}()),b.click()}f.filetype==="media"&&I("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:R.initialValue})]})})};j.Z=X},96668:function(Q,j,e){e.d(j,{W:function(){return m},h:function(){return l}});var l=function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.PAGE=1]="PAGE",n[n.NEWS=2]="NEWS",n[n.NOTIFICATION=3]="NOTIFICATION",n[n.GALLERY=4]="GALLERY",n[n.ADMISSION=5]="ADMISSION",n}({}),m=[{value:l.PAGE,label:"Trang"},{value:l.NEWS,label:"Tin t\u1EE9c"},{value:l.NOTIFICATION,label:"Th\xF4ng b\xE1o"},{value:l.ADMISSION,label:"Tuy\u1EC3n sinh"}]},83986:function(Q,j,e){e.r(j),e.d(j,{default:function(){return z}});var l=e(26068),m=e.n(l),n=e(90228),p=e.n(n),O=e(15558),g=e.n(O),x=e(87999),B=e.n(x),N=e(48305),y=e.n(N),X=e(59764),M=e(68110),R=e(55641),$=e(69534),F=e(97146),ee=e(16941),J=e(76477),I=e(19991),k=e(58925),f=e(1904),b=e(70474),te=e(38444),w=e(23318),o=e(93236),v=e(96668),P=e(8019),s=e(37090),q=e(77097),d=e(20433),de=e(54885),ce=e(14123),me=e(24706),pe=e(1536),D=e(28730),G=e(57596),L=e(23959),t=e(62086),fe=["fieldProps","request","params","proFieldProps"],ve=function(c,E){var C=c.fieldProps,A=c.request,S=c.params,Z=c.proFieldProps,Ne=(0,G.Z)(c,fe);return(0,t.jsx)(L.Z,(0,D.Z)({valueType:"treeSelect",fieldProps:C,ref:E,request:A,params:S,filedConfig:{customLightMode:!0},proFieldProps:Z},Ne))},he=o.forwardRef(ve),ge=he,H=e(29984),Ae=["proFieldProps","fieldProps"],ne="date",W=o.forwardRef(function(i,c){var E=i.proFieldProps,C=i.fieldProps,A=(0,G.Z)(i,Ae),S=(0,o.useContext)(H.Z);return(0,t.jsx)(L.Z,(0,D.Z)({ref:c,valueType:ne,fieldProps:(0,D.Z)({getPopupContainer:S.getPopupContainer},C),proFieldProps:E,filedConfig:{valueType:ne,customLightMode:!0}},A))}),re=W,ae=["proFieldProps","fieldProps"],Pe="dateMonth",xe=o.forwardRef(function(i,c){var E=i.proFieldProps,C=i.fieldProps,A=(0,G.Z)(i,ae),S=(0,o.useContext)(H.Z);return(0,t.jsx)(L.Z,(0,D.Z)({ref:c,valueType:Pe,fieldProps:(0,D.Z)({getPopupContainer:S.getPopupContainer},C),proFieldProps:E,filedConfig:{valueType:Pe,customLightMode:!0}},A))}),oe=xe,Ie=["fieldProps"],Ce="dateQuarter",Se=o.forwardRef(function(i,c){var E=i.fieldProps,C=(0,G.Z)(i,Ie),A=(0,o.useContext)(H.Z);return(0,t.jsx)(L.Z,(0,D.Z)({ref:c,valueType:Ce,fieldProps:(0,D.Z)({getPopupContainer:A.getPopupContainer},E),filedConfig:{valueType:Ce,customLightMode:!0}},C))}),Ee=Se,Me=["proFieldProps","fieldProps"],ie="dateWeek",K=o.forwardRef(function(i,c){var E=i.proFieldProps,C=i.fieldProps,A=(0,G.Z)(i,Me),S=(0,o.useContext)(H.Z);return(0,t.jsx)(L.Z,(0,D.Z)({ref:c,valueType:ie,fieldProps:(0,D.Z)({getPopupContainer:S.getPopupContainer},C),proFieldProps:E,filedConfig:{valueType:ie,customLightMode:!0}},A))}),ye=K,Re=["proFieldProps","fieldProps"],Y="dateYear",Ze=o.forwardRef(function(i,c){var E=i.proFieldProps,C=i.fieldProps,A=(0,G.Z)(i,Re),S=(0,o.useContext)(H.Z);return(0,t.jsx)(L.Z,(0,D.Z)({ref:c,valueType:Y,fieldProps:(0,D.Z)({getPopupContainer:S.getPopupContainer},C),proFieldProps:E,filedConfig:{valueType:Y,customLightMode:!0}},A))}),je=Ze,U=re;U.Week=ye,U.Month=oe,U.Quarter=Ee,U.Year=je,U.displayName="ProFormComponent";var Fe=U,Te=e(42389),De=e(24327),le=e(35555),Oe=X.Z.Dragger,V=function(){var c=(0,o.useRef)(),E=(0,s.useParams)(),C=E.id,A=(0,o.useState)({}),S=y()(A,2),Z=S[0],Ne=S[1],He=(0,o.useState)([]),Be=y()(He,2),se=Be[0],Le=Be[1],Ke=(0,o.useState)("https://dhhp.edu.vn/files/1a5acea5-4941-4140-a8f5-56a1d5e4eabd.jpg"),be=y()(Ke,2),Ge=be[0],Ue=be[1],Ye=(0,o.useState)(!1),Ve=y()(Ye,2),ze=Ve[0],We=Ve[1],$e=(0,s.useIntl)(),Qe=(0,o.useCallback)(function(){C&&((0,s.request)("post/get/".concat(C)).then(function(u){var r;Ne(u),(r=c.current)===null||r===void 0||r.setFields([{name:"content",value:u.content},{name:"title",value:u.title},{name:"type",value:u.type},{name:"thumbnail",value:u.thumbnail},{name:"modifiedDate",value:u.modifiedDate},{name:"description",value:u.description},{name:"status",value:u.status}]),Ue(u.thumbnail)}),(0,s.request)("post/get-list-category-id-in-post/".concat(C)).then(function(u){var r;(r=c.current)===null||r===void 0||r.setFieldValue("categories",u)}),(0,s.request)("post/attachment-list-in-post/".concat(C)).then(function(u){var r=u.map(function(a){return{uid:a.id,name:a.name,status:"done",url:"/files/".concat(a.id).concat(a.extension)}});Le(r)}))},[C]);(0,o.useEffect)(function(){Qe()},[]);var Xe=function(r){var a=se.map(function(h){return{id:h.uid}});(0,s.request)("post/add",{method:"POST",data:{post:Z,listCategoryId:r.categories,attachments:a}}).then(function(h){h.succeeded?(M.ZP.success("L\u01B0u th\xE0nh c\xF4ng!"),r.type===v.h.NEWS&&s.history.push("/post/article"),r.type===v.h.NOTIFICATION&&s.history.push("/post/notification"),r.type===v.h.PAGE&&s.history.push("/post/page"),r.type===v.h.ADMISSION&&s.history.push("/post/admission")):M.ZP.error("ERROR"),We(!1)})},Je=function(r){var a=se.map(function(h){return{id:h.uid}});(0,s.request)("post/update",{method:"POST",data:{post:Z,listCategoryId:r.categories,attachments:a}}).then(function(h){h.succeeded?M.ZP.success("L\u01B0u th\xE0nh c\xF4ng!"):M.ZP.error("ERROR"),We(!1)})},ke=function(r){(0,s.request)("post/file/delete/".concat(r.uid),{method:"DELETE"}).then(function(a){a.succeeded?Le(se.filter(function(h){return h.uid!==r.uid})):M.ZP.error(a.message)})},we=function(){var u=B()(p()().mark(function r(a){var h,T,_;return p()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return h=new FormData,h.append("file",a),ue.next=4,(0,s.request)("post/upload",{method:"POST",data:h});case 4:T=ue.sent,_={uid:T.attach.id,name:T.attach.name,status:"done",url:"/files/".concat(T.attach.id).concat(T.attach.extension)},Le([].concat(g()(se),[_])),M.ZP.success("".concat(a.name," file uploaded successfully."));case 8:case"end":return ue.stop()}},r)}));return function(a){return u.apply(this,arguments)}}(),qe={name:"file",multiple:!1,beforeUpload:we,fileList:se,onRemove:ke},_e=function(){var u=B()(p()().mark(function r(a){return p()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:a.type=Number(a.type),Z.content=a.content,Z.type=a.type,Z.title=a.title,Z.thumbnail=a.thumbnail,Z.language=(0,Te.dK)($e.locale),Z.description=a.description,Z.modifiedDate=a.modifiedDate,Z.status=a.status,We(!0),C?Je(a):Xe(a);case 11:case"end":return T.stop()}},r)}));return function(a){return u.apply(this,arguments)}}();return(0,t.jsx)(q._z,{extra:(0,t.jsx)(R.ZP,{icon:(0,t.jsx)(b.Z,{}),onClick:function(){return s.history.back()},children:"Quay l\u1EA1i"}),children:(0,t.jsx)(d.Z,{children:(0,t.jsx)(de.A,{onFinish:_e,layout:"vertical",formRef:c,loading:ze,children:(0,t.jsxs)($.Z,{gutter:16,children:[(0,t.jsxs)(F.Z,{span:18,children:[(0,t.jsx)(ee.Z.Item,{name:"title",label:"Ti\xEAu \u0111\u1EC1",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp ti\xEAu \u0111\u1EC1 b\xE0i vi\u1EBFt"}],children:(0,t.jsx)(J.Z,{})}),(0,t.jsx)(ce.Z,{label:"M\xF4 t\u1EA3",name:"description",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp m\xF4 t\u1EA3 b\xE0i vi\u1EBFt"},{max:150,message:"M\xF4 t\u1EA3 t\u1ED1i \u0111a 150 k\xFD t\u1EF1"}]}),(0,t.jsx)(P.Z,{name:"content",label:"N\u1ED9i dung",initialValue:Z==null?void 0:Z.content,rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp n\u1ED9i dung b\xE0i vi\u1EBFt"}]})]}),(0,t.jsxs)(F.Z,{span:6,children:[(0,t.jsxs)($.Z,{gutter:16,children:[(0,t.jsx)(F.Z,{span:12,children:(0,t.jsx)(me.Z,{allowClear:!1,label:"Lo\u1EA1i",name:"type",initialValue:v.h.NEWS,rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn lo\u1EA1i b\xE0i vi\u1EBFt"}],options:v.W})}),(0,t.jsx)(F.Z,{span:12,children:(0,t.jsx)(pe.Z,{label:"Ng\xF4n ng\u1EEF",tooltip:"Chuy\u1EC3n ng\xF4n ng\u1EEF tr\xEAn thanh c\xF4ng c\u1EE5",initialValue:(0,s.getLocale)(),name:"language",disabled:!0})})]}),(0,t.jsx)(ge,{label:"Danh m\u1EE5c",name:"categories",request:function(r){return(0,De.eW)(m()(m()({},r),{},{language:(0,Te.dK)($e.locale)}))},fieldProps:{showSearch:!0,filterTreeNode:function(r,a){var h;return(h=a.label)===null||h===void 0?void 0:h.toLowerCase().includes(r.toLowerCase())},multiple:!0}}),(0,t.jsx)(pe.Z,{label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",name:"thumbnail",initialValue:"https://dhhp.edu.vn/files/1a5acea5-4941-4140-a8f5-56a1d5e4eabd.jpg",rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn \u1EA3nh \u0111\u1EA1i di\u1EC7n"}],fieldProps:{suffix:(0,t.jsx)(X.Z,{beforeUpload:function(r){var a=r.type==="image/jpeg"||r.type==="image/png";if(a){var h=new FormData;return h.append("file",r),(0,s.request)("file/image/upload",{method:"POST",data:h}).then(function(T){var _;if(!T.succeeded)return M.ZP.error(T.message),!1;(_=c.current)===null||_===void 0||_.setFieldValue("thumbnail",T.url),Ue(T.url)}),!1}else return M.ZP.error("You can only upload JPG or PNG file!"),!1},maxCount:1,showUploadList:!1,children:(0,t.jsx)(R.ZP,{icon:(0,t.jsx)(te.Z,{}),size:"small",type:"dashed",children:"T\u1EA3i l\xEAn"})})}}),(0,t.jsx)("div",{className:"mb-4",children:Ge?(0,t.jsx)(I.Z,{src:Ge,height:180,wrapperClassName:"w-full h-40",style:{width:"100%",objectFit:"cover"}}):(0,t.jsx)("div",{className:"h-40 border flex items-center justify-center",children:(0,t.jsx)(k.Z,{})})}),(0,t.jsxs)($.Z,{gutter:16,children:[(0,t.jsx)(F.Z,{md:12,children:(0,t.jsx)(Fe,{name:"modifiedDate",label:"Ng\xE0y xu\u1EA5t b\u1EA3n",width:"xl"})}),(0,t.jsx)(F.Z,{md:12,children:(0,t.jsx)(me.Z,{name:"status",label:"Tr\u1EA1ng th\xE1i",required:!0,initialValue:le.$.DRAFT,allowClear:!1,options:[{label:"B\u1EA3n nh\xE1p",value:le.$.DRAFT},{label:"Xu\u1EA5t b\u1EA3n",value:le.$.PUBLISH}]})})]}),(0,t.jsx)("div",{className:"mb-1",children:"T\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)(Oe,m()(m()({},qe),{},{children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(w.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Ch\u1ECDn t\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"H\u1ED7 tr\u1EE3 c\xE1c \u0111\u1ECBnh d\u1EA1ng th\xF4ng d\u1EE5ng .docx, .xlsx, .pdf"})]}))}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(f.Z,{checked:!0})," Chia s\u1EBB l\xEAn Zalo OA"]})]})]})})})})},z=V},24327:function(Q,j,e){e.d(j,{H5:function(){return O},RQ:function(){return n},eW:function(){return m},rH:function(){return p}});var l=e(37090),m=function(x){return(0,l.request)("category/options",{params:x})},n=function(x){return(0,l.request)("category/list",{params:x})},p=function(x){return(0,l.request)("category/parent/options",{params:x})},O=function(x){return(0,l.request)("category/posts",{params:x})}},35555:function(Q,j,e){e.d(j,{$:function(){return m},S:function(){return l}});var l=function(n){return n[n.NONE=0]="NONE",n[n.VI=1]="VI",n[n.EN=2]="EN",n}({}),m=function(n){return n[n.DRAFT=0]="DRAFT",n[n.PUBLISH=1]="PUBLISH",n[n.TRASH=2]="TRASH",n}({})},42389:function(Q,j,e){e.d(j,{dK:function(){return m},gB:function(){return n}});function l(p){return p.trim()}function m(p){return p?p==="vi-VN"?1:2:1}function n(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=O?1e3:1024;if(Math.abs(p)<x)return p+" B";var B=O?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],N=-1,y=Math.pow(10,g);do p/=x,++N;while(Math.round(Math.abs(p)*y)/y>=x&&N<B.length-1);return p.toFixed(g)+" "+B[N]}}}]);
