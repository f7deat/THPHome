"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1658],{83294:function(M,g,t){t.d(g,{Z:function(){return C}});var p=t(52643),u=t(68136),r={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},f=r,j=t(91471),O=function(T,h){return u.createElement(j.Z,(0,p.Z)({},T,{ref:h,icon:f}))},C=u.forwardRef(O)},86444:function(M,g,t){var p=t(53939),u=t.n(p),r=t(83134),f=t.n(r),j=t(4870),O=t(46665),C=t(68136),D=t(44949),T=t(58703),h=t(33130),L=function(E){var n=j.Z.useFormInstance(),a=(0,C.useRef)(null),s=function(){if(a.current){var d;n.setFieldValue(E.name,(d=a.current)===null||d===void 0?void 0:d.getContent())}};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(D.M,{onChange:s,onInit:function(d,W){return a.current=W},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(d,W,F){if(F.filetype=="file"&&d("mypage.html",{text:"My text"}),F.filetype=="image"){var A=document.createElement("input");A.setAttribute("type","file"),A.setAttribute("accept","image/*"),A.addEventListener("change",function(){var G=f()(u()().mark(function U(z){var B,y,Z;return u()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return B=z.target.files[0],y=new FormData,y.append("file",B),I.next=5,(0,T.request)("file/image/upload",{data:y,method:"POST"});case 5:Z=I.sent,Z&&(O.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),d(Z.url,{alt:"My alt text"}));case 7:case"end":return I.stop()}},U)}));return function(U){return G.apply(this,arguments)}}()),A.click()}F.filetype=="media"&&d("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:n.getFieldValue(E.name)})})};g.Z=L},17433:function(M,g,t){t.r(g),t.d(g,{default:function(){return ht}});var p=t(78095),u=t.n(p),r=t(53939),f=t.n(r),j=t(60430),O=t.n(j),C=t(83134),D=t.n(C),T=t(34827),h=t.n(T),L=t(18801),N=t(24991),E=t(4870),n=t(46665),a=t(88094),s=t(13762),x=t(2537),d=t(10483),W=t(41605),F=t(15621),A=t(24657),G=t(62380),U=t(48233),z=t(63687),B=t(83294),y=t(68136),Z=function(P){return P[P.DEFAULT=0]="DEFAULT",P[P.PAGE=1]="PAGE",P[P.NEWS=2]="NEWS",P[P.NOTIFICATION=3]="NOTIFICATION",P}({}),Q=[{value:Z.PAGE,label:"Trang"},{value:Z.NEWS,label:"Tin t\u1EE9c"},{value:Z.NOTIFICATION,label:"Th\xF4ng b\xE1o"}],I=t(86444),c=t(58703),ut=t(62066),dt=t.n(ut),ct=t(81068),V=t(26805),e=t(33130),mt=L.Z.Dragger,ft=function(){var vt=N.Z.Option,gt=E.Z.useForm(),pt=h()(gt,1),w=pt[0],Et=(0,c.useParams)(),S=Et.id,xt=(0,y.useState)({}),k=h()(xt,2),m=k[0],_=k[1],yt=(0,y.useState)(),q=h()(yt,2),$=q[0],jt=q[1],Ct=(0,y.useState)([]),tt=h()(Ct,2),J=tt[0],et=tt[1],Pt=(0,y.useState)([]),nt=h()(Pt,2),R=nt[0],X=nt[1],Ot=(0,y.useState)(),at=h()(Ot,2),bt=at[0],Y=at[1],Dt=(0,y.useState)(""),lt=h()(Dt,2),it=lt[0],ot=lt[1],K=(0,c.useIntl)(),rt=(0,y.useCallback)(function(){S&&((0,c.request)("post/get/".concat(S)).then(function(l){_(l),w.setFields([{name:"content",value:l.content},{name:"title",value:l.title},{name:"type",value:l.type},{name:"thumbnail",value:l.thumbnail},{name:"language",value:l.language}]),ot(l.thumbnail)}),(0,c.request)("post/get-list-category-id-in-post/".concat(S)).then(function(l){et(l)}),(0,c.request)("post/attachment-list-in-post/".concat(S)).then(function(l){var o=l.map(function(i){return{uid:i.id,name:i.name,status:"done",url:"/files/".concat(i.id).concat(i.extension)}});X(o)}))},[S]);(0,y.useEffect)(function(){rt(),(0,c.request)("category/get-list?language=".concat((0,V.d)(K.locale))).then(function(l){jt(l)})},[rt]);var Tt=function(){var o=R.map(function(i){return{id:i.uid}});(0,c.request)("post/add",{method:"POST",data:{post:m,listCategoryId:J,attachments:o}}).then(function(i){i.succeeded?c.history.push("/post/list?type=".concat(m.type,"&language=").concat((0,V.d)(K.locale))):n.ZP.error("ERROR"),Y(!1)})},Ft=function(){var o=R.map(function(i){return{id:i.uid}});(0,c.request)("post/update",{method:"POST",data:{post:m,listCategoryId:J,attachments:o}}).then(function(i){i.succeeded?c.history.push("/post/list?type=".concat(m.type,"&language=").concat((0,V.d)(K.locale))):n.ZP.error("ERROR"),Y(!1)})};function Zt(l){et(l)}var It=function(o){(0,c.request)("post/file/delete/".concat(o.uid),{method:"DELETE"}).then(function(i){i.succeeded?X(R.filter(function(b){return b.uid!==o.uid})):n.ZP.error(i.message)})},Lt=function(){var l=D()(f()().mark(function o(i){var b,v,st;return f()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return b=new FormData,b.append("file",i),H.next=4,(0,c.request)("post/upload",{method:"POST",data:b});case 4:v=H.sent,st={uid:v.attach.id,name:v.attach.name,status:"done",url:"/files/".concat(v.attach.id).concat(v.attach.extension)},X([].concat(O()(R),[st])),n.ZP.success("".concat(i.name," file uploaded successfully."));case 8:case"end":return H.stop()}},o)}));return function(i){return l.apply(this,arguments)}}(),At={name:"file",multiple:!1,beforeUpload:Lt,fileList:R,onRemove:It},St=function(){var l=D()(f()().mark(function o(i){return f()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:i.type=Number(i.type),m.content=i.content,m.type=i.type,m.title=i.title,m.thumbnail=i.thumbnail,m.language=(0,V.d)(K.locale),Y(!0),S?Ft():Tt();case 8:case"end":return v.stop()}},o)}));return function(i){return l.apply(this,arguments)}}();return(0,e.jsx)(ct._z,{children:(0,e.jsx)(a.Z,{children:(0,e.jsx)(E.Z,{onFinish:St,layout:"vertical",form:w,children:(0,e.jsxs)(s.Z,{gutter:16,children:[(0,e.jsxs)(x.Z,{span:18,children:[(0,e.jsx)(E.Z.Item,{name:"title",label:"Ti\xEAu \u0111\u1EC1",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp ti\xEAu \u0111\u1EC1 b\xE0i vi\u1EBFt"}],children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)("div",{className:"mb-1",children:"M\xF4 t\u1EA3"}),(0,e.jsx)(d.Z.TextArea,{value:m.description,onChange:function(o){return _(u()(u()({},m),{},{description:o.target.value}))},className:"mb-2"}),(0,e.jsx)(E.Z.Item,{name:"content",label:"N\u1ED9i dung",children:(0,e.jsx)(I.Z,{name:"content"})}),(0,e.jsxs)(W.Z,{children:[(0,e.jsx)(F.ZP,{type:"primary",htmlType:"submit",loading:bt,children:"L\u01B0u l\u1EA1i"}),(0,e.jsx)(F.ZP,{onClick:function(){return c.history.push("/admin/post/list")},children:"H\u1EE7y"})]})]}),(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsxs)(s.Z,{gutter:16,children:[(0,e.jsx)(x.Z,{span:12,children:(0,e.jsx)(E.Z.Item,{label:"Lo\u1EA1i",name:"type",rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn lo\u1EA1i b\xE0i vi\u1EBFt"}],children:(0,e.jsx)(N.Z,{options:Q})})}),(0,e.jsx)(x.Z,{span:12,children:(0,e.jsx)(E.Z.Item,{label:"Ng\xF4n ng\u1EEF",tooltip:"Chuy\u1EC3n ng\xF4n ng\u1EEF tr\xEAn thanh c\xF4ng c\u1EE5",children:(0,e.jsx)(d.Z,{disabled:!0,value:(0,c.getLocale)()})})})]}),(0,e.jsx)("div",{className:"mb-1",children:"Danh m\u1EE5c"}),(0,e.jsx)(N.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Vui l\xF2ng ch\u1ECDn",onChange:Zt,className:"mb-2",value:J,optionFilterProp:"children",filterOption:function(o,i){return i.children.toLowerCase().indexOf(o.toLowerCase())>=0},children:$==null?void 0:$.map(function(l){return(0,e.jsx)(vt,{value:l.id,children:l.name},l.id)})}),(0,e.jsx)("div",{className:"flex gap-2",children:(0,e.jsx)(E.Z.Item,{label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",name:"thumbnail",style:{width:"100%"},children:(0,e.jsx)(d.Z,{suffix:(0,e.jsx)(L.Z,{beforeUpload:function(o){var i=o.type==="image/jpeg"||o.type==="image/png";if(i){var b=new FormData;return b.append("file",o),(0,c.request)("file/image/upload",{method:"POST",data:b}).then(function(v){if(!v.succeeded)return n.ZP.error(v.message),!1;w.setFieldValue("thumbnail",v.url),ot(v.url)}),!1}else return n.ZP.error("You can only upload JPG or PNG file!"),!1},maxCount:1,showUploadList:!1,children:(0,e.jsx)(F.ZP,{icon:(0,e.jsx)(z.Z,{}),size:"small",children:"T\u1EA3i l\xEAn"})})})})}),(0,e.jsx)("div",{className:"mb-4",children:it?(0,e.jsx)(A.Z,{src:it,height:200,wrapperClassName:"w-full",style:{width:"100%",objectFit:"cover"}}):(0,e.jsx)(G.Z,{})}),(0,e.jsx)("div",{className:"mb-1",children:"Ng\xE0y xu\u1EA5t b\u1EA3n"}),(0,e.jsx)("div",{className:"mb-2",children:(0,e.jsx)(U.default,{onChange:function(o){return _(u()(u()({},m),{},{modifiedDate:o==null?void 0:o.toDate()}))},value:dt()(m==null?void 0:m.modifiedDate)})}),(0,e.jsx)("div",{className:"mb-1",children:"T\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,e.jsx)("div",{className:"mb-2",children:(0,e.jsxs)(mt,u()(u()({},At),{},{children:[(0,e.jsx)("p",{className:"ant-upload-drag-icon",children:(0,e.jsx)(B.Z,{})}),(0,e.jsx)("p",{className:"ant-upload-text",children:"Ch\u1ECDn t\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,e.jsx)("p",{className:"ant-upload-hint",children:"H\u1ED7 tr\u1EE3 c\xE1c \u0111\u1ECBnh d\u1EA1ng th\xF4ng d\u1EE5ng .docx, .xlsx, .pdf"})]}))})]})]})})})})},ht=ft},26805:function(M,g,t){t.d(g,{d:function(){return u}});function p(r){return r.trim()}function u(r){return r?r==="vi-VN"?1:2:1}},95179:function(M,g,t){t.d(g,{Z:function(){return u}});var p=t(89370);function u(r,f,j,O){var C=p.unstable_batchedUpdates?function(T){p.unstable_batchedUpdates(j,T)}:j;return r!=null&&r.addEventListener&&r.addEventListener(f,C,O),{remove:function(){r!=null&&r.removeEventListener&&r.removeEventListener(f,C,O)}}}},66e3:function(M,g,t){t.d(g,{g1:function(){return L},os:function(){return E}});var p=/margin|padding|width|height|max|min|offset/,u={left:!0,top:!0},r={cssFloat:1,styleFloat:1,float:1};function f(n){return n.nodeType===1?n.ownerDocument.defaultView.getComputedStyle(n,null):{}}function j(n,a,s){if(a=a.toLowerCase(),s==="auto"){if(a==="height")return n.offsetHeight;if(a==="width")return n.offsetWidth}return a in u||(u[a]=p.test(a)),u[a]?parseFloat(s)||0:s}function O(n,a){var s=arguments.length,x=f(n);return a=r[a]?"cssFloat"in n.style?"cssFloat":"styleFloat":a,s===1?x:j(n,a,x[a]||n.style[a])}function C(n,a,s){var x=arguments.length;if(a=r[a]?"cssFloat"in n.style?"cssFloat":"styleFloat":a,x===3)return typeof s=="number"&&p.test(a)&&(s="".concat(s,"px")),n.style[a]=s,s;for(var d in a)a.hasOwnProperty(d)&&C(n,d,a[d]);return f(n)}function D(n){return n===document.body?document.documentElement.clientWidth:n.offsetWidth}function T(n){return n===document.body?window.innerHeight||document.documentElement.clientHeight:n.offsetHeight}function h(){var n=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:n,height:a}}function L(){var n=document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight;return{width:n,height:a}}function N(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function E(n){var a=n.getBoundingClientRect(),s=document.documentElement;return{left:a.left+(window.pageXOffset||s.scrollLeft)-(s.clientLeft||document.body.clientLeft||0),top:a.top+(window.pageYOffset||s.scrollTop)-(s.clientTop||document.body.clientTop||0)}}}}]);
