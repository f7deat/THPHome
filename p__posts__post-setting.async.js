"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1658],{54885:function(oe,I,e){e.d(I,{A:function(){return y}});var f=e(28730),g=e(16941),l=e(93236),h=e(97888),G=e(39472),E=e(20237),L=e(18534),W=e(91569),O=e(65589),x=e(55588),H=e(72772),S=e(14292),A=e(82187),z=e.n(A),T=e(29984),q=e(38295),Y=e(22222),D=function(n){return(0,E.Z)({},n.componentCls,{"&-title":{marginBlockEnd:n.marginXL,fontWeight:"bold"},"&-container":(0,E.Z)({flexWrap:"wrap",maxWidth:"100%"},"> div".concat(n.antCls,"-space-item"),{maxWidth:"100%"}),"&-twoLine":(0,E.Z)((0,E.Z)((0,E.Z)((0,E.Z)({display:"block",width:"100%"},"".concat(n.componentCls,"-title"),{width:"100%",margin:"8px 0"}),"".concat(n.componentCls,"-container"),{paddingInlineStart:16}),"".concat(n.antCls,"-space-item,").concat(n.antCls,"-form-item"),{width:"100%"}),"".concat(n.antCls,"-form-item"),{"&-control":{display:"flex",alignItems:"center",justifyContent:"flex-end","&-input":{alignItems:"center",justifyContent:"flex-end","&-content":{flex:"none"}}}})})};function Q(C){return(0,Y.Xj)("ProFormGroup",function(n){var R=(0,f.Z)((0,f.Z)({},n),{},{componentCls:".".concat(C)});return[D(R)]})}var m=e(62086),B=l.forwardRef(function(C,n){var R=l.useContext(T.Z),J=R.groupProps,u=(0,f.Z)((0,f.Z)({},J),C),ie=u.children,le=u.collapsible,se=u.defaultCollapsed,F=u.style,V=u.labelLayout,b=u.title,t=b===void 0?C.label:b,ue=u.tooltip,de=u.align,ce=de===void 0?"start":de,me=u.direction,K=u.size,pe=K===void 0?32:K,fe=u.titleStyle,ve=u.titleRender,N=u.spaceProps,ee=u.extra,X=u.autoFocus,Te=(0,O.Z)(function(){return se||!1},{value:C.collapsed,onChange:C.onCollapse}),he=(0,L.Z)(Te,2),te=he[0],ge=he[1],De=(0,l.useContext)(H.ZP.ConfigContext),Me=De.getPrefixCls,Pe=(0,q.zx)(C),xe=Pe.ColWrapper,Ce=Pe.RowWrapper,$=Me("pro-form-group"),Ee=Q($),ye=Ee.wrapSSR,k=Ee.hashId,Ze=le&&(0,m.jsx)(W.Z,{style:{marginInlineEnd:8},rotate:te?void 0:90}),U=(0,m.jsx)(x.G,{label:Ze?(0,m.jsxs)("div",{children:[Ze,t]}):t,tooltip:ue}),je=(0,l.useCallback)(function(o){var i=o.children;return(0,m.jsx)(S.Z,(0,f.Z)((0,f.Z)({},N),{},{className:z()("".concat($,"-container ").concat(k),N==null?void 0:N.className),size:pe,align:ce,direction:me,style:(0,f.Z)({rowGap:0},N==null?void 0:N.style),children:i}))},[ce,$,me,k,pe,N]),ne=ve?ve(U,C):U,Se=(0,l.useMemo)(function(){var o=[],i=l.Children.toArray(ie).map(function(d,v){var P;return l.isValidElement(d)&&d!==null&&d!==void 0&&(P=d.props)!==null&&P!==void 0&&P.hidden?(o.push(d),null):v===0&&l.isValidElement(d)&&X?l.cloneElement(d,(0,f.Z)((0,f.Z)({},d.props),{},{autoFocus:X})):d});return[(0,m.jsx)(Ce,{Wrapper:je,children:i},"children"),o.length>0?(0,m.jsx)("div",{style:{display:"none"},children:o}):null]},[ie,Ce,je,X]),Fe=(0,L.Z)(Se,2),Ae=Fe[0],Re=Fe[1];return ye((0,m.jsx)(xe,{children:(0,m.jsxs)("div",{className:z()($,k,(0,E.Z)({},"".concat($,"-twoLine"),V==="twoLine")),style:F,ref:n,children:[Re,(t||ue||ee)&&(0,m.jsx)("div",{className:"".concat($,"-title ").concat(k).trim(),style:fe,onClick:function(){ge(!te)},children:ee?(0,m.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[ne,(0,m.jsx)("span",{onClick:function(i){return i.stopPropagation()},children:ee})]}):ne}),(0,m.jsx)("div",{style:{display:le&&te?"none":void 0},children:Ae})]})}))});B.displayName="ProForm-Group";var _=B,s=e(65939);function y(C){return(0,m.jsx)(h.I,(0,f.Z)({layout:"vertical",contentRender:function(R,J){return(0,m.jsxs)(m.Fragment,{children:[R,J]})}},C))}y.Group=_,y.useForm=g.Z.useForm,y.Item=s.Z,y.useWatch=g.Z.useWatch,y.ErrorList=g.Z.ErrorList,y.Provider=g.Z.Provider,y.useFormInstance=g.Z.useFormInstance,y.EditOrReadOnlyContext=G.A},8019:function(oe,I,e){var f=e(90228),g=e.n(f),l=e(87999),h=e.n(l),G=e(68110),E=e(93236),L=e(81384),W=e(37090),O=e(54885),x=e(62086),H=function(A){var z=O.A.useFormInstance(),T=(0,E.useRef)(null),q=function(){if(T.current){var D;z.setFieldValue(A.name,(D=T.current)===null||D===void 0?void 0:D.getContent())}};return(0,E.useEffect)(function(){!A.initialValue&&T.current&&T.current.setContent("")},[A.initialValue]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)(O.A.Item,{hidden:!0,name:A.name}),(0,x.jsx)("div",{className:"mb-2",children:A.label}),(0,x.jsx)(L.M,{onChange:q,onInit:function(D,Q){T.current=Q},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(D,Q,m){if(m.filetype==="file"&&D("mypage.html",{text:"My text"}),m.filetype==="image"){var B=document.createElement("input");B.setAttribute("type","file"),B.setAttribute("accept","image/*"),B.addEventListener("change",function(){var _=h()(g()().mark(function s(y){var C,n,R;return g()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return C=y.target.files[0],n=new FormData,n.append("file",C),u.next=5,(0,W.request)("file/image/upload",{data:n,method:"POST"});case 5:R=u.sent,R&&(G.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),D(R.url,{alt:"My alt text"}));case 7:case"end":return u.stop()}},s)}));return function(s){return _.apply(this,arguments)}}()),B.click()}m.filetype==="media"&&D("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:A.initialValue})]})})};I.Z=H},96668:function(oe,I,e){e.d(I,{W:function(){return g},h:function(){return f}});var f=function(l){return l[l.DEFAULT=0]="DEFAULT",l[l.PAGE=1]="PAGE",l[l.NEWS=2]="NEWS",l[l.NOTIFICATION=3]="NOTIFICATION",l}({}),g=[{value:f.PAGE,label:"Trang"},{value:f.NEWS,label:"Tin t\u1EE9c"},{value:f.NOTIFICATION,label:"Th\xF4ng b\xE1o"}]},76730:function(oe,I,e){e.r(I),e.d(I,{default:function(){return Re}});var f=e(26068),g=e.n(f),l=e(90228),h=e.n(l),G=e(15558),E=e.n(G),L=e(87999),W=e.n(L),O=e(48305),x=e.n(O),H=e(59764),S=e(68110),A=e(55641),z=e(69534),T=e(97146),q=e(16941),Y=e(76477),D=e(19991),Q=e(58925),m=e(70474),B=e(38444),_=e(23318),s=e(93236),y=e(96668),C=e(8019),n=e(37090),R=e(77097),J=e(20433),u=e(54885),ie=e(14123),le=e(24706),se=e(1536),F=e(28730),V=e(57596),b=e(23959),t=e(62086),ue=["fieldProps","request","params","proFieldProps"],de=function(i,d){var v=i.fieldProps,P=i.request,M=i.params,Z=i.proFieldProps,Ie=(0,V.Z)(i,ue);return(0,t.jsx)(b.Z,(0,F.Z)({valueType:"treeSelect",fieldProps:v,ref:d,request:P,params:M,filedConfig:{customLightMode:!0},proFieldProps:Z},Ie))},ce=s.forwardRef(de),me=ce,K=e(29984),pe=["proFieldProps","fieldProps"],fe="date",ve=s.forwardRef(function(o,i){var d=o.proFieldProps,v=o.fieldProps,P=(0,V.Z)(o,pe),M=(0,s.useContext)(K.Z);return(0,t.jsx)(b.Z,(0,F.Z)({ref:i,valueType:fe,fieldProps:(0,F.Z)({getPopupContainer:M.getPopupContainer},v),proFieldProps:d,filedConfig:{valueType:fe,customLightMode:!0}},P))}),N=ve,ee=["proFieldProps","fieldProps"],X="dateMonth",Te=s.forwardRef(function(o,i){var d=o.proFieldProps,v=o.fieldProps,P=(0,V.Z)(o,ee),M=(0,s.useContext)(K.Z);return(0,t.jsx)(b.Z,(0,F.Z)({ref:i,valueType:X,fieldProps:(0,F.Z)({getPopupContainer:M.getPopupContainer},v),proFieldProps:d,filedConfig:{valueType:X,customLightMode:!0}},P))}),he=Te,te=["fieldProps"],ge="dateQuarter",De=s.forwardRef(function(o,i){var d=o.fieldProps,v=(0,V.Z)(o,te),P=(0,s.useContext)(K.Z);return(0,t.jsx)(b.Z,(0,F.Z)({ref:i,valueType:ge,fieldProps:(0,F.Z)({getPopupContainer:P.getPopupContainer},d),filedConfig:{valueType:ge,customLightMode:!0}},v))}),Me=De,Pe=["proFieldProps","fieldProps"],xe="dateWeek",Ce=s.forwardRef(function(o,i){var d=o.proFieldProps,v=o.fieldProps,P=(0,V.Z)(o,Pe),M=(0,s.useContext)(K.Z);return(0,t.jsx)(b.Z,(0,F.Z)({ref:i,valueType:xe,fieldProps:(0,F.Z)({getPopupContainer:M.getPopupContainer},v),proFieldProps:d,filedConfig:{valueType:xe,customLightMode:!0}},P))}),$=Ce,Ee=["proFieldProps","fieldProps"],ye="dateYear",k=s.forwardRef(function(o,i){var d=o.proFieldProps,v=o.fieldProps,P=(0,V.Z)(o,Ee),M=(0,s.useContext)(K.Z);return(0,t.jsx)(b.Z,(0,F.Z)({ref:i,valueType:ye,fieldProps:(0,F.Z)({getPopupContainer:M.getPopupContainer},v),proFieldProps:d,filedConfig:{valueType:ye,customLightMode:!0}},P))}),Ze=k,U=N;U.Week=$,U.Month=he,U.Quarter=Me,U.Year=Ze,U.displayName="ProFormComponent";var je=U,ne=e(42389),Se=function(i){return(0,n.request)("category/options",{params:i})},Fe=H.Z.Dragger,Ae=function(){var i=(0,s.useRef)(),d=(0,n.useParams)(),v=d.id,P=(0,s.useState)({}),M=x()(P,2),Z=M[0],Ie=M[1],Ve=(0,s.useState)([]),Ne=x()(Ve,2),re=Ne[0],Le=Ne[1],Ke=(0,s.useState)(""),We=x()(Ke,2),Be=We[0],be=We[1],$e=(0,s.useState)(!1),Ue=x()($e,2),ze=Ue[0],Oe=Ue[1],Ge=(0,n.useIntl)(),He=(0,s.useCallback)(function(){v&&((0,n.request)("post/get/".concat(v)).then(function(c){var a;Ie(c),(a=i.current)===null||a===void 0||a.setFields([{name:"content",value:c.content},{name:"title",value:c.title},{name:"type",value:c.type},{name:"thumbnail",value:c.thumbnail},{name:"modifiedDate",value:c.modifiedDate},{name:"description",value:c.description}]),be(c.thumbnail)}),(0,n.request)("post/get-list-category-id-in-post/".concat(v)).then(function(c){var a;(a=i.current)===null||a===void 0||a.setFieldValue("categories",c)}),(0,n.request)("post/attachment-list-in-post/".concat(v)).then(function(c){var a=c.map(function(r){return{uid:r.id,name:r.name,status:"done",url:"/files/".concat(r.id).concat(r.extension)}});Le(a)}))},[v]);(0,s.useEffect)(function(){He()},[]);var Ye=function(a){var r=re.map(function(p){return{id:p.uid}});(0,n.request)("post/add",{method:"POST",data:{post:Z,listCategoryId:a.categories,attachments:r}}).then(function(p){p.succeeded?S.ZP.success("L\u01B0u th\xE0nh c\xF4ng!"):S.ZP.error("ERROR"),Oe(!1)})},Qe=function(a){var r=re.map(function(p){return{id:p.uid}});(0,n.request)("post/update",{method:"POST",data:{post:Z,listCategoryId:a.categories,attachments:r}}).then(function(p){p.succeeded?S.ZP.success("L\u01B0u th\xE0nh c\xF4ng!"):S.ZP.error("ERROR"),Oe(!1)})},Je=function(a){(0,n.request)("post/file/delete/".concat(a.uid),{method:"DELETE"}).then(function(r){r.succeeded?Le(re.filter(function(p){return p.uid!==a.uid})):S.ZP.error(r.message)})},Xe=function(){var c=W()(h()().mark(function a(r){var p,j,w;return h()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return p=new FormData,p.append("file",r),ae.next=4,(0,n.request)("post/upload",{method:"POST",data:p});case 4:j=ae.sent,w={uid:j.attach.id,name:j.attach.name,status:"done",url:"/files/".concat(j.attach.id).concat(j.attach.extension)},Le([].concat(E()(re),[w])),S.ZP.success("".concat(r.name," file uploaded successfully."));case 8:case"end":return ae.stop()}},a)}));return function(r){return c.apply(this,arguments)}}(),ke={name:"file",multiple:!1,beforeUpload:Xe,fileList:re,onRemove:Je},we=function(){var c=W()(h()().mark(function a(r){return h()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:r.type=Number(r.type),Z.content=r.content,Z.type=r.type,Z.title=r.title,Z.thumbnail=r.thumbnail,Z.language=(0,ne.dK)(Ge.locale),Z.description=r.description,Z.modifiedDate=r.modifiedDate,Oe(!0),v?Qe(r):Ye(r);case 10:case"end":return j.stop()}},a)}));return function(r){return c.apply(this,arguments)}}();return(0,t.jsx)(R._z,{extra:(0,t.jsx)(A.ZP,{icon:(0,t.jsx)(m.Z,{}),onClick:function(){return n.history.back()},children:"Quay l\u1EA1i"}),children:(0,t.jsx)(J.Z,{children:(0,t.jsx)(u.A,{onFinish:we,layout:"vertical",formRef:i,loading:ze,children:(0,t.jsxs)(z.Z,{gutter:16,children:[(0,t.jsxs)(T.Z,{span:18,children:[(0,t.jsx)(q.Z.Item,{name:"title",label:"Ti\xEAu \u0111\u1EC1",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp ti\xEAu \u0111\u1EC1 b\xE0i vi\u1EBFt"}],children:(0,t.jsx)(Y.Z,{})}),(0,t.jsx)(ie.Z,{label:"M\xF4 t\u1EA3",name:"description",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp m\xF4 t\u1EA3 b\xE0i vi\u1EBFt"},{max:150,message:"M\xF4 t\u1EA3 t\u1ED1i \u0111a 150 k\xFD t\u1EF1"}]}),(0,t.jsx)(C.Z,{name:"content",label:"N\u1ED9i dung",initialValue:Z==null?void 0:Z.content,rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp n\u1ED9i dung b\xE0i vi\u1EBFt"}]})]}),(0,t.jsxs)(T.Z,{span:6,children:[(0,t.jsxs)(z.Z,{gutter:16,children:[(0,t.jsx)(T.Z,{span:12,children:(0,t.jsx)(le.Z,{allowClear:!1,label:"Lo\u1EA1i",name:"type",initialValue:y.h.NEWS,rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn lo\u1EA1i b\xE0i vi\u1EBFt"}],options:y.W})}),(0,t.jsx)(T.Z,{span:12,children:(0,t.jsx)(se.Z,{label:"Ng\xF4n ng\u1EEF",tooltip:"Chuy\u1EC3n ng\xF4n ng\u1EEF tr\xEAn thanh c\xF4ng c\u1EE5",initialValue:(0,n.getLocale)(),name:"language",disabled:!0})})]}),(0,t.jsx)(me,{label:"Danh m\u1EE5c",name:"categories",request:function(a){return Se(g()(g()({},a),{},{language:(0,ne.dK)(Ge.locale)}))},fieldProps:{showSearch:!0,filterTreeNode:function(a,r){var p;return(p=r.label)===null||p===void 0?void 0:p.toLowerCase().includes(a.toLowerCase())},multiple:!0}}),(0,t.jsx)(se.Z,{label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",name:"thumbnail",rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn \u1EA3nh \u0111\u1EA1i di\u1EC7n"}],fieldProps:{suffix:(0,t.jsx)(H.Z,{beforeUpload:function(a){var r=a.type==="image/jpeg"||a.type==="image/png";if(r){var p=new FormData;return p.append("file",a),(0,n.request)("file/image/upload",{method:"POST",data:p}).then(function(j){var w;if(!j.succeeded)return S.ZP.error(j.message),!1;(w=i.current)===null||w===void 0||w.setFieldValue("thumbnail",j.url),be(j.url)}),!1}else return S.ZP.error("You can only upload JPG or PNG file!"),!1},maxCount:1,showUploadList:!1,children:(0,t.jsx)(A.ZP,{icon:(0,t.jsx)(B.Z,{}),size:"small",type:"dashed",children:"T\u1EA3i l\xEAn"})})}}),(0,t.jsx)("div",{className:"mb-4",children:Be?(0,t.jsx)(D.Z,{src:Be,height:180,wrapperClassName:"w-full h-40",style:{width:"100%",objectFit:"cover"}}):(0,t.jsx)("div",{className:"h-40 border flex items-center justify-center",children:(0,t.jsx)(Q.Z,{})})}),(0,t.jsx)(je,{name:"modifiedDate",label:"Ng\xE0y xu\u1EA5t b\u1EA3n",width:"xl"}),(0,t.jsx)("div",{className:"mb-1",children:"T\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsxs)(Fe,g()(g()({},ke),{},{children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(_.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Ch\u1ECDn t\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"H\u1ED7 tr\u1EE3 c\xE1c \u0111\u1ECBnh d\u1EA1ng th\xF4ng d\u1EE5ng .docx, .xlsx, .pdf"})]}))})]})]})})})})},Re=Ae},42389:function(oe,I,e){e.d(I,{dK:function(){return g},gB:function(){return l}});function f(h){return h.trim()}function g(h){return h?h==="vi-VN"?1:2:1}function l(h){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=G?1e3:1024;if(Math.abs(h)<L)return h+" B";var W=G?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],O=-1,x=Math.pow(10,E);do h/=L,++O;while(Math.round(Math.abs(h)*x)/x>=L&&O<W.length-1);return h.toFixed(E)+" "+W[O]}}}]);
