"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[658],{25223:function(R,f,e){e.d(f,{Z:function(){return D}});var x=e(52643),r=e(68136),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},h=d,y=e(91471),j=function(C,s){return r.createElement(y.Z,(0,x.Z)({},C,{ref:s,icon:h}))},D=r.forwardRef(j)},83294:function(R,f,e){e.d(f,{Z:function(){return D}});var x=e(52643),r=e(68136),d={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},h=d,y=e(91471),j=function(C,s){return r.createElement(y.Z,(0,x.Z)({},C,{ref:s,icon:h}))},D=r.forwardRef(j)},86444:function(R,f,e){var x=e(53939),r=e.n(x),d=e(83134),h=e.n(d),y=e(4870),j=e(46665),D=e(68136),A=e(44949),C=e(80812),s=e(33130),N=function(g){var p=y.Z.useFormInstance(),T=(0,D.useRef)(null),V=function(){if(T.current){var c;p.setFieldValue(g.name,(c=T.current)===null||c===void 0?void 0:c.getContent())}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(A.M,{onChange:V,onInit:function(c,F){return T.current=F},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(c,F,O){if(O.filetype=="file"&&c("mypage.html",{text:"My text"}),O.filetype=="image"){var I=document.createElement("input");I.setAttribute("type","file"),I.setAttribute("accept","image/*"),I.addEventListener("change",function(){var K=h()(r()().mark(function U(G){var m,P,S;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return m=G.target.files[0],P=new FormData,P.append("file",m),i.next=5,(0,C.request)("file/image/upload",{data:P,method:"POST"});case 5:S=i.sent,S&&(j.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),c(S.url,{alt:"My alt text"}));case 7:case"end":return i.stop()}},U)}));return function(U){return K.apply(this,arguments)}}()),I.click()}O.filetype=="media"&&c("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:p.getFieldValue(g.name)})})};f.Z=N},17433:function(R,f,e){e.r(f),e.d(f,{default:function(){return me}});var x=e(78095),r=e.n(x),d=e(53939),h=e.n(d),y=e(60430),j=e.n(y),D=e(83134),A=e.n(D),C=e(34827),s=e.n(C),N=e(16790),H=e(24991),g=e(4870),p=e(46665),T=e(88094),V=e(13762),b=e(2537),c=e(22606),F=e(41605),O=e(15621),I=e(24657),K=e(48233),U=e(63687),G=e(83294),m=e(68136),P=function(v){return v[v.DEFAULT=0]="DEFAULT",v[v.PAGE=1]="PAGE",v[v.NEWS=2]="NEWS",v[v.NOTIFICATION=3]="NOTIFICATION",v}({}),S=[{value:P.PAGE,label:"Trang"},{value:P.NEWS,label:"Tin t\u1EE9c"},{value:P.NOTIFICATION,label:"Th\xF4ng b\xE1o"}],_=e(86444),i=e(80812),se=e(62066),oe=e.n(se),ue=e(81068),B=e(26805),t=e(33130),de=N.Z.Dragger,ce=function(){var fe=H.Z.Option,he=g.Z.useForm(),ve=s()(he,1),z=ve[0],ge=(0,i.useParams)(),Z=ge.id,pe=(0,m.useState)({}),w=s()(pe,2),o=w[0],$=w[1],Ee=(0,m.useState)(),k=s()(Ee,2),J=k[0],xe=k[1],ye=(0,m.useState)([]),q=s()(ye,2),Y=q[0],ee=q[1],je=(0,m.useState)([]),te=s()(je,2),L=te[0],Q=te[1],De=(0,m.useState)(),ne=s()(De,2),Ce=ne[0],X=ne[1],Oe=(0,m.useState)(""),ae=s()(Oe,2),Pe=ae[0],le=ae[1],W=(0,i.useIntl)(),ie=(0,m.useCallback)(function(){Z&&((0,i.request)("post/get/".concat(Z)).then(function(a){$(a),z.setFields([{name:"content",value:a.content},{name:"title",value:a.title},{name:"type",value:a.type},{name:"thumbnail",value:a.thumbnail},{name:"language",value:a.language}]),le(a.thumbnail)}),(0,i.request)("post/get-list-category-id-in-post/".concat(Z)).then(function(a){ee(a)}),(0,i.request)("post/attachment-list-in-post/".concat(Z)).then(function(a){var l=a.map(function(n){return{uid:n.id,name:n.name,status:"done",url:"/files/".concat(n.id).concat(n.extension)}});Q(l)}))},[Z]);(0,m.useEffect)(function(){ie(),(0,i.request)("category/get-list?language=".concat((0,B.d)(W.locale))).then(function(a){xe(a)})},[ie]);var Ae=function(){var l=L.map(function(n){return{id:n.uid}});(0,i.request)("post/add",{method:"POST",data:{post:o,listCategoryId:Y,attachments:l}}).then(function(n){n.succeeded?i.history.push("/post/list?type=".concat(o.type,"&language=").concat((0,B.d)(W.locale))):p.ZP.error("ERROR"),X(!1)})},Ie=function(){var l=L.map(function(n){return{id:n.uid}});(0,i.request)("post/update",{method:"POST",data:{post:o,listCategoryId:Y,attachments:l}}).then(function(n){n.succeeded?i.history.push("/post/list?type=".concat(o.type,"&language=").concat((0,B.d)(W.locale))):p.ZP.error("ERROR"),X(!1)})};function Ze(a){ee(a)}var Te=function(l){(0,i.request)("post/file/delete/".concat(l.uid),{method:"DELETE"}).then(function(n){n.succeeded?Q(L.filter(function(E){return E.uid!==l.uid})):p.ZP.error(n.message)})},be=function(){var a=A()(h()().mark(function l(n){var E,u,re;return h()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return E=new FormData,E.append("file",n),M.next=4,(0,i.request)("post/upload",{method:"POST",data:E});case 4:u=M.sent,re={uid:u.attach.id,name:u.attach.name,status:"done",url:"/files/".concat(u.attach.id).concat(u.attach.extension)},Q([].concat(j()(L),[re])),p.ZP.success("".concat(n.name," file uploaded successfully."));case 8:case"end":return M.stop()}},l)}));return function(n){return a.apply(this,arguments)}}(),Fe={name:"file",multiple:!1,beforeUpload:be,fileList:L,onRemove:Te},Se=function(){var a=A()(h()().mark(function l(n){return h()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n.type=Number(n.type),o.content=n.content,o.type=n.type,o.title=n.title,o.thumbnail=n.thumbnail,o.language=(0,B.d)(W.locale),X(!0),Z?Ie():Ae();case 8:case"end":return u.stop()}},l)}));return function(n){return a.apply(this,arguments)}}();return(0,t.jsx)(ue._z,{children:(0,t.jsx)(T.Z,{title:"B\xE0i vi\u1EBFt",children:(0,t.jsx)(g.Z,{onFinish:Se,layout:"vertical",form:z,children:(0,t.jsxs)(V.Z,{gutter:16,children:[(0,t.jsxs)(b.Z,{span:18,children:[(0,t.jsx)(g.Z.Item,{name:"title",label:"Ti\xEAu \u0111\u1EC1",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp ti\xEAu \u0111\u1EC1 b\xE0i vi\u1EBFt"}],children:(0,t.jsx)(c.Z,{})}),(0,t.jsx)("div",{className:"mb-1",children:"M\xF4 t\u1EA3"}),(0,t.jsx)(c.Z.TextArea,{value:o.description,onChange:function(l){return $(r()(r()({},o),{},{description:l.target.value}))},className:"mb-2"}),(0,t.jsx)(g.Z.Item,{name:"content",label:"N\u1ED9i dung",children:(0,t.jsx)(_.Z,{name:"content"})}),(0,t.jsxs)(F.Z,{children:[(0,t.jsx)(O.ZP,{type:"primary",htmlType:"submit",loading:Ce,children:"L\u01B0u l\u1EA1i"}),(0,t.jsx)(O.ZP,{onClick:function(){return i.history.push("/admin/post/list")},children:"H\u1EE7y"})]})]}),(0,t.jsxs)(b.Z,{span:6,children:[(0,t.jsx)(g.Z.Item,{label:"Lo\u1EA1i",name:"type",rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn lo\u1EA1i b\xE0i vi\u1EBFt"}],children:(0,t.jsx)(H.Z,{options:S})}),(0,t.jsx)("div",{className:"mb-1",children:"Danh m\u1EE5c"}),(0,t.jsx)(H.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Vui l\xF2ng ch\u1ECDn",onChange:Ze,className:"mb-2",value:Y,optionFilterProp:"children",filterOption:function(l,n){return n.children.toLowerCase().indexOf(l.toLowerCase())>=0},children:J==null?void 0:J.map(function(a){return(0,t.jsx)(fe,{value:a.id,children:a.name},a.id)})}),(0,t.jsxs)(F.Z,{children:[(0,t.jsx)(g.Z.Item,{label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",name:"thumbnail",children:(0,t.jsx)(c.Z,{})}),(0,t.jsx)(N.Z,{beforeUpload:function(l){var n=l.type==="image/jpeg"||l.type==="image/png";if(n){var E=new FormData;return E.append("file",l),(0,i.request)("file/upload",{method:"POST",data:E}).then(function(u){if(!u.succeeded)return p.ZP.error(u.message),!1;z.setFieldValue("thumbnail",u.url),le(u.url)}),!1}else return p.ZP.error("You can only upload JPG or PNG file!"),!1},maxCount:1,showUploadList:!1,children:(0,t.jsx)(O.ZP,{icon:(0,t.jsx)(U.Z,{}),children:"T\u1EA3i l\xEAn"})})]}),(0,t.jsx)("div",{children:(0,t.jsx)(I.Z,{src:Pe})}),(0,t.jsx)("div",{className:"mb-1",children:"Ng\xE0y xu\u1EA5t b\u1EA3n"}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)(K.default,{onChange:function(l,n){return $(r()(r()({},o),{},{modifiedDate:l==null?void 0:l.toDate()}))},value:oe()(o==null?void 0:o.modifiedDate)})}),(0,t.jsx)("div",{className:"mb-1",children:"T\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsxs)(de,r()(r()({},Fe),{},{children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(G.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Ch\u1ECDn t\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"L\u1EF1a ch\u1ECDn t\u1EC7p tin \u0111\u1EC3 t\u1EA3i l\xEAn. H\u1ED7 tr\u1EE3 c\xE1c \u0111\u1ECBnh d\u1EA1ng th\xF4ng d\u1EE5ng .docx, .xlsx, .pdf"})]}))})]})]})})})})},me=ce},26805:function(R,f,e){e.d(f,{d:function(){return r}});function x(d){return d.trim()}function r(d){return d?d==="vi-VN"?1:2:1}}}]);
