"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1658],{22717:function(A,v,e){e.d(v,{Z:function(){return x}});var g=e(48063),s=e(93236),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},c=r,p=e(38782),O=function(P,m){return s.createElement(p.Z,(0,g.Z)({},P,{ref:m,icon:c}))},x=s.forwardRef(O)},23318:function(A,v,e){e.d(v,{Z:function(){return x}});var g=e(48063),s=e(93236),r={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},c=r,p=e(38782),O=function(P,m){return s.createElement(p.Z,(0,g.Z)({},P,{ref:m,icon:c}))},x=s.forwardRef(O)},8019:function(A,v,e){var g=e(90228),s=e.n(g),r=e(87999),c=e.n(r),p=e(16941),O=e(68110),x=e(93236),b=e(81384),P=e(37090),m=e(62086),L=function(y){var n=p.Z.useFormInstance(),a=(0,x.useRef)(null),u=function(){if(a.current){var d;n.setFieldValue(y.name,(d=a.current)===null||d===void 0?void 0:d.getContent())}};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(b.M,{onChange:u,onInit:function(d,U){return a.current=U},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(d,U,T){if(T.filetype=="file"&&d("mypage.html",{text:"My text"}),T.filetype=="image"){var S=document.createElement("input");S.setAttribute("type","file"),S.setAttribute("accept","image/*"),S.addEventListener("change",function(){var K=c()(s()().mark(function W(G){var B,C,F;return s()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return B=G.target.files[0],C=new FormData,C.append("file",B),I.next=5,(0,P.request)("file/image/upload",{data:C,method:"POST"});case 5:F=I.sent,F&&(O.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),d(F.url,{alt:"My alt text"}));case 7:case"end":return I.stop()}},W)}));return function(W){return K.apply(this,arguments)}}()),S.click()}T.filetype=="media"&&d("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:n.getFieldValue(y.name)})})};v.Z=L},35782:function(A,v,e){e.r(v),e.d(v,{default:function(){return he}});var g=e(26068),s=e.n(g),r=e(90228),c=e.n(r),p=e(15558),O=e.n(p),x=e(87999),b=e.n(x),P=e(48305),m=e.n(P),L=e(31633),N=e(95845),y=e(16941),n=e(68110),a=e(98659),u=e(69534),j=e(97146),d=e(76477),U=e(14292),T=e(55641),S=e(19991),K=e(58925),W=e(62),G=e(38444),B=e(23318),C=e(93236),F=function(D){return D[D.DEFAULT=0]="DEFAULT",D[D.PAGE=1]="PAGE",D[D.NEWS=2]="NEWS",D[D.NOTIFICATION=3]="NOTIFICATION",D}({}),_=[{value:F.PAGE,label:"Trang"},{value:F.NEWS,label:"Tin t\u1EE9c"},{value:F.NOTIFICATION,label:"Th\xF4ng b\xE1o"}],I=e(8019),f=e(37090),ue=e(5726),de=e.n(ue),ce=e(77097),V=e(42389),t=e(62086),me=L.Z.Dragger,fe=function(){var ve=N.Z.Option,ge=y.Z.useForm(),Ee=m()(ge,1),w=Ee[0],pe=(0,f.useParams)(),M=pe.id,xe=(0,C.useState)({}),k=m()(xe,2),h=k[0],$=k[1],ye=(0,C.useState)(),q=m()(ye,2),J=q[0],je=q[1],Ce=(0,C.useState)([]),ee=m()(Ce,2),X=ee[0],te=ee[1],Oe=(0,C.useState)([]),ne=m()(Oe,2),R=ne[0],Y=ne[1],Pe=(0,C.useState)(),ae=m()(Pe,2),De=ae[0],Q=ae[1],be=(0,C.useState)(""),le=m()(be,2),ie=le[0],oe=le[1],z=(0,f.useIntl)(),re=(0,C.useCallback)(function(){M&&((0,f.request)("post/get/".concat(M)).then(function(l){$(l),w.setFields([{name:"content",value:l.content},{name:"title",value:l.title},{name:"type",value:l.type},{name:"thumbnail",value:l.thumbnail},{name:"language",value:l.language}]),oe(l.thumbnail)}),(0,f.request)("post/get-list-category-id-in-post/".concat(M)).then(function(l){te(l)}),(0,f.request)("post/attachment-list-in-post/".concat(M)).then(function(l){var o=l.map(function(i){return{uid:i.id,name:i.name,status:"done",url:"/files/".concat(i.id).concat(i.extension)}});Y(o)}))},[M]);(0,C.useEffect)(function(){re(),(0,f.request)("category/get-list?language=".concat((0,V.d)(z.locale))).then(function(l){je(l)})},[re]);var Ze=function(){var o=R.map(function(i){return{id:i.uid}});(0,f.request)("post/add",{method:"POST",data:{post:h,listCategoryId:X,attachments:o}}).then(function(i){i.succeeded?f.history.push("/post/list?type=".concat(h.type,"&language=").concat((0,V.d)(z.locale))):n.ZP.error("ERROR"),Q(!1)})},Te=function(){var o=R.map(function(i){return{id:i.uid}});(0,f.request)("post/update",{method:"POST",data:{post:h,listCategoryId:X,attachments:o}}).then(function(i){i.succeeded?f.history.push("/post/list?type=".concat(h.type,"&language=").concat((0,V.d)(z.locale))):n.ZP.error("ERROR"),Q(!1)})};function Fe(l){te(l)}var Ie=function(o){(0,f.request)("post/file/delete/".concat(o.uid),{method:"DELETE"}).then(function(i){i.succeeded?Y(R.filter(function(Z){return Z.uid!==o.uid})):n.ZP.error(i.message)})},Ae=function(){var l=b()(c()().mark(function o(i){var Z,E,se;return c()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return Z=new FormData,Z.append("file",i),H.next=4,(0,f.request)("post/upload",{method:"POST",data:Z});case 4:E=H.sent,se={uid:E.attach.id,name:E.attach.name,status:"done",url:"/files/".concat(E.attach.id).concat(E.attach.extension)},Y([].concat(O()(R),[se])),n.ZP.success("".concat(i.name," file uploaded successfully."));case 8:case"end":return H.stop()}},o)}));return function(i){return l.apply(this,arguments)}}(),Le={name:"file",multiple:!1,beforeUpload:Ae,fileList:R,onRemove:Ie},Se=function(){var l=b()(c()().mark(function o(i){return c()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:i.type=Number(i.type),h.content=i.content,h.type=i.type,h.title=i.title,h.thumbnail=i.thumbnail,h.language=(0,V.d)(z.locale),Q(!0),M?Te():Ze();case 8:case"end":return E.stop()}},o)}));return function(i){return l.apply(this,arguments)}}();return(0,t.jsx)(ce._z,{children:(0,t.jsx)(a.Z,{children:(0,t.jsx)(y.Z,{onFinish:Se,layout:"vertical",form:w,children:(0,t.jsxs)(u.Z,{gutter:16,children:[(0,t.jsxs)(j.Z,{span:18,children:[(0,t.jsx)(y.Z.Item,{name:"title",label:"Ti\xEAu \u0111\u1EC1",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp ti\xEAu \u0111\u1EC1 b\xE0i vi\u1EBFt"}],children:(0,t.jsx)(d.Z,{})}),(0,t.jsx)("div",{className:"mb-1",children:"M\xF4 t\u1EA3"}),(0,t.jsx)(d.Z.TextArea,{value:h.description,onChange:function(o){return $(s()(s()({},h),{},{description:o.target.value}))},className:"mb-2"}),(0,t.jsx)(y.Z.Item,{name:"content",label:"N\u1ED9i dung",children:(0,t.jsx)(I.Z,{name:"content"})}),(0,t.jsxs)(U.Z,{children:[(0,t.jsx)(T.ZP,{type:"primary",htmlType:"submit",loading:De,children:"L\u01B0u l\u1EA1i"}),(0,t.jsx)(T.ZP,{onClick:function(){return f.history.push("/admin/post/list")},children:"H\u1EE7y"})]})]}),(0,t.jsxs)(j.Z,{span:6,children:[(0,t.jsxs)(u.Z,{gutter:16,children:[(0,t.jsx)(j.Z,{span:12,children:(0,t.jsx)(y.Z.Item,{label:"Lo\u1EA1i",name:"type",rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn lo\u1EA1i b\xE0i vi\u1EBFt"}],children:(0,t.jsx)(N.Z,{options:_})})}),(0,t.jsx)(j.Z,{span:12,children:(0,t.jsx)(y.Z.Item,{label:"Ng\xF4n ng\u1EEF",tooltip:"Chuy\u1EC3n ng\xF4n ng\u1EEF tr\xEAn thanh c\xF4ng c\u1EE5",children:(0,t.jsx)(d.Z,{disabled:!0,value:(0,f.getLocale)()})})})]}),(0,t.jsx)("div",{className:"mb-1",children:"Danh m\u1EE5c"}),(0,t.jsx)(N.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Vui l\xF2ng ch\u1ECDn",onChange:Fe,className:"mb-2",value:X,optionFilterProp:"children",filterOption:function(o,i){return i.children.toLowerCase().indexOf(o.toLowerCase())>=0},children:J==null?void 0:J.map(function(l){return(0,t.jsx)(ve,{value:l.id,children:l.name},l.id)})}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(y.Z.Item,{label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",name:"thumbnail",style:{width:"100%"},children:(0,t.jsx)(d.Z,{suffix:(0,t.jsx)(L.Z,{beforeUpload:function(o){var i=o.type==="image/jpeg"||o.type==="image/png";if(i){var Z=new FormData;return Z.append("file",o),(0,f.request)("file/image/upload",{method:"POST",data:Z}).then(function(E){if(!E.succeeded)return n.ZP.error(E.message),!1;w.setFieldValue("thumbnail",E.url),oe(E.url)}),!1}else return n.ZP.error("You can only upload JPG or PNG file!"),!1},maxCount:1,showUploadList:!1,children:(0,t.jsx)(T.ZP,{icon:(0,t.jsx)(G.Z,{}),size:"small",children:"T\u1EA3i l\xEAn"})})})})}),(0,t.jsx)("div",{className:"mb-4",children:ie?(0,t.jsx)(S.Z,{src:ie,height:200,wrapperClassName:"w-full",style:{width:"100%",objectFit:"cover"}}):(0,t.jsx)(K.Z,{})}),(0,t.jsx)("div",{className:"mb-1",children:"Ng\xE0y xu\u1EA5t b\u1EA3n"}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)(W.default,{onChange:function(o){return $(s()(s()({},h),{},{modifiedDate:o==null?void 0:o.toDate()}))},value:de()(h==null?void 0:h.modifiedDate)})}),(0,t.jsx)("div",{className:"mb-1",children:"T\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsxs)(me,s()(s()({},Le),{},{children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(B.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Ch\u1ECDn t\u1EC7p tin \u0111\xEDnh k\xE8m"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"H\u1ED7 tr\u1EE3 c\xE1c \u0111\u1ECBnh d\u1EA1ng th\xF4ng d\u1EE5ng .docx, .xlsx, .pdf"})]}))})]})]})})})})},he=fe},42389:function(A,v,e){e.d(v,{d:function(){return s}});function g(r){return r.trim()}function s(r){return r?r==="vi-VN"?1:2:1}},52802:function(A,v,e){e.d(v,{Z:function(){return s}});var g=e(19103);function s(r,c,p,O){var x=g.unstable_batchedUpdates?function(P){g.unstable_batchedUpdates(p,P)}:p;return r!=null&&r.addEventListener&&r.addEventListener(c,x,O),{remove:function(){r!=null&&r.removeEventListener&&r.removeEventListener(c,x,O)}}}},74253:function(A,v,e){e.d(v,{g1:function(){return L},os:function(){return y}});var g=/margin|padding|width|height|max|min|offset/,s={left:!0,top:!0},r={cssFloat:1,styleFloat:1,float:1};function c(n){return n.nodeType===1?n.ownerDocument.defaultView.getComputedStyle(n,null):{}}function p(n,a,u){if(a=a.toLowerCase(),u==="auto"){if(a==="height")return n.offsetHeight;if(a==="width")return n.offsetWidth}return a in s||(s[a]=g.test(a)),s[a]?parseFloat(u)||0:u}function O(n,a){var u=arguments.length,j=c(n);return a=r[a]?"cssFloat"in n.style?"cssFloat":"styleFloat":a,u===1?j:p(n,a,j[a]||n.style[a])}function x(n,a,u){var j=arguments.length;if(a=r[a]?"cssFloat"in n.style?"cssFloat":"styleFloat":a,j===3)return typeof u=="number"&&g.test(a)&&(u="".concat(u,"px")),n.style[a]=u,u;for(var d in a)a.hasOwnProperty(d)&&x(n,d,a[d]);return c(n)}function b(n){return n===document.body?document.documentElement.clientWidth:n.offsetWidth}function P(n){return n===document.body?window.innerHeight||document.documentElement.clientHeight:n.offsetHeight}function m(){var n=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:n,height:a}}function L(){var n=document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight;return{width:n,height:a}}function N(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function y(n){var a=n.getBoundingClientRect(),u=document.documentElement;return{left:a.left+(window.pageXOffset||u.scrollLeft)-(u.clientLeft||document.body.clientLeft||0),top:a.top+(window.pageYOffset||u.scrollTop)-(u.clientTop||document.body.clientTop||0)}}}}]);
