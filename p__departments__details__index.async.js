"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[229],{49799:function(W,x,e){e.d(x,{Z:function(){return n}});var h=e(52643),o=e(68136),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},y=I,m=e(91471),s=function(S,g){return o.createElement(m.Z,(0,h.Z)({},S,{ref:g,icon:y}))},n=o.forwardRef(s)},86444:function(W,x,e){var h=e(53939),o=e.n(h),I=e(83134),y=e.n(I),m=e(4870),s=e(46665),n=e(68136),p=e(44949),S=e(80812),g=e(33130),O=function(F){var z=m.Z.useFormInstance(),i=(0,n.useRef)(null),a=function(){if(i.current){var r;z.setFieldValue(F.name,(r=i.current)===null||r===void 0?void 0:r.getContent())}};return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(p.M,{onChange:a,onInit:function(r,f){return i.current=f},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(r,f,$){if($.filetype=="file"&&r("mypage.html",{text:"My text"}),$.filetype=="image"){var E=document.createElement("input");E.setAttribute("type","file"),E.setAttribute("accept","image/*"),E.addEventListener("change",function(){var d=y()(o()().mark(function N(k){var A,v,t;return o()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return A=k.target.files[0],v=new FormData,v.append("file",A),B.next=5,(0,S.request)("file/image/upload",{data:v,method:"POST"});case 5:t=B.sent,t&&(s.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),r(t.url,{alt:"My alt text"}));case 7:case"end":return B.stop()}},N)}));return function(N){return d.apply(this,arguments)}}()),E.click()}$.filetype=="media"&&r("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:z.getFieldValue(F.name)})})};x.Z=O},69347:function(W,x,e){e.r(x),e.d(x,{default:function(){return b}});var h=e(53939),o=e.n(h),I=e(83134),y=e.n(I),m=e(34827),s=e.n(m),n=e(4870),p=e(46665),S=e(41605),g=e(15621),O=e(30339),R=e(13762),F=e(2537),z=e(88094),i=e(85638),a=e(22606),D=e(24991),r=e(50775),f=e(62960),$=e(59176),E=e(18186),d=e(68136),N=e(49799),k=e(25223),A=e(86444),v=e(80812),t=e(33130),Q=function(G){var M=G.activeTab,Y=G.fetchData,U=n.Z.useForm(),V=s()(U,1),L=V[0],J=function(){var Z=y()(o()().mark(function K(H){var X;return o()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,v.request)("department/update-detail",{method:"POST",data:H});case 2:X=w.sent,X.succeeded&&p.ZP.success("Th\xE0nh c\xF4ng!");case 4:case"end":return w.stop()}},K)}));return function(H){return Z.apply(this,arguments)}}();(0,d.useEffect)(function(){M&&(0,v.request)("department/detail/content/".concat(M)).then(function(Z){L.setFields([{name:"id",value:Z.data.id},{name:"type",value:Z.data.type},{name:"content",value:Z.data.content}])})},[]);var _=function(){var Z=y()(o()().mark(function K(){var H;return o()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,j.next=3,(0,v.request)("department/detail/delete/".concat(M),{method:"POST"});case 3:H=j.sent,H.data&&(p.ZP.success("Th\xE0nh c\xF4ng!"),Y()),j.next=9;break;case 7:j.prev=7,j.t0=j.catch(0);case 9:case"end":return j.stop()}},K,null,[[0,7]])}));return function(){return Z.apply(this,arguments)}}();return(0,t.jsxs)(n.Z,{form:L,layout:"vertical",onFinish:J,children:[(0,t.jsx)(n.Z.Item,{name:"id",hidden:!0,children:(0,t.jsx)(a.Z,{})}),(0,t.jsx)(n.Z.Item,{name:"type",label:"Ti\xEAu \u0111\u1EC1",required:!0,children:(0,t.jsx)(a.Z,{})}),(0,t.jsx)(n.Z.Item,{name:"content",label:"N\u1ED9i dung",required:!0,children:(0,t.jsx)(A.Z,{name:"content"})}),(0,t.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,t.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"L\u01B0u l\u1EA1i"}),(0,t.jsx)(O.Z,{title:"X\xE1c nh\u1EADn x\xF3a?",onConfirm:function(){return _()},children:(0,t.jsx)(g.ZP,{type:"primary",danger:!0,children:"X\xF3a"})})]})]})},B=function(){var G=(0,v.useParams)(),M=G.id,Y=(0,d.useState)(!1),U=s()(Y,2),V=U[0],L=U[1],J=(0,d.useState)([]),_=s()(J,2),Z=_[0],K=_[1],H=(0,d.useState)(),X=s()(H,2),j=X[0],w=X[1],de=n.Z.useForm(),ue=s()(de,1),ae=ue[0],ce=(0,d.useState)([]),ie=s()(ce,2),me=ie[0],fe=ie[1],he=(0,d.useState)([]),se=s()(he,2),ve=se[0],pe=se[1],ge=(0,d.useState)(),le=s()(ge,2),Ee=le[0],oe=le[1],xe=n.Z.useForm(),ye=s()(xe,1),q=ye[0],re=function(){(0,v.request)("department/detail/".concat(M)).then(function(l){K(l),l&&l.length>0&&oe(l[0].id)})},ee=function(){(0,v.request)("department/users-in-department/".concat(M)).then(function(l){pe(l)})};(0,d.useEffect)(function(){(0,v.request)("department/".concat(M)).then(function(u){w(u)}),re(),(0,v.request)("user/select").then(function(u){fe(u)}),ee()},[]);var je=function(){var u=y()(o()().mark(function l(c){var C;return o()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(c.departmentId=M,!c.id){T.next=4;break}T.next=8;break;case 4:return T.next=6,(0,v.request)("department/add-detail",{method:"POST",data:c});case 6:C=T.sent,C.succeeded&&(p.ZP.success("Th\xE0nh c\xF4ng!"),L(!1),re());case 8:case"end":return T.stop()}},l)}));return function(c){return u.apply(this,arguments)}}(),Pe=function(){var u=y()(o()().mark(function l(c){var C,te;return o()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(P.prev=0,c.departmentId=M,!c.id){P.next=9;break}return P.next=5,(0,v.request)("department/update-user",{method:"POST",data:c});case 5:return C=P.sent,C.data&&(p.ZP.success("Th\xE0nh c\xF4ng!"),ee()),q.resetFields(),P.abrupt("return");case 9:return P.next=11,(0,v.request)("department/add-user",{method:"POST",data:c});case 11:te=P.sent,te&&(p.ZP.success("Th\xE0nh c\xF4ng!"),ee()),q.resetFields(),P.next=20;break;case 16:P.prev=16,P.t0=P.catch(0),console.log(P.t0),p.ZP.error("C\xF3 l\u1ED7i x\u1EA3y ra!");case 20:case"end":return P.stop()}},l,null,[[0,16]])}));return function(c){return u.apply(this,arguments)}}(),Ze=function(l,c){var C;return((C=c==null?void 0:c.label)!==null&&C!==void 0?C:"").toLowerCase().includes(l.toLowerCase())},Ce=function(){var u=y()(o()().mark(function l(c){var C;return o()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,v.request)("department/remove-user/".concat(c),{method:"POST"});case 2:C=T.sent,C.succeeded&&(p.ZP.success("Th\xE0nh c\xF4ng!"),ee());case 4:case"end":return T.stop()}},l)}));return function(c){return u.apply(this,arguments)}}(),Te=function(l){q.setFields([{name:"id",value:l.id},{name:"userId",value:l.userId},{name:"rank",value:l.rank},{name:"type",value:l.type},{name:"jobTitle",value:l.jobTitle}])},Oe=[{title:"Rank",dataIndex:"rank"},{title:"H\u1ECD v\xE0 t\xEAn",dataIndex:"name"},{title:"Ch\u1EE9c danh",dataIndex:"jobTitle"},{title:"T\xE1c v\u1EE5",render:function(l,c){return(0,t.jsxs)(S.Z,{children:[(0,t.jsx)(g.ZP,{icon:(0,t.jsx)(N.Z,{}),onClick:function(){return Te(c)}}),(0,t.jsx)(O.Z,{title:"X\xE1c nh\u1EADn x\xF3a?",onConfirm:function(){return Ce(c.id)},children:(0,t.jsx)(g.ZP,{type:"primary",danger:!0,icon:(0,t.jsx)(k.Z,{})})})]})}}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(R.Z,{gutter:16,children:[(0,t.jsx)(F.Z,{span:16,children:(0,t.jsx)(z.Z,{title:j==null?void 0:j.name,extra:(0,t.jsx)(g.ZP,{type:"primary",onClick:function(){ae.resetFields(),L(!0)},children:"Th\xEAm m\u1EDBi"}),children:(0,t.jsx)(i.Z,{type:"card",onChange:function(l){oe(l)},items:Z==null?void 0:Z.map(function(u){return{label:u.type,key:u.id,children:(0,t.jsx)(Q,{activeTab:Ee,fetchData:re})}})})})}),(0,t.jsx)(F.Z,{span:8,children:(0,t.jsxs)(z.Z,{title:"C\u01A1 c\u1EA5u t\u1ED5 ch\u1EE9c",children:[(0,t.jsxs)(n.Z,{layout:"vertical",onFinish:Pe,form:q,children:[(0,t.jsx)(n.Z.Item,{name:"id",hidden:!0,children:(0,t.jsx)(a.Z,{})}),(0,t.jsx)(n.Z.Item,{name:"userId",label:"Th\xE0nh vi\xEAn",rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn th\xE0nh vi\xEAn"}],children:(0,t.jsx)(D.Z,{options:me,showSearch:!0,filterOption:Ze})}),(0,t.jsxs)(R.Z,{gutter:8,children:[(0,t.jsx)(F.Z,{span:6,children:(0,t.jsx)(n.Z.Item,{name:"rank",label:"Rank",children:(0,t.jsx)(r.Z,{className:"w-full"})})}),(0,t.jsx)(F.Z,{span:9,children:(0,t.jsx)(n.Z.Item,{name:"type",required:!0,label:"Nh\xF3m",children:(0,t.jsx)(a.Z,{})})}),(0,t.jsx)(F.Z,{span:9,children:(0,t.jsx)(n.Z.Item,{name:"jobTitle",label:"Ch\u1EE9c danh",children:(0,t.jsx)(a.Z,{})})})]}),(0,t.jsx)(n.Z.Item,{children:(0,t.jsx)(g.ZP,{type:"primary",htmlType:"submit",className:"w-full",children:"L\u01B0u l\u1EA1i"})})]}),(0,t.jsx)(f.Z,{children:"Th\xE0nh vi\xEAn trong Vi\u1EC7n - Khoa"}),(0,t.jsx)($.Z,{dataSource:ve,rowKey:"id",columns:Oe})]})})]}),(0,t.jsx)(E.Z,{title:"Khoa - Vi\u1EC7n",open:V,onCancel:function(){L(!1)},footer:!1,children:(0,t.jsxs)(n.Z,{layout:"vertical",onFinish:je,form:ae,children:[(0,t.jsx)(n.Z.Item,{name:"id",hidden:!0,children:(0,t.jsx)(a.Z,{})}),(0,t.jsx)(n.Z.Item,{label:"Nh\xF3m",name:"type",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp t\xEAn nh\xF3m"}],children:(0,t.jsx)(a.Z,{})}),(0,t.jsx)(n.Z.Item,{label:"N\u1ED9i dung",name:"content",required:!0,children:(0,t.jsx)(A.Z,{name:"content"})}),(0,t.jsx)(n.Z.Item,{label:"Th\u1EE9 t\u1EF1",name:"sortOrder",required:!0,children:(0,t.jsx)(r.Z,{})}),(0,t.jsx)(n.Z.Item,{children:(0,t.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"L\u01B0u l\u1EA1i"})})]})})]})},b=B},5858:function(W,x,e){var h=e(68136),o=e(87358);function I(m,s,n){return typeof m=="boolean"?m:s===void 0?!!n:s!==!1&&s!==null}function y(m,s,n){let p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h.createElement(o.Z,null),S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!I(m,s,S))return[!1,null];const O=typeof s=="boolean"||s===void 0||s===null?p:s;return[!0,n?n(O):O]}x.Z=y},2537:function(W,x,e){var h=e(30577);x.Z=h.Z},62960:function(W,x,e){e.d(x,{Z:function(){return z}});var h=e(68136),o=e(91150),I=e.n(o),y=e(80822),m=e(90130),s=e(63293),n=e(29029),p=e(46075);const S=i=>{const{componentCls:a,sizePaddingEdgeHorizontal:D,colorSplit:r,lineWidth:f,textPaddingInline:$,orientationMargin:E,verticalMarginInline:d}=i;return{[a]:Object.assign(Object.assign({},(0,s.Wf)(i)),{borderBlockStart:`${(0,m.unit)(f)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:d,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,m.unit)(f)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,m.unit)(i.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${a}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,m.unit)(i.dividerHorizontalWithTextGutterMargin)} 0`,color:i.colorTextHeading,fontWeight:500,fontSize:i.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,m.unit)(f)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${a}-with-text-left`]:{"&::before":{width:`calc(${E} * 100%)`},"&::after":{width:`calc(100% - ${E} * 100%)`}},[`&-horizontal${a}-with-text-right`]:{"&::before":{width:`calc(100% - ${E} * 100%)`},"&::after":{width:`calc(${E} * 100%)`}},[`${a}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:$},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${(0,m.unit)(f)} 0 0`},[`&-horizontal${a}-with-text${a}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${a}-dashed`]:{borderInlineStartWidth:f,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${a}-with-text`]:{color:i.colorText,fontWeight:"normal",fontSize:i.fontSize},[`&-horizontal${a}-with-text-left${a}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${a}-inner-text`]:{paddingInlineStart:D}},[`&-horizontal${a}-with-text-right${a}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${a}-inner-text`]:{paddingInlineEnd:D}}})}},g=i=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:i.marginXS});var O=(0,n.I$)("Divider",i=>{const a=(0,p.TS)(i,{dividerHorizontalWithTextGutterMargin:i.margin,dividerHorizontalGutterMargin:i.marginLG,sizePaddingEdgeHorizontal:0});return[S(a)]},g,{unitless:{orientationMargin:!0}}),R=function(i,a){var D={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&a.indexOf(r)<0&&(D[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,r=Object.getOwnPropertySymbols(i);f<r.length;f++)a.indexOf(r[f])<0&&Object.prototype.propertyIsEnumerable.call(i,r[f])&&(D[r[f]]=i[r[f]]);return D},z=i=>{const{getPrefixCls:a,direction:D,divider:r}=h.useContext(y.E_),{prefixCls:f,type:$="horizontal",orientation:E="center",orientationMargin:d,className:N,rootClassName:k,children:A,dashed:v,plain:t,style:Q}=i,B=R(i,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),b=a("divider",f),[ne,G,M]=O(b),Y=E.length>0?`-${E}`:E,U=!!A,V=E==="left"&&d!=null,L=E==="right"&&d!=null,J=I()(b,r==null?void 0:r.className,G,M,`${b}-${$}`,{[`${b}-with-text`]:U,[`${b}-with-text${Y}`]:U,[`${b}-dashed`]:!!v,[`${b}-plain`]:!!t,[`${b}-rtl`]:D==="rtl",[`${b}-no-default-orientation-margin-left`]:V,[`${b}-no-default-orientation-margin-right`]:L},N,k),_=h.useMemo(()=>typeof d=="number"?d:/^\d+$/.test(d)?Number(d):d,[d]),Z=Object.assign(Object.assign({},V&&{marginLeft:_}),L&&{marginRight:_});return ne(h.createElement("div",Object.assign({className:J,style:Object.assign(Object.assign({},r==null?void 0:r.style),Q)},B,{role:"separator"}),A&&$!=="vertical"&&h.createElement("span",{className:`${b}-inner-text`,style:Z},A)))}},13762:function(W,x,e){var h=e(36035);x.Z=h.Z},28899:function(W,x,e){e.d(x,{H:function(){return m}});var h=e(78910),o=e(68136);function I(){}const y=o.createContext({add:I,remove:I});function m(n){const p=o.useContext(y),S=o.useRef();return(0,h.useEvent)(O=>{if(O){const R=n?O.querySelector(n):O;p.add(R),S.current=R}else p.remove(S.current)})}var s=null}}]);
