"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9229],{25223:function(_,d,n){n.d(d,{Z:function(){return t}});var m=n(52643),s=n(68136),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},f=j,p=n(91471),r=function(x,u){return s.createElement(p.Z,(0,m.Z)({},x,{ref:u,icon:f}))},t=s.forwardRef(r)},49799:function(_,d,n){n.d(d,{Z:function(){return t}});var m=n(52643),s=n(68136),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},f=j,p=n(91471),r=function(x,u){return s.createElement(p.Z,(0,m.Z)({},x,{ref:u,icon:f}))},t=s.forwardRef(r)},86444:function(_,d,n){var m=n(53939),s=n.n(m),j=n(83134),f=n.n(j),p=n(4870),r=n(46665),t=n(68136),o=n(44949),x=n(58703),u=n(33130),D=function(C){var U=p.Z.useFormInstance(),B=(0,t.useRef)(null),T=function(){if(B.current){var y;U.setFieldValue(C.name,(y=B.current)===null||y===void 0?void 0:y.getContent())}};return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(o.M,{onChange:T,onInit:function(y,$){return B.current=$},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(y,$,K){if(K.filetype=="file"&&y("mypage.html",{text:"My text"}),K.filetype=="image"){var R=document.createElement("input");R.setAttribute("type","file"),R.setAttribute("accept","image/*"),R.addEventListener("change",function(){var P=f()(s()().mark(function z(Q){var W,c,e;return s()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return W=Q.target.files[0],c=new FormData,c.append("file",W),F.next=5,(0,x.request)("file/image/upload",{data:c,method:"POST"});case 5:e=F.sent,e&&(r.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),y(e.url,{alt:"My alt text"}));case 7:case"end":return F.stop()}},z)}));return function(z){return P.apply(this,arguments)}}()),R.click()}K.filetype=="media"&&y("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:U.getFieldValue(C.name)})})};d.Z=D},69347:function(_,d,n){n.r(d),n.d(d,{default:function(){return le}});var m=n(53939),s=n.n(m),j=n(83134),f=n.n(j),p=n(34827),r=n.n(p),t=n(4870),o=n(46665),x=n(41605),u=n(15621),D=n(30339),b=n(13762),C=n(2537),U=n(88094),B=n(85638),T=n(10483),H=n(24991),y=n(50775),$=n(62960),K=n(26299),R=n(18186),P=n(68136),z=n(49799),Q=n(25223),W=n(86444),c=n(58703),e=n(33130),ne=function(N){var O=N.activeTab,Y=N.fetchData,V=t.Z.useForm(),w=r()(V,1),S=w[0],q=function(){var Z=f()(s()().mark(function I(M){var L;return s()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,c.request)("department/update-detail",{method:"POST",data:M});case 2:L=A.sent,L.succeeded&&o.ZP.success("Th\xE0nh c\xF4ng!");case 4:case"end":return A.stop()}},I)}));return function(M){return Z.apply(this,arguments)}}();(0,P.useEffect)(function(){O&&(0,c.request)("department/detail/content/".concat(O)).then(function(Z){Z.data&&S.setFields([{name:"id",value:Z.data.id},{name:"type",value:Z.data.type},{name:"content",value:Z.data.content}])})},[]);var G=function(){var Z=f()(s()().mark(function I(){var M;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,(0,c.request)("department/detail/delete/".concat(O),{method:"POST"});case 3:M=h.sent,M.data&&(o.ZP.success("Th\xE0nh c\xF4ng!"),Y()),h.next=9;break;case 7:h.prev=7,h.t0=h.catch(0);case 9:case"end":return h.stop()}},I,null,[[0,7]])}));return function(){return Z.apply(this,arguments)}}();return(0,e.jsxs)(t.Z,{form:S,layout:"vertical",onFinish:q,children:[(0,e.jsx)(t.Z.Item,{name:"id",hidden:!0,children:(0,e.jsx)(T.Z,{})}),(0,e.jsx)(t.Z.Item,{name:"type",label:"Ti\xEAu \u0111\u1EC1",required:!0,children:(0,e.jsx)(T.Z,{})}),(0,e.jsx)(t.Z.Item,{name:"content",label:"N\u1ED9i dung",required:!0,children:(0,e.jsx)(W.Z,{name:"content"})}),(0,e.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,e.jsx)(u.ZP,{type:"primary",htmlType:"submit",children:"L\u01B0u l\u1EA1i"}),(0,e.jsx)(D.Z,{title:"X\xE1c nh\u1EADn x\xF3a?",onConfirm:function(){return G()},children:(0,e.jsx)(u.ZP,{type:"primary",danger:!0,children:"X\xF3a"})})]})]})},F=function(){var N=(0,c.useParams)(),O=N.id,Y=(0,P.useState)(!1),V=r()(Y,2),w=V[0],S=V[1],q=(0,P.useState)([]),G=r()(q,2),Z=G[0],I=G[1],M=(0,P.useState)(),L=r()(M,2),h=L[0],A=L[1],de=t.Z.useForm(),oe=r()(de,1),te=oe[0],ce=(0,P.useState)([]),re=r()(ce,2),me=re[0],fe=re[1],he=(0,P.useState)([]),ae=r()(he,2),ve=ae[0],pe=ae[1],Ee=(0,P.useState)(),se=r()(Ee,2),ge=se[0],ie=se[1],Ze=t.Z.useForm(),je=r()(Ze,1),X=je[0],ee=function(){(0,c.request)("department/detail/".concat(O)).then(function(a){I(a),a&&a.length>0&&ie(a[0].id)})},k=function(){(0,c.request)("department/users-in-department/".concat(O)).then(function(a){pe(a)})};(0,P.useEffect)(function(){(0,c.request)("department/".concat(O)).then(function(i){A(i)}),ee(),(0,c.request)("user/select").then(function(i){fe(i)}),k()},[]);var xe=function(){var i=f()(s()().mark(function a(l){var E;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(l.departmentId=O,!l.id){g.next=4;break}g.next=8;break;case 4:return g.next=6,(0,c.request)("department/add-detail",{method:"POST",data:l});case 6:E=g.sent,E.succeeded&&(o.ZP.success("Th\xE0nh c\xF4ng!"),S(!1),ee());case 8:case"end":return g.stop()}},a)}));return function(l){return i.apply(this,arguments)}}(),De=function(){var i=f()(s()().mark(function a(l){var E,J;return s()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(v.prev=0,l.departmentId=O,!l.id){v.next=9;break}return v.next=5,(0,c.request)("department/update-user",{method:"POST",data:l});case 5:return E=v.sent,E.data&&(o.ZP.success("Th\xE0nh c\xF4ng!"),k()),X.resetFields(),v.abrupt("return");case 9:return v.next=11,(0,c.request)("department/add-user",{method:"POST",data:l});case 11:J=v.sent,J&&(o.ZP.success("Th\xE0nh c\xF4ng!"),k()),X.resetFields(),v.next=20;break;case 16:v.prev=16,v.t0=v.catch(0),console.log(v.t0),o.ZP.error("C\xF3 l\u1ED7i x\u1EA3y ra!");case 20:case"end":return v.stop()}},a,null,[[0,16]])}));return function(l){return i.apply(this,arguments)}}(),ye=function(a,l){var E;return((E=l==null?void 0:l.label)!==null&&E!==void 0?E:"").toLowerCase().includes(a.toLowerCase())},Pe=function(){var i=f()(s()().mark(function a(l){var E;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,c.request)("department/remove-user/".concat(l),{method:"POST"});case 2:E=g.sent,E.succeeded&&(o.ZP.success("Th\xE0nh c\xF4ng!"),k());case 4:case"end":return g.stop()}},a)}));return function(l){return i.apply(this,arguments)}}(),Te=function(a){X.setFields([{name:"id",value:a.id},{name:"userId",value:a.userId},{name:"rank",value:a.rank},{name:"type",value:a.type},{name:"jobTitle",value:a.jobTitle}])},Oe=[{title:"Rank",dataIndex:"rank"},{title:"H\u1ECD v\xE0 t\xEAn",dataIndex:"name"},{title:"Ch\u1EE9c danh",dataIndex:"jobTitle"},{title:"T\xE1c v\u1EE5",render:function(a,l){return(0,e.jsxs)(x.Z,{children:[(0,e.jsx)(u.ZP,{icon:(0,e.jsx)(z.Z,{}),onClick:function(){return Te(l)}}),(0,e.jsx)(D.Z,{title:"X\xE1c nh\u1EADn x\xF3a?",onConfirm:function(){return Pe(l.id)},children:(0,e.jsx)(u.ZP,{type:"primary",danger:!0,icon:(0,e.jsx)(Q.Z,{})})})]})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(b.Z,{gutter:16,children:[(0,e.jsx)(C.Z,{span:16,children:(0,e.jsx)(U.Z,{title:h==null?void 0:h.name,extra:(0,e.jsx)(u.ZP,{type:"primary",onClick:function(){te.resetFields(),S(!0)},children:"Th\xEAm m\u1EDBi"}),children:(0,e.jsx)(B.Z,{type:"card",onChange:function(a){ie(a)},items:Z==null?void 0:Z.map(function(i){return{label:i.type,key:i.id,children:(0,e.jsx)(ne,{activeTab:ge,fetchData:ee})}})})})}),(0,e.jsx)(C.Z,{span:8,children:(0,e.jsxs)(U.Z,{title:"C\u01A1 c\u1EA5u t\u1ED5 ch\u1EE9c",children:[(0,e.jsxs)(t.Z,{layout:"vertical",onFinish:De,form:X,children:[(0,e.jsx)(t.Z.Item,{name:"id",hidden:!0,children:(0,e.jsx)(T.Z,{})}),(0,e.jsx)(t.Z.Item,{name:"userId",label:"Th\xE0nh vi\xEAn",rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn th\xE0nh vi\xEAn"}],children:(0,e.jsx)(H.Z,{options:me,showSearch:!0,filterOption:ye})}),(0,e.jsxs)(b.Z,{gutter:8,children:[(0,e.jsx)(C.Z,{span:6,children:(0,e.jsx)(t.Z.Item,{name:"rank",label:"Rank",children:(0,e.jsx)(y.Z,{className:"w-full"})})}),(0,e.jsx)(C.Z,{span:9,children:(0,e.jsx)(t.Z.Item,{name:"type",required:!0,label:"Nh\xF3m",children:(0,e.jsx)(T.Z,{})})}),(0,e.jsx)(C.Z,{span:9,children:(0,e.jsx)(t.Z.Item,{name:"jobTitle",label:"Ch\u1EE9c danh",children:(0,e.jsx)(T.Z,{})})})]}),(0,e.jsx)(t.Z.Item,{children:(0,e.jsx)(u.ZP,{type:"primary",htmlType:"submit",className:"w-full",children:"L\u01B0u l\u1EA1i"})})]}),(0,e.jsx)($.Z,{children:"Th\xE0nh vi\xEAn trong Vi\u1EC7n - Khoa"}),(0,e.jsx)(K.Z,{dataSource:ve,rowKey:"id",columns:Oe})]})})]}),(0,e.jsx)(R.Z,{title:"Khoa - Vi\u1EC7n",open:w,onCancel:function(){S(!1)},footer:!1,children:(0,e.jsxs)(t.Z,{layout:"vertical",onFinish:xe,form:te,children:[(0,e.jsx)(t.Z.Item,{name:"id",hidden:!0,children:(0,e.jsx)(T.Z,{})}),(0,e.jsx)(t.Z.Item,{label:"Nh\xF3m",name:"type",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp t\xEAn nh\xF3m"}],children:(0,e.jsx)(T.Z,{})}),(0,e.jsx)(t.Z.Item,{label:"N\u1ED9i dung",name:"content",required:!0,children:(0,e.jsx)(W.Z,{name:"content"})}),(0,e.jsx)(t.Z.Item,{label:"Th\u1EE9 t\u1EF1",name:"sortOrder",required:!0,children:(0,e.jsx)(y.Z,{})}),(0,e.jsx)(t.Z.Item,{children:(0,e.jsx)(u.ZP,{type:"primary",htmlType:"submit",children:"L\u01B0u l\u1EA1i"})})]})})]})},le=F},5858:function(_,d,n){var m=n(68136),s=n(87358);function j(p,r,t){return typeof p=="boolean"?p:r===void 0?!!t:r!==!1&&r!==null}function f(p,r,t){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m.createElement(s.Z,null),x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!j(p,r,x))return[!1,null];const D=typeof r=="boolean"||r===void 0||r===null?o:r;return[!0,t?t(D):D]}d.Z=f},2537:function(_,d,n){var m=n(30577);d.Z=m.Z},13762:function(_,d,n){var m=n(36035);d.Z=m.Z},28899:function(_,d,n){n.d(d,{H:function(){return p}});var m=n(78910),s=n(68136);function j(){}const f=s.createContext({add:j,remove:j});function p(t){const o=s.useContext(f),x=s.useRef();return(0,m.useEvent)(D=>{if(D){const b=t?D.querySelector(t):D;o.add(b),x.current=b}else o.remove(x.current)})}var r=null}}]);
