"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9229],{25223:function(w,C,e){e.d(C,{Z:function(){return n}});var E=e(52643),l=e(68136),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},p=P,d=e(91471),s=function(O,f){return l.createElement(d.Z,(0,E.Z)({},O,{ref:f,icon:p}))},n=l.forwardRef(s)},49799:function(w,C,e){e.d(C,{Z:function(){return n}});var E=e(52643),l=e(68136),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},p=P,d=e(91471),s=function(O,f){return l.createElement(d.Z,(0,E.Z)({},O,{ref:f,icon:p}))},n=l.forwardRef(s)},86444:function(w,C,e){var E=e(53939),l=e.n(E),P=e(83134),p=e.n(P),d=e(4870),s=e(46665),n=e(68136),v=e(44949),O=e(58703),f=e(33130),b=function(F){var R=d.Z.useFormInstance(),i=(0,n.useRef)(null),a=function(){if(i.current){var r;R.setFieldValue(F.name,(r=i.current)===null||r===void 0?void 0:r.getContent())}};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(v.M,{onChange:a,onInit:function(r,h){return i.current=h},apiKey:"mn4nbwhddqp9jr1g1c3w17dkdu96ji7lr2fmolsncez1k3ng",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",file_picker_types:"file image media",file_picker_callback:function(r,h,$){if($.filetype=="file"&&r("mypage.html",{text:"My text"}),$.filetype=="image"){var x=document.createElement("input");x.setAttribute("type","file"),x.setAttribute("accept","image/*"),x.addEventListener("change",function(){var u=p()(l()().mark(function G(J){var A,g,t;return l()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return A=J.target.files[0],g=new FormData,g.append("file",A),z.next=5,(0,O.request)("file/image/upload",{data:g,method:"POST"});case 5:t=z.sent,t&&(s.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),r(t.url,{alt:"My alt text"}));case 7:case"end":return z.stop()}},G)}));return function(G){return u.apply(this,arguments)}}()),x.click()}$.filetype=="media"&&r("movie.mp4",{source2:"alt.ogg",poster:"image.jpg"})}},initialValue:R.getFieldValue(F.name)})})};C.Z=b},69347:function(w,C,e){e.r(C),e.d(C,{default:function(){return S}});var E=e(53939),l=e.n(E),P=e(83134),p=e.n(P),d=e(34827),s=e.n(d),n=e(4870),v=e(46665),O=e(41605),f=e(15621),b=e(30339),L=e(13762),F=e(2537),R=e(88094),i=e(85638),a=e(10483),I=e(24991),r=e(50775),h=e(62960),$=e(26299),x=e(18186),u=e(68136),G=e(49799),J=e(25223),A=e(86444),g=e(58703),t=e(33130),_=function(V){var M=V.activeTab,Q=V.fetchData,W=n.Z.useForm(),X=s()(W,1),B=X[0],k=function(){var y=p()(l()().mark(function H(K){var Y;return l()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,g.request)("department/update-detail",{method:"POST",data:K});case 2:Y=N.sent,Y.succeeded&&v.ZP.success("Th\xE0nh c\xF4ng!");case 4:case"end":return N.stop()}},H)}));return function(K){return y.apply(this,arguments)}}();(0,u.useEffect)(function(){M&&(0,g.request)("department/detail/content/".concat(M)).then(function(y){y.data&&B.setFields([{name:"id",value:y.data.id},{name:"type",value:y.data.type},{name:"content",value:y.data.content}])})},[]);var U=function(){var y=p()(l()().mark(function H(){var K;return l()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,j.next=3,(0,g.request)("department/detail/delete/".concat(M),{method:"POST"});case 3:K=j.sent,K.data&&(v.ZP.success("Th\xE0nh c\xF4ng!"),Q()),j.next=9;break;case 7:j.prev=7,j.t0=j.catch(0);case 9:case"end":return j.stop()}},H,null,[[0,7]])}));return function(){return y.apply(this,arguments)}}();return(0,t.jsxs)(n.Z,{form:B,layout:"vertical",onFinish:k,children:[(0,t.jsx)(n.Z.Item,{name:"id",hidden:!0,children:(0,t.jsx)(a.Z,{})}),(0,t.jsx)(n.Z.Item,{name:"type",label:"Ti\xEAu \u0111\u1EC1",required:!0,children:(0,t.jsx)(a.Z,{})}),(0,t.jsx)(n.Z.Item,{name:"content",label:"N\u1ED9i dung",required:!0,children:(0,t.jsx)(A.Z,{name:"content"})}),(0,t.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,t.jsx)(f.ZP,{type:"primary",htmlType:"submit",children:"L\u01B0u l\u1EA1i"}),(0,t.jsx)(b.Z,{title:"X\xE1c nh\u1EADn x\xF3a?",onConfirm:function(){return U()},children:(0,t.jsx)(f.ZP,{type:"primary",danger:!0,children:"X\xF3a"})})]})]})},z=function(){var V=(0,g.useParams)(),M=V.id,Q=(0,u.useState)(!1),W=s()(Q,2),X=W[0],B=W[1],k=(0,u.useState)([]),U=s()(k,2),y=U[0],H=U[1],K=(0,u.useState)(),Y=s()(K,2),j=Y[0],N=Y[1],de=n.Z.useForm(),ue=s()(de,1),ae=ue[0],ce=(0,u.useState)([]),ie=s()(ce,2),me=ie[0],fe=ie[1],he=(0,u.useState)([]),se=s()(he,2),ve=se[0],ge=se[1],pe=(0,u.useState)(),le=s()(pe,2),xe=le[0],oe=le[1],Ee=n.Z.useForm(),ye=s()(Ee,1),q=ye[0],re=function(){(0,g.request)("department/detail/".concat(M)).then(function(o){H(o),o&&o.length>0&&oe(o[0].id)})},ee=function(){(0,g.request)("department/users-in-department/".concat(M)).then(function(o){ge(o)})};(0,u.useEffect)(function(){(0,g.request)("department/".concat(M)).then(function(c){N(c)}),re(),(0,g.request)("user/select").then(function(c){fe(c)}),ee()},[]);var je=function(){var c=p()(l()().mark(function o(m){var D;return l()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(m.departmentId=M,!m.id){T.next=4;break}T.next=8;break;case 4:return T.next=6,(0,g.request)("department/add-detail",{method:"POST",data:m});case 6:D=T.sent,D.succeeded&&(v.ZP.success("Th\xE0nh c\xF4ng!"),B(!1),re());case 8:case"end":return T.stop()}},o)}));return function(m){return c.apply(this,arguments)}}(),Ze=function(){var c=p()(l()().mark(function o(m){var D,te;return l()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(Z.prev=0,m.departmentId=M,!m.id){Z.next=9;break}return Z.next=5,(0,g.request)("department/update-user",{method:"POST",data:m});case 5:return D=Z.sent,D.data&&(v.ZP.success("Th\xE0nh c\xF4ng!"),ee()),q.resetFields(),Z.abrupt("return");case 9:return Z.next=11,(0,g.request)("department/add-user",{method:"POST",data:m});case 11:te=Z.sent,te&&(v.ZP.success("Th\xE0nh c\xF4ng!"),ee()),q.resetFields(),Z.next=20;break;case 16:Z.prev=16,Z.t0=Z.catch(0),console.log(Z.t0),v.ZP.error("C\xF3 l\u1ED7i x\u1EA3y ra!");case 20:case"end":return Z.stop()}},o,null,[[0,16]])}));return function(m){return c.apply(this,arguments)}}(),Ce=function(o,m){var D;return((D=m==null?void 0:m.label)!==null&&D!==void 0?D:"").toLowerCase().includes(o.toLowerCase())},Pe=function(){var c=p()(l()().mark(function o(m){var D;return l()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,g.request)("department/remove-user/".concat(m),{method:"POST"});case 2:D=T.sent,D.succeeded&&(v.ZP.success("Th\xE0nh c\xF4ng!"),ee());case 4:case"end":return T.stop()}},o)}));return function(m){return c.apply(this,arguments)}}(),Oe=function(o){q.setFields([{name:"id",value:o.id},{name:"userId",value:o.userId},{name:"rank",value:o.rank},{name:"type",value:o.type},{name:"jobTitle",value:o.jobTitle}])},De=[{title:"Rank",dataIndex:"rank"},{title:"H\u1ECD v\xE0 t\xEAn",dataIndex:"name"},{title:"Ch\u1EE9c danh",dataIndex:"jobTitle"},{title:"T\xE1c v\u1EE5",render:function(o,m){return(0,t.jsxs)(O.Z,{children:[(0,t.jsx)(f.ZP,{icon:(0,t.jsx)(G.Z,{}),onClick:function(){return Oe(m)}}),(0,t.jsx)(b.Z,{title:"X\xE1c nh\u1EADn x\xF3a?",onConfirm:function(){return Pe(m.id)},children:(0,t.jsx)(f.ZP,{type:"primary",danger:!0,icon:(0,t.jsx)(J.Z,{})})})]})}}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(L.Z,{gutter:16,children:[(0,t.jsx)(F.Z,{span:16,children:(0,t.jsx)(R.Z,{title:j==null?void 0:j.name,extra:(0,t.jsx)(f.ZP,{type:"primary",onClick:function(){ae.resetFields(),B(!0)},children:"Th\xEAm m\u1EDBi"}),children:(0,t.jsx)(i.Z,{type:"card",onChange:function(o){oe(o)},items:y==null?void 0:y.map(function(c){return{label:c.type,key:c.id,children:(0,t.jsx)(_,{activeTab:xe,fetchData:re})}})})})}),(0,t.jsx)(F.Z,{span:8,children:(0,t.jsxs)(R.Z,{title:"C\u01A1 c\u1EA5u t\u1ED5 ch\u1EE9c",children:[(0,t.jsxs)(n.Z,{layout:"vertical",onFinish:Ze,form:q,children:[(0,t.jsx)(n.Z.Item,{name:"id",hidden:!0,children:(0,t.jsx)(a.Z,{})}),(0,t.jsx)(n.Z.Item,{name:"userId",label:"Th\xE0nh vi\xEAn",rules:[{required:!0,message:"Vui l\xF2ng ch\u1ECDn th\xE0nh vi\xEAn"}],children:(0,t.jsx)(I.Z,{options:me,showSearch:!0,filterOption:Ce})}),(0,t.jsxs)(L.Z,{gutter:8,children:[(0,t.jsx)(F.Z,{span:6,children:(0,t.jsx)(n.Z.Item,{name:"rank",label:"Rank",children:(0,t.jsx)(r.Z,{className:"w-full"})})}),(0,t.jsx)(F.Z,{span:9,children:(0,t.jsx)(n.Z.Item,{name:"type",required:!0,label:"Nh\xF3m",children:(0,t.jsx)(a.Z,{})})}),(0,t.jsx)(F.Z,{span:9,children:(0,t.jsx)(n.Z.Item,{name:"jobTitle",label:"Ch\u1EE9c danh",children:(0,t.jsx)(a.Z,{})})})]}),(0,t.jsx)(n.Z.Item,{children:(0,t.jsx)(f.ZP,{type:"primary",htmlType:"submit",className:"w-full",children:"L\u01B0u l\u1EA1i"})})]}),(0,t.jsx)(h.Z,{children:"Th\xE0nh vi\xEAn trong Vi\u1EC7n - Khoa"}),(0,t.jsx)($.Z,{dataSource:ve,rowKey:"id",columns:De})]})})]}),(0,t.jsx)(x.Z,{title:"Khoa - Vi\u1EC7n",open:X,onCancel:function(){B(!1)},footer:!1,children:(0,t.jsxs)(n.Z,{layout:"vertical",onFinish:je,form:ae,children:[(0,t.jsx)(n.Z.Item,{name:"id",hidden:!0,children:(0,t.jsx)(a.Z,{})}),(0,t.jsx)(n.Z.Item,{label:"Nh\xF3m",name:"type",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp t\xEAn nh\xF3m"}],children:(0,t.jsx)(a.Z,{})}),(0,t.jsx)(n.Z.Item,{label:"N\u1ED9i dung",name:"content",required:!0,children:(0,t.jsx)(A.Z,{name:"content"})}),(0,t.jsx)(n.Z.Item,{label:"Th\u1EE9 t\u1EF1",name:"sortOrder",required:!0,children:(0,t.jsx)(r.Z,{})}),(0,t.jsx)(n.Z.Item,{children:(0,t.jsx)(f.ZP,{type:"primary",htmlType:"submit",children:"L\u01B0u l\u1EA1i"})})]})})]})},S=z},5858:function(w,C,e){var E=e(68136),l=e(87358);function P(d,s,n){return typeof d=="boolean"?d:s===void 0?!!n:s!==!1&&s!==null}function p(d,s,n){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E.createElement(l.Z,null),O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!P(d,s,O))return[!1,null];const b=typeof s=="boolean"||s===void 0||s===null?v:s;return[!0,n?n(b):b]}C.Z=p},62960:function(w,C,e){e.d(C,{Z:function(){return R}});var E=e(68136),l=e(91150),P=e.n(l),p=e(80822),d=e(90130),s=e(63293),n=e(29029),v=e(46075);const O=i=>{const{componentCls:a,sizePaddingEdgeHorizontal:I,colorSplit:r,lineWidth:h,textPaddingInline:$,orientationMargin:x,verticalMarginInline:u}=i;return{[a]:Object.assign(Object.assign({},(0,s.Wf)(i)),{borderBlockStart:`${(0,d.unit)(h)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:u,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,d.unit)(h)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,d.unit)(i.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${a}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,d.unit)(i.dividerHorizontalWithTextGutterMargin)} 0`,color:i.colorTextHeading,fontWeight:500,fontSize:i.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,d.unit)(h)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${a}-with-text-left`]:{"&::before":{width:`calc(${x} * 100%)`},"&::after":{width:`calc(100% - ${x} * 100%)`}},[`&-horizontal${a}-with-text-right`]:{"&::before":{width:`calc(100% - ${x} * 100%)`},"&::after":{width:`calc(${x} * 100%)`}},[`${a}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:$},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${(0,d.unit)(h)} 0 0`},[`&-horizontal${a}-with-text${a}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${a}-dashed`]:{borderInlineStartWidth:h,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${a}-with-text`]:{color:i.colorText,fontWeight:"normal",fontSize:i.fontSize},[`&-horizontal${a}-with-text-left${a}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${a}-inner-text`]:{paddingInlineStart:I}},[`&-horizontal${a}-with-text-right${a}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${a}-inner-text`]:{paddingInlineEnd:I}}})}},f=i=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:i.marginXS});var b=(0,n.I$)("Divider",i=>{const a=(0,v.TS)(i,{dividerHorizontalWithTextGutterMargin:i.margin,dividerHorizontalGutterMargin:i.marginLG,sizePaddingEdgeHorizontal:0});return[O(a)]},f,{unitless:{orientationMargin:!0}}),L=function(i,a){var I={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&a.indexOf(r)<0&&(I[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,r=Object.getOwnPropertySymbols(i);h<r.length;h++)a.indexOf(r[h])<0&&Object.prototype.propertyIsEnumerable.call(i,r[h])&&(I[r[h]]=i[r[h]]);return I},R=i=>{const{getPrefixCls:a,direction:I,divider:r}=E.useContext(p.E_),{prefixCls:h,type:$="horizontal",orientation:x="center",orientationMargin:u,className:G,rootClassName:J,children:A,dashed:g,plain:t,style:_}=i,z=L(i,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),S=a("divider",h),[ne,V,M]=b(S),Q=x.length>0?`-${x}`:x,W=!!A,X=x==="left"&&u!=null,B=x==="right"&&u!=null,k=P()(S,r==null?void 0:r.className,V,M,`${S}-${$}`,{[`${S}-with-text`]:W,[`${S}-with-text${Q}`]:W,[`${S}-dashed`]:!!g,[`${S}-plain`]:!!t,[`${S}-rtl`]:I==="rtl",[`${S}-no-default-orientation-margin-left`]:X,[`${S}-no-default-orientation-margin-right`]:B},G,J),U=E.useMemo(()=>typeof u=="number"?u:/^\d+$/.test(u)?Number(u):u,[u]),y=Object.assign(Object.assign({},X&&{marginLeft:U}),B&&{marginRight:U});return ne(E.createElement("div",Object.assign({className:k,style:Object.assign(Object.assign({},r==null?void 0:r.style),_)},z,{role:"separator"}),A&&$!=="vertical"&&E.createElement("span",{className:`${S}-inner-text`,style:y},A)))}},28899:function(w,C,e){e.d(C,{H:function(){return d}});var E=e(78910),l=e(68136);function P(){}const p=l.createContext({add:P,remove:P});function d(n){const v=l.useContext(p),O=l.useRef();return(0,E.useEvent)(b=>{if(b){const L=n?b.querySelector(n):b;v.add(L),O.current=L}else v.remove(O.current)})}var s=null}}]);
