"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[185],{9389:function(G,P,s){s.r(P),s.d(P,{default:function(){return R}});var E=s(90228),p=s.n(E),F=s(87999),C=s.n(F),A=s(48305),Z=s.n(A),g=s(19146),a=s(16941),h=s(68110),D=s(98659),n=s(76477),i=s(55641),w=s(97494),I=s(14292),b=s(93236),d=s(37090),e=s(62086),N=function(){var x=function(l){if(l.newPassword!==l.confirmPassword)return h.ZP.warning("Password not match");(0,d.request)("user/change-password",{method:"POST",data:l}).then(function(m){m.succeeded?h.ZP.success("succeeded"):m.errors.forEach(function(v){h.ZP.error(v.description)})})};return(0,e.jsx)("div",{children:(0,e.jsxs)(a.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},onFinish:x,autoComplete:"off",layout:"vertical",children:[(0,e.jsx)(a.Z.Item,{label:"Current password",name:"currentPassword",rules:[{required:!0,message:"Please input your current password!"}],children:(0,e.jsx)(n.Z.Password,{})}),(0,e.jsx)(a.Z.Item,{label:"New password",name:"newPassword",rules:[{required:!0,message:"Please input your new password!"}],children:(0,e.jsx)(n.Z.Password,{})}),(0,e.jsx)(a.Z.Item,{label:"Confirm password",name:"confirmPassword",rules:[{required:!0,message:"Please confirm your password!"}],children:(0,e.jsx)(n.Z.Password,{})}),(0,e.jsx)(a.Z.Item,{children:(0,e.jsx)(i.ZP,{type:"primary",htmlType:"submit",children:"Save changes"})})]})})},f=g.Z.TabPane,S=function(){var x=(0,d.useParams)(),o=x.id,l=a.Z.useForm(),m=Z()(l,1),v=m[0],O=(0,b.useState)(),T=Z()(O,2),y=T[0],L=T[1];(0,b.useEffect)(function(){o&&(0,d.request)("user/get/".concat(o)).then(function(t){L(t),v.setFields([{name:"name",value:t.name},{name:"jobTitle",value:t.jobTitle}])})},[o]);var $=function(){(0,d.request)("user/download-personal-data",{responseType:"blob",method:"POST"}).then(function(j){var u=window.URL.createObjectURL(new Blob([j.data])),r=document.createElement("a");r.href=u,r.setAttribute("download","personalData.json"),document.body.appendChild(r),r.click(),r.remove()})},B=function(){var t=C()(p()().mark(function j(u){var r;return p()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return u.id=o,c.next=3,(0,d.request)("user/update",{method:"POST",data:u});case 3:r=c.sent,r.succeeded&&h.ZP.success("Th\xE0nh c\xF4ng!");case 5:case"end":return c.stop()}},j)}));return function(u){return t.apply(this,arguments)}}();return(0,e.jsx)("div",{className:"bg-white rounded",children:(0,e.jsx)(D.Z,{title:y==null?void 0:y.name,children:(0,e.jsxs)(g.Z,{defaultActiveKey:"1",tabPosition:"left",children:[(0,e.jsx)(f,{tab:"H\u1ED3 s\u01A1",children:(0,e.jsx)("div",{className:"p-4",children:(0,e.jsxs)(a.Z,{form:v,layout:"vertical",onFinish:B,children:[(0,e.jsx)(a.Z.Item,{name:"name",label:"H\u1ECD v\xE0 t\xEAn",required:!0,children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(a.Z.Item,{name:"jobTitle",label:"Ch\u1EE9c danh",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(a.Z.Item,{name:"avatar",label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(a.Z.Item,{children:(0,e.jsx)(i.ZP,{type:"primary",htmlType:"submit",children:"L\u01B0u l\u1EA1i"})})]})})},"1"),(0,e.jsx)(f,{tab:"Password",children:(0,e.jsx)("div",{className:"p-4",children:(0,e.jsx)(N,{})})},"2"),(0,e.jsx)(f,{tab:"Privacy Setting",children:(0,e.jsxs)("div",{className:"p-4",children:[(0,e.jsxs)("div",{className:"mb-2",children:[(0,e.jsx)(w.Z.Title,{level:5,children:"Disable 2FA"}),(0,e.jsxs)("div",{className:"mb-2",children:["Disabling 2FA does not change the keys used in authenticator apps. If you wish to change the key used in an authenticator app you should ",(0,e.jsx)("a",{href:"./ResetAuthenticator",children:"reset your authenticator keys."})]}),(0,e.jsx)(i.ZP,{type:"primary",danger:!0,children:"Disable 2FA"})]}),(0,e.jsxs)("div",{className:"mb-2",children:[(0,e.jsx)(w.Z.Title,{level:5,children:"Delete account"}),(0,e.jsx)("div",{className:"mb-2",children:"Deleting this data will permanently remove your account, and this cannot be recovered."}),(0,e.jsxs)(I.Z,{children:[(0,e.jsx)(i.ZP,{type:"primary",onClick:$,children:"Download my data"}),(0,e.jsx)(i.ZP,{type:"primary",danger:!0,children:"Delete data and close my account"})]})]})]})},"3")]})})})},R=S}}]);
