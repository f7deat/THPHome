"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5538],{71606:function(Q,x,e){var l=e(15558),_=e.n(l),C=e(90228),s=e.n(C),E=e(87999),h=e.n(E),c=e(48305),t=e.n(c),O=e(77642),j=e(23318),v=e(40292),r=e(68110),re=e(47686),J=e(53240),F=e(76477),ae=e(38844),P=e(93236),u=e(62086),w=function(d){var L=(0,P.useState)(""),G=t()(L,2),n=G[0],q=G[1],se=(0,P.useState)([]),$=t()(se,2),y=$[0],I=$[1],oe=(0,P.useState)(!1),b=t()(oe,2),ee=b[0],K=b[1];function le(T){var f;try{f=new URL(T)}catch(A){return!1}return f.protocol==="https:"}var ie=function(){var T=h()(s()().mark(function f(){var A,U;return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(y.length>0)){p.next=15;break}return A=new FormData,y.forEach(function(ue){A.append("file",ue)}),K(!0),p.next=6,(0,O.IO)(A);case 6:if(U=p.sent,K(!1),U.succeeded){p.next=11;break}return r.ZP.error(U.message),p.abrupt("return");case 11:return I([]),d.onFinish(U),d.onCancel(),p.abrupt("return");case 15:if(le(n)){p.next=18;break}return r.ZP.error("Sorry, URL failed to upload."),p.abrupt("return");case 18:d.onFinish({url:n,succeeded:!0}),q(""),d.onCancel();case 21:case"end":return p.stop()}},f)}));return function(){return T.apply(this,arguments)}}();return(0,u.jsxs)(re.Z,{open:d.open,onCancel:function(){return d.onCancel()},centered:!0,title:"Upload",onOk:ie,confirmLoading:ee,children:[(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsxs)(ae.Z,{fileList:y,onRemove:function(f){var A=y.indexOf(f),U=y.slice();U.splice(A,1),I(U)},beforeUpload:function(f){return I([].concat(_()(y),[f])),!1},maxCount:1,children:[(0,u.jsx)("p",{className:"ant-upload-drag-icon",children:(0,u.jsx)(j.Z,{})}),(0,u.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,u.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})}),(0,u.jsx)("div",{className:"text-center",children:(0,u.jsxs)("div",{className:"font-medium flex items-center gap-2 justify-center text-blue-500 text-base",children:[" ",(0,u.jsx)(v.Z,{})," Choose from your computer"]})}),(0,u.jsx)(J.Z,{children:"or"}),(0,u.jsx)(F.Z,{placeholder:"Paste image or URL",onChange:function(f){return q(f.currentTarget.value)}})]})};x.Z=w},3079:function(Q,x,e){e.r(x),e.d(x,{default:function(){return me}});var l=e(26068),_=e.n(l),C=e(90228),s=e.n(C),E=e(87999),h=e.n(E),c=e(48305),t=e.n(c),O=e(7411),j=e(38444),v=e(98365),r=e(20433),re=e(47686),J=e(69534),F=e(97146),ae=e(89631),P=e(55641),u=e(19991),w=e(58925),k=e(71606),d=e(93236),L=e(77642),G=e(42389),n=e(62086),q=function(W){var B=W.open,V=W.setOpen,X=(0,d.useState)(!1),M=t()(X,2),N=M[0],R=M[1],D=(0,d.useRef)(),S=(0,d.useState)(),z=t()(S,2),Z=z[0],Y=z[1],H=function(){var o;(o=D.current)===null||o===void 0||o.reload()};return(0,n.jsxs)(re.Z,{width:1e3,open:B,title:"File Explorer",onCancel:function(){return V(!1)},footer:!1,centered:!0,children:[(0,n.jsxs)(J.Z,{gutter:16,children:[(0,n.jsx)(F.Z,{span:18,children:(0,n.jsx)(v.Z,{search:!1,columns:[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"fileName",render:function(o,a){return(0,n.jsx)(ae.Z,{title:o,children:(0,n.jsx)(P.ZP,{size:"small",onClick:function(){return Y(a)},type:"text",style:{maxWidth:300,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o})})}},{title:"Size",dataIndex:"size",render:function(o,a){return(0,G.gB)(a.size)}},{title:"Upload",dataIndex:"createdDate",valueType:"dateTime",width:200},{title:"T\xE1c v\u1EE5",valueType:"option",render:function(){return[(0,n.jsx)(P.ZP,{size:"small",type:"text",icon:(0,n.jsx)(O.Z,{})})]},width:60}],size:"small",request:L.t4,actionRef:D,ghost:!0,toolBarRender:function(){return[(0,n.jsx)(P.ZP,{icon:(0,n.jsx)(j.Z,{}),type:"primary",onClick:function(){return R(!0)},children:"Upload"},"upload")]},pagination:{pageSize:5}})}),(0,n.jsx)(F.Z,{span:6,children:(0,n.jsx)(r.Z,{size:"small",title:"Preview",headerBordered:!0,bordered:!0,children:Z?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsx)(u.Z,{src:Z.url,height:150,style:{objectFit:"contain"}})}),(0,n.jsxs)("div",{className:"mb-2",children:["Size: ",(0,G.gB)(Z.size)]}),(0,n.jsx)(P.ZP,{className:"w-full",type:"primary",children:"Ch\u1ECDn"})]}):(0,n.jsx)(w.Z,{})})})]}),(0,n.jsx)(k.Z,{open:N,onCancel:function(){return R(!1)},onFinish:H})]})},se=q,$=e(54885),y=e(95306),I=e(1536),oe=e(14123),b=e(68110),ee=e(63134),K=e(37090),le=function(){var W=(0,K.useParams)(),B=W.id,V=$.A.useForm(),X=t()(V,1),M=X[0],N=(0,d.useState)(),R=t()(N,2),D=R[0],S=R[1],z=(0,d.useState)(!1),Z=t()(z,2),Y=Z[0],H=Z[1];(0,d.useEffect)(function(){B&&(0,ee.uC)(B).then(function(a){a&&(M.setFields([{name:"id",value:a.id},{name:"title",value:a.title},{name:"description",value:a.description},{name:"thumbnail",value:a.thumbnail}]),a.thumbnail&&S(a.thumbnail))})},[B,D]);var i=function(m){M.setFieldValue("thumbnail",m.url),S(m.url)},o=function(){var a=h()(s()().mark(function m(ne){return s()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,(0,ee.fj)(ne);case 2:b.ZP.success("L\u01B0u th\xE0nh c\xF4ng!");case 3:case"end":return te.stop()}},m)}));return function(ne){return a.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)($.A,{form:M,onFinish:o,children:[(0,n.jsx)(y.Z,{name:"id",hidden:!0}),(0,n.jsxs)(J.Z,{gutter:16,children:[(0,n.jsxs)(F.Z,{span:16,children:[(0,n.jsx)(I.Z,{label:"Ti\xEAu \u0111\u1EC1",name:"title",rules:[{required:!0}]}),(0,n.jsx)(oe.Z,{label:"M\xF4 t\u1EA3",name:"description",tooltip:"Meta Description"}),(0,n.jsx)(I.Z,{label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",name:"thumbnail",fieldProps:{addonAfter:(0,n.jsx)(P.ZP,{icon:(0,n.jsx)(j.Z,{}),type:"text",size:"small",onClick:function(){return H(!0)},children:"Upload"})}})]}),(0,n.jsx)(F.Z,{span:8,children:(0,n.jsx)(r.Z,{bordered:!0,title:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",headerBordered:!0,size:"small",children:D?(0,n.jsx)(u.Z,{src:D,className:"w-full object-cover h-48"}):(0,n.jsx)(w.Z,{})})})]})]}),(0,n.jsx)(k.Z,{open:Y,onCancel:function(){return H(!1)},onFinish:i})]})},ie=le,T=e(70474),f=e(22717),A=e(77097),U=e(58970),de=e(14292),p=e(53739),ue=function(){var W=(0,d.useState)(!1),B=t()(W,2),V=B[0],X=B[1],M=(0,d.useState)(!1),N=t()(M,2),R=N[0],D=N[1],S=(0,d.useRef)(),z=(0,K.useParams)(),Z=z.id,Y=function(){var i=h()(s()().mark(function o(a){var m;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return a.postId=Z,a.fileId=a.id,g.next=4,(0,L.pA)(a);case 4:b.ZP.success("T\u1EA3i l\xEAn th\xE0nh c\xF4ng!"),(m=S.current)===null||m===void 0||m.reload();case 6:case"end":return g.stop()}},o)}));return function(a){return i.apply(this,arguments)}}(),H=function(){var i=h()(s()().mark(function o(a){var m;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,L.kd)(a);case 2:b.ZP.success("X\xF3a th\xE0nh c\xF4ng!"),(m=S.current)===null||m===void 0||m.reload();case 4:case"end":return g.stop()}},o)}));return function(a){return i.apply(this,arguments)}}();return(0,n.jsxs)(A._z,{extra:(0,n.jsxs)(de.Z,{children:[(0,n.jsx)(P.ZP,{icon:(0,n.jsx)(j.Z,{}),type:"primary",onClick:function(){return D(!0)},children:"T\u1EA3i l\xEAn"}),(0,n.jsx)(P.ZP,{icon:(0,n.jsx)(T.Z,{}),onClick:function(){return K.history.back()},children:"Quay l\u1EA1i"})]}),children:[(0,n.jsxs)(r.Z,{tabs:{type:"line"},children:[(0,n.jsx)(r.Z.TabPane,{tab:"Danh s\xE1ch",children:(0,n.jsx)(U.Rs,{actionRef:S,ghost:!0,pagination:{defaultPageSize:18},request:function(o){return(0,L.vs)(_()(_()({},o),{},{postId:Z}))},grid:{gutter:16,column:6},renderItem:function(o){return(0,n.jsxs)("div",{className:"bg-white shadow",children:[(0,n.jsx)(u.Z,{src:o.url,className:"w-full object-cover",height:180,wrapperClassName:"w-full"}),(0,n.jsx)("div",{className:"p-1 flex justify-center",children:(0,n.jsx)(p.Z,{title:"X\xE1c nh\u1EADn x\xF3a",onConfirm:function(){return H(o.id)},children:(0,n.jsx)(P.ZP,{type:"text",icon:(0,n.jsx)(f.Z,{}),size:"small",danger:!0})})})]})}})},"list"),(0,n.jsx)(r.Z.TabPane,{tab:"C\xE0i \u0111\u1EB7t",children:(0,n.jsx)(ie,{})},"setting")]}),(0,n.jsx)(se,{open:V,setOpen:X}),(0,n.jsx)(k.Z,{open:R,onCancel:function(){return D(!1)},onFinish:Y})]})},me=ue},77642:function(Q,x,e){e.d(x,{IO:function(){return _},NR:function(){return t},TD:function(){return O},cI:function(){return c},ib:function(){return j},kd:function(){return h},pA:function(){return E},t4:function(){return C},vs:function(){return s}});var l=e(37090),_=function(r){return(0,l.request)("file/upload",{method:"POST",data:r,headers:{"Content-Type":"multipart/form-data"}})},C=function(r){return(0,l.request)("file/list",{params:r})},s=function(r){return(0,l.request)("gallery/photo/list",{params:r})},E=function(r){return(0,l.request)("gallery/photo/add",{method:"POST",data:r})},h=function(r){return(0,l.request)("gallery/photo/".concat(r),{method:"DELETE"})},c=function(r){return(0,l.request)("gallery/list",{params:r})},t=function(r){return(0,l.request)("gallery",{method:"POST",data:r})},O=function(r){return(0,l.request)("gallery",{method:"PUT",data:r})},j=function(r){return(0,l.request)("gallery/".concat(r),{method:"DELETE"})}},63134:function(Q,x,e){e.d(x,{AB:function(){return _},FO:function(){return s},fj:function(){return E},oA:function(){return h},uC:function(){return C}});var l=e(37090),_=function(t){return(0,l.request)("post/get-list",{params:t})},C=function(t){return(0,l.request)("post/get/".concat(t))},s=function(t){return(0,l.request)("post/options",{params:t})},E=function(t){return(0,l.request)("post/page-builder/update",{method:"POST",data:t})},h=function(t){return(0,l.request)("post/zalo/share/".concat(t),{method:"POST"})}},42389:function(Q,x,e){e.d(x,{dK:function(){return _},gB:function(){return C}});function l(s){return s.trim()}function _(s){return s?s==="vi-VN"?1:2:1}function C(s){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=E?1e3:1024;if(Math.abs(s)<c)return s+" B";var t=E?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],O=-1,j=Math.pow(10,h);do s/=c,++O;while(Math.round(Math.abs(s)*j)/j>=c&&O<t.length-1);return s.toFixed(h)+" "+t[O]}}}]);
