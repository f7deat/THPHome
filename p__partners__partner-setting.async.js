"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6341],{43772:function(J,L,e){var a=e(37986),u=e(23575),M=e(26622),p=e(68136),x=e(45409),E=e(29657),Z=e(33130),_=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],d=function(c,y){var s=c.fieldProps,l=c.children,t=c.params,i=c.proFieldProps,f=c.mode,S=c.valueEnum,U=c.request,F=c.showSearch,D=c.options,g=(0,u.Z)(c,_),O=(0,p.useContext)(x.Z);return(0,Z.jsx)(E.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,M.h)(S),request:U,params:t,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({options:D,mode:f,showSearch:F,getPopupContainer:O.getPopupContainer},s),ref:y,proFieldProps:i},g),{},{children:l}))},m=p.forwardRef(function(v,c){var y=v.fieldProps,s=v.children,l=v.params,t=v.proFieldProps,i=v.mode,f=v.valueEnum,S=v.request,U=v.options,F=(0,u.Z)(v,h),D=(0,a.Z)({options:U,mode:i||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},y),g=(0,p.useContext)(x.Z);return(0,Z.jsx)(E.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,M.h)(f),request:S,params:l,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({getPopupContainer:g.getPopupContainer},D),ref:c,proFieldProps:t},F),{},{children:s}))}),o=p.forwardRef(d),A=m,j=o;j.SearchSelect=A,j.displayName="ProFormComponent",L.Z=j},91816:function(J,L,e){var a=e(37986),u=e(23575),M=e(68136),p=e(29657),x=e(33130),E=["fieldProps","proFieldProps"],Z=function(h,d){var m=h.fieldProps,o=h.proFieldProps,A=(0,u.Z)(h,E);return(0,x.jsx)(p.Z,(0,a.Z)({ref:d,valueType:"textarea",fieldProps:m,proFieldProps:o},A))};L.Z=M.forwardRef(Z)},16331:function(J,L,e){var a=e(31693),u=e(37986),M=e(23575),p=e(23205),x=e(4870),E=e(67036),Z=e(91105),_=e(68136),h=e(29657),d=e(33130),m=["fieldProps","proFieldProps"],o=["fieldProps","proFieldProps"],A="text",j=function(l){var t=l.fieldProps,i=l.proFieldProps,f=(0,M.Z)(l,m);return(0,d.jsx)(h.Z,(0,u.Z)({valueType:A,fieldProps:t,filedConfig:{valueType:A},proFieldProps:i},f))},v=function(l){var t=(0,p.Z)(l.open||!1,{value:l.open,onChange:l.onOpenChange}),i=(0,a.Z)(t,2),f=i[0],S=i[1];return(0,d.jsx)(x.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(F){var D,g=F.getFieldValue(l.name||[]);return(0,d.jsx)(E.Z,(0,u.Z)((0,u.Z)({getPopupContainer:function(P){return P&&P.parentNode?P.parentNode:P},onOpenChange:S,content:(0,d.jsxs)("div",{style:{padding:"4px 0"},children:[(D=l.statusRender)===null||D===void 0?void 0:D.call(l,g),l.strengthText?(0,d.jsx)("div",{style:{marginTop:10},children:(0,d.jsx)("span",{children:l.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},l.popoverProps),{},{open:f,children:l.children}))}})},c=function(l){var t=l.fieldProps,i=l.proFieldProps,f=(0,M.Z)(l,o),S=(0,_.useState)(!1),U=(0,a.Z)(S,2),F=U[0],D=U[1];return t!=null&&t.statusRender&&f.name?(0,d.jsx)(v,{name:f.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:F,onOpenChange:D,children:(0,d.jsx)(h.Z,(0,u.Z)({valueType:"password",fieldProps:(0,u.Z)((0,u.Z)({},(0,Z.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(O){var P;t==null||(P=t.onBlur)===null||P===void 0||P.call(t,O),D(!1)},onClick:function(O){var P;t==null||(P=t.onClick)===null||P===void 0||P.call(t,O),D(!0)}}),proFieldProps:i,filedConfig:{valueType:A}},f))}):(0,d.jsx)(h.Z,(0,u.Z)({valueType:"password",fieldProps:t,proFieldProps:i,filedConfig:{valueType:A}},f))},y=j;y.Password=c,y.displayName="ProFormComponent",L.Z=y},78837:function(J,L,e){var a=e(60430),u=e.n(a),M=e(53939),p=e.n(M),x=e(83134),E=e.n(x),Z=e(34827),_=e.n(Z),h=e(41641),d=e(83294),m=e(26494),o=e(46665),A=e(18186),j=e(62960),v=e(10483),c=e(13755),y=e(68136),s=e(33130),l=function(i){var f=(0,y.useState)(""),S=_()(f,2),U=S[0],F=S[1],D=(0,y.useState)([]),g=_()(D,2),O=g[0],P=g[1],w=(0,y.useState)(!1),n=_()(w,2),k=n[0],X=n[1];function q(C){var r;try{r=new URL(C)}catch(B){return!1}return r.protocol==="https:"}var ee=function(){var C=E()(p()().mark(function r(){var B,I;return p()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(O.length>0)){T.next=15;break}return B=new FormData,O.forEach(function(K){B.append("file",K)}),X(!0),T.next=6,(0,h.IO)(B);case 6:if(I=T.sent,X(!1),I.succeeded){T.next=11;break}return o.ZP.error(I.message),T.abrupt("return");case 11:return P([]),i.onFinish(I),i.onCancel(),T.abrupt("return");case 15:if(q(U)){T.next=18;break}return o.ZP.error("Sorry, URL failed to upload."),T.abrupt("return");case 18:i.onFinish({url:U,succeeded:!0}),F(""),i.onCancel();case 21:case"end":return T.stop()}},r)}));return function(){return C.apply(this,arguments)}}();return(0,s.jsxs)(A.Z,{open:i.open,onCancel:function(){return i.onCancel()},centered:!0,title:"Upload",onOk:ee,confirmLoading:k,children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)(c.Z,{fileList:O,onRemove:function(r){var B=O.indexOf(r),I=O.slice();I.splice(B,1),P(I)},beforeUpload:function(r){return P([].concat(u()(O),[r])),!1},maxCount:1,children:[(0,s.jsx)("p",{className:"ant-upload-drag-icon",children:(0,s.jsx)(d.Z,{})}),(0,s.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,s.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("div",{className:"font-medium flex items-center gap-2 justify-center text-blue-500 text-base",children:[" ",(0,s.jsx)(m.Z,{})," Choose from your computer"]})}),(0,s.jsx)(j.Z,{children:"or"}),(0,s.jsx)(v.Z,{placeholder:"Paste image or URL",onChange:function(r){return F(r.currentTarget.value)}})]})};L.Z=l},48350:function(J,L,e){e.r(L),e.d(L,{default:function(){return ee}});var a=e(78095),u=e.n(a),M=e(34827),p=e.n(M),x=e(46665),E=e(15621),Z=e(30339),_=e(68136),h=e(49799),d=e(25223),m=e(88821),o=e(81068),A=e(60096),j=e(58703),v=function(r){return(0,j.request)("partner/".concat(r))},c=function(r){return(0,j.request)("partner/list",{params:r})},y=function(r){return(0,j.request)("partner/".concat(r),{method:"DELETE"})},s=function(r){return(0,j.request)("partner/add",{method:"POST",data:r})},l=function(r){return(0,j.request)("partner/update",{method:"POST",data:r})},t=e(53939),i=e.n(t),f=e(83134),S=e.n(f),U=e(78837),F=e(63687),D=e(75926),g=e(16331),O=e(91816),P=e(43772),w=e(24657),n=e(33130),k=function(r){var B=r.open,I=r.setOpen,b=r.id,T=r.actionRef,K=(0,_.useRef)(),te=(0,_.useState)(""),Q=p()(te,2),z=Q[0],Y=Q[1],re=(0,_.useState)(!1),V=p()(re,2),H=V[0],G=V[1];(0,_.useEffect)(function(){if(b)v(b).then(function(R){var W;(W=K.current)===null||W===void 0||W.setFields([{name:"id",value:R.id},{name:"name",value:R.name},{name:"logo",value:R.logo},{name:"description",value:R.description},{name:"url",value:R.url},{name:"status",value:R.status}]),Y(R.logo)});else{var N;(N=K.current)===null||N===void 0||N.resetFields(),Y("")}},[b]);var ne=function(){var N=S()(i()().mark(function R(W){var ae,oe;return i()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!b){$.next=5;break}return $.next=3,l(W);case 3:$.next=7;break;case 5:return $.next=7,s(W);case 7:(ae=K.current)===null||ae===void 0||ae.resetFields(),I(!1),x.ZP.success("Th\xE0nh c\xF4ng!"),(oe=T.current)===null||oe===void 0||oe.reload(),Y("");case 12:case"end":return $.stop()}},R)}));return function(W){return N.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(D.a,{open:B,onOpenChange:I,title:"C\xE0i \u0111\u1EB7t",width:700,formRef:K,onFinish:ne,children:[(0,n.jsx)(g.Z,{hidden:!0,name:"id"}),(0,n.jsx)(g.Z,{label:"T\xEAn \u0111\u1ED1i t\xE1c",name:"name",rules:[{required:!0}]}),z&&(0,n.jsx)("div",{className:"flex justify-center mb-4",children:(0,n.jsx)(w.Z,{src:z,width:150})}),(0,n.jsx)(g.Z,{label:"Logo",name:"logo",rules:[{required:!0}],fieldProps:{addonAfter:(0,n.jsx)(E.ZP,{icon:(0,n.jsx)(F.Z,{}),type:"text",size:"small",onClick:function(){return G(!0)},children:" Upload"})}}),(0,n.jsx)(O.Z,{label:"Description",name:"description"}),(0,n.jsx)(g.Z,{label:"Li\xEAn k\u1EBFt",name:"url"}),(0,n.jsx)(P.Z,{name:"status",label:"Tr\u1EA1ng th\xE1i",rules:[{required:!0}],options:[{label:"Draft",value:0},{label:"Active",value:1}]})]}),(0,n.jsx)(U.Z,{open:H,onCancel:function(){return G(!1)},onFinish:function(R){var W;(W=K.current)===null||W===void 0||W.setFieldValue("logo",R.url),Y(R.url)}})]})},X=k,q=function(){var r=(0,_.useState)(!1),B=p()(r,2),I=B[0],b=B[1],T=(0,_.useState)(),K=p()(T,2),te=K[0],Q=K[1],z=(0,_.useRef)();function Y(V){y(V).then(function(H){if(H.succeeded){var G;x.ZP.success(H.message),(G=z.current)===null||G===void 0||G.reload()}else x.ZP.error(H.errors[0].description)})}var re=[{title:"STT",valueType:"indexBorder",width:50,align:"center"},{title:"\u0110\u1ED1i t\xE1c",dataIndex:"name"},{title:"Li\xEAn k\u1EBFt",dataIndex:"url",search:!1},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",valueEnum:{0:{text:"Draft",status:"Default"},1:{text:"Active",status:"Processing"}},width:100},{title:"Ng\xE0y c\u1EADp nh\u1EADt",dataIndex:"modifiedDate",valueType:"dateTime",width:200,search:!1},{title:"Ng\u01B0\u1EDDi c\u1EADp nh\u1EADt",dataIndex:"modifiedBy",width:200,search:!1},{title:"",render:function(H,G){return[(0,n.jsx)(E.ZP,{size:"small",type:"primary",icon:(0,n.jsx)(h.Z,{}),onClick:function(){Q(G.id),b(!0)}},"edit"),(0,n.jsx)(Z.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return Y(G.id)},children:(0,n.jsx)(E.ZP,{size:"small",type:"primary",danger:!0,icon:(0,n.jsx)(d.Z,{})})},"delete")]},valueType:"option",width:100,align:"center"}];return(0,n.jsxs)(o._z,{extra:(0,n.jsx)(E.ZP,{type:"primary",icon:(0,n.jsx)(m.Z,{}),onClick:function(){Q(void 0),b(!0)},children:"Th\xEAm m\u1EDBi"}),children:[(0,n.jsx)(A.Z,{search:{layout:"vertical"},actionRef:z,request:function(H){return c(u()(u()({},H),{},{pageIndex:H.current}))},columns:re,rowKey:"id",rowSelection:{}}),(0,n.jsx)(X,{open:I,setOpen:b,id:te,actionRef:z})]})},ee=q},41641:function(J,L,e){e.d(L,{IO:function(){return u},NR:function(){return _},TD:function(){return h},cI:function(){return Z},ib:function(){return d},kd:function(){return E},pA:function(){return x},t4:function(){return M},vs:function(){return p}});var a=e(58703),u=function(o){return(0,a.request)("file/upload",{method:"POST",data:o,headers:{"Content-Type":"multipart/form-data"}})},M=function(o){return(0,a.request)("file/list",{params:o})},p=function(o){return(0,a.request)("gallery/photo/list",{params:o})},x=function(o){return(0,a.request)("gallery/photo/add",{method:"POST",data:o})},E=function(o){return(0,a.request)("gallery/photo/".concat(o),{method:"DELETE"})},Z=function(){return(0,a.request)("gallery/list")},_=function(o){return(0,a.request)("gallery",{method:"POST",data:o})},h=function(o){return(0,a.request)("gallery",{method:"PUT",data:o})},d=function(o){return(0,a.request)("gallery/".concat(o),{method:"DELETE"})}}}]);
