"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6341],{26494:function(V,E,e){e.d(E,{Z:function(){return v}});var a=e(52643),l=e(68136),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},i=f,_=e(91471),m=function(h,d){return l.createElement(_.Z,(0,a.Z)({},h,{ref:d,icon:i}))},v=l.forwardRef(m)},63687:function(V,E,e){e.d(E,{Z:function(){return v}});var a=e(52643),l=e(68136),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},i=f,_=e(91471),m=function(h,d){return l.createElement(_.Z,(0,a.Z)({},h,{ref:d,icon:i}))},v=l.forwardRef(m)},43772:function(V,E,e){var a=e(37986),l=e(23575),f=e(26622),i=e(68136),_=e(45409),m=e(29657),v=e(33130),n=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],d=function(P,L){var Z=P.fieldProps,t=P.children,r=P.params,x=P.proFieldProps,u=P.mode,y=P.valueEnum,R=P.request,A=P.showSearch,g=P.options,T=(0,l.Z)(P,n),S=(0,i.useContext)(_.Z);return(0,v.jsx)(m.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,f.h)(y),request:R,params:r,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({options:g,mode:u,showSearch:A,getPopupContainer:S.getPopupContainer},Z),ref:L,proFieldProps:x},T),{},{children:t}))},W=i.forwardRef(function(O,P){var L=O.fieldProps,Z=O.children,t=O.params,r=O.proFieldProps,x=O.mode,u=O.valueEnum,y=O.request,R=O.options,A=(0,l.Z)(O,h),g=(0,a.Z)({options:R,mode:x||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},L),T=(0,i.useContext)(_.Z);return(0,v.jsx)(m.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,f.h)(u),request:y,params:t,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({getPopupContainer:T.getPopupContainer},g),ref:P,proFieldProps:r},A),{},{children:Z}))}),B=i.forwardRef(d),U=W,M=B;M.SearchSelect=U,M.displayName="ProFormComponent",E.Z=M},91816:function(V,E,e){var a=e(37986),l=e(23575),f=e(68136),i=e(29657),_=e(33130),m=["fieldProps","proFieldProps"],v=function(h,d){var W=h.fieldProps,B=h.proFieldProps,U=(0,l.Z)(h,m);return(0,_.jsx)(i.Z,(0,a.Z)({ref:d,valueType:"textarea",fieldProps:W,proFieldProps:B},U))};E.Z=f.forwardRef(v)},16331:function(V,E,e){var a=e(31693),l=e(37986),f=e(23575),i=e(23205),_=e(4870),m=e(67036),v=e(91105),n=e(68136),h=e(29657),d=e(33130),W=["fieldProps","proFieldProps"],B=["fieldProps","proFieldProps"],U="text",M=function(t){var r=t.fieldProps,x=t.proFieldProps,u=(0,f.Z)(t,W);return(0,d.jsx)(h.Z,(0,l.Z)({valueType:U,fieldProps:r,filedConfig:{valueType:U},proFieldProps:x},u))},O=function(t){var r=(0,i.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),x=(0,a.Z)(r,2),u=x[0],y=x[1];return(0,d.jsx)(_.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(A){var g,T=A.getFieldValue(t.name||[]);return(0,d.jsx)(m.Z,(0,l.Z)((0,l.Z)({getPopupContainer:function(p){return p&&p.parentNode?p.parentNode:p},onOpenChange:y,content:(0,d.jsxs)("div",{style:{padding:"4px 0"},children:[(g=t.statusRender)===null||g===void 0?void 0:g.call(t,T),t.strengthText?(0,d.jsx)("div",{style:{marginTop:10},children:(0,d.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},t.popoverProps),{},{open:u,children:t.children}))}})},P=function(t){var r=t.fieldProps,x=t.proFieldProps,u=(0,f.Z)(t,B),y=(0,n.useState)(!1),R=(0,a.Z)(y,2),A=R[0],g=R[1];return r!=null&&r.statusRender&&u.name?(0,d.jsx)(O,{name:u.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:A,onOpenChange:g,children:(0,d.jsx)(h.Z,(0,l.Z)({valueType:"password",fieldProps:(0,l.Z)((0,l.Z)({},(0,v.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(S){var p;r==null||(p=r.onBlur)===null||p===void 0||p.call(r,S),g(!1)},onClick:function(S){var p;r==null||(p=r.onClick)===null||p===void 0||p.call(r,S),g(!0)}}),proFieldProps:x,filedConfig:{valueType:U}},u))}):(0,d.jsx)(h.Z,(0,l.Z)({valueType:"password",fieldProps:r,proFieldProps:x,filedConfig:{valueType:U}},u))},L=M;L.Password=P,L.displayName="ProFormComponent",E.Z=L},78837:function(V,E,e){var a=e(60430),l=e.n(a),f=e(53939),i=e.n(f),_=e(83134),m=e.n(_),v=e(34827),n=e.n(v),h=e(41641),d=e(83294),W=e(26494),B=e(46665),U=e(18186),M=e(15621),O=e(62960),P=e(10483),L=e(13755),Z=e(68136),t=e(33130),r=function(u){var y=(0,Z.useState)(""),R=n()(y,2),A=R[0],g=R[1],T=(0,Z.useState)([]),S=n()(T,2),p=S[0],J=S[1],o=(0,Z.useState)(!1),w=n()(o,2),ee=w[0],k=w[1];function te(s){var D;try{D=new URL(s)}catch(F){return!1}return D.protocol==="https:"}var H=function(){var s=m()(i()().mark(function D(){var F,C;return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(p.length>0)){c.next=15;break}return F=new FormData,p.forEach(function(Q){F.append("file",Q)}),k(!0),c.next=6,(0,h.IO)(F);case 6:if(C=c.sent,k(!1),C.succeeded){c.next=11;break}return B.ZP.error(C.message),c.abrupt("return");case 11:return J([]),u.onFinish(C),u.onCancel(),c.abrupt("return");case 15:if(te(A)){c.next=18;break}return B.ZP.error("Sorry, URL failed to upload."),c.abrupt("return");case 18:u.onFinish({url:A,succeeded:!0}),g(""),u.onCancel();case 21:case"end":return c.stop()}},D)}));return function(){return s.apply(this,arguments)}}();return(0,t.jsxs)(U.Z,{open:u.open,onCancel:function(){return u.onCancel()},centered:!0,title:"Upload",onOk:H,confirmLoading:ee,children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)(L.Z,{fileList:p,onRemove:function(D){var F=p.indexOf(D),C=p.slice();C.splice(F,1),J(C)},beforeUpload:function(D){return J([].concat(l()(p),[D])),!1},maxCount:1,children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(d.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(M.ZP,{icon:(0,t.jsx)(W.Z,{}),type:"link",size:"large",children:(0,t.jsx)("b",{children:"Choose from your computer"})})}),(0,t.jsx)(O.Z,{children:"or"}),(0,t.jsx)(P.Z,{placeholder:"Paste image or URL",onChange:function(D){return g(D.currentTarget.value)}})]})};E.Z=r},48350:function(V,E,e){e.r(E),e.d(E,{default:function(){return te}});var a=e(78095),l=e.n(a),f=e(34827),i=e.n(f),_=e(46665),m=e(15621),v=e(30339),n=e(68136),h=e(49799),d=e(25223),W=e(88821),B=e(81068),U=e(60096),M=e(58703),O=function(s){return(0,M.request)("partner/".concat(s))},P=function(s){return(0,M.request)("partner/list",{params:s})},L=function(s){return(0,M.request)("partner/".concat(s),{method:"DELETE"})},Z=function(s){return(0,M.request)("partner/add",{method:"POST",data:s})},t=function(s){return(0,M.request)("partner/update",{method:"POST",data:s})},r=e(53939),x=e.n(r),u=e(83134),y=e.n(u),R=e(78837),A=e(63687),g=e(75926),T=e(16331),S=e(91816),p=e(43772),J=e(24657),o=e(33130),w=function(s){var D=s.open,F=s.setOpen,C=s.id,q=s.actionRef,c=(0,n.useRef)(),Q=(0,n.useState)(""),X=i()(Q,2),$=X[0],Y=X[1],re=(0,n.useState)(!1),z=i()(re,2),K=z[0],b=z[1];(0,n.useEffect)(function(){if(C)O(C).then(function(j){var I;(I=c.current)===null||I===void 0||I.setFields([{name:"id",value:j.id},{name:"name",value:j.name},{name:"logo",value:j.logo},{name:"description",value:j.description},{name:"url",value:j.url},{name:"status",value:j.status}]),Y(j.logo)});else{var N;(N=c.current)===null||N===void 0||N.resetFields(),Y("")}},[C]);var ne=function(){var N=y()(x()().mark(function j(I){var ae,oe;return x()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!C){G.next=5;break}return G.next=3,t(I);case 3:G.next=7;break;case 5:return G.next=7,Z(I);case 7:(ae=c.current)===null||ae===void 0||ae.resetFields(),F(!1),_.ZP.success("Th\xE0nh c\xF4ng!"),(oe=q.current)===null||oe===void 0||oe.reload(),Y("");case 12:case"end":return G.stop()}},j)}));return function(I){return N.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(g.a,{open:D,onOpenChange:F,title:"C\xE0i \u0111\u1EB7t",width:700,formRef:c,onFinish:ne,children:[(0,o.jsx)(T.Z,{hidden:!0,name:"id"}),(0,o.jsx)(T.Z,{label:"T\xEAn \u0111\u1ED1i t\xE1c",name:"name",rules:[{required:!0}]}),$&&(0,o.jsx)("div",{className:"flex justify-center mb-4",children:(0,o.jsx)(J.Z,{src:$,width:150})}),(0,o.jsx)(T.Z,{label:"Logo",name:"logo",rules:[{required:!0}],fieldProps:{addonAfter:(0,o.jsx)(m.ZP,{icon:(0,o.jsx)(A.Z,{}),type:"text",size:"small",onClick:function(){return b(!0)},children:" Upload"})}}),(0,o.jsx)(S.Z,{label:"Description",name:"description"}),(0,o.jsx)(T.Z,{label:"Li\xEAn k\u1EBFt",name:"url"}),(0,o.jsx)(p.Z,{name:"status",label:"Tr\u1EA1ng th\xE1i",rules:[{required:!0}],options:[{label:"Draft",value:0},{label:"Active",value:1}]})]}),(0,o.jsx)(R.Z,{open:K,onCancel:function(){return b(!1)},onFinish:function(j){var I;(I=c.current)===null||I===void 0||I.setFieldValue("logo",j.url),Y(j.url)}})]})},ee=w,k=function(){var s=(0,n.useState)(!1),D=i()(s,2),F=D[0],C=D[1],q=(0,n.useState)(),c=i()(q,2),Q=c[0],X=c[1],$=(0,n.useRef)();function Y(z){L(z).then(function(K){if(K.succeeded){var b;_.ZP.success(K.message),(b=$.current)===null||b===void 0||b.reload()}else _.ZP.error(K.errors[0].description)})}var re=[{title:"STT",valueType:"indexBorder",width:50,align:"center"},{title:"\u0110\u1ED1i t\xE1c",dataIndex:"name"},{title:"Li\xEAn k\u1EBFt",dataIndex:"url",search:!1},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",valueEnum:{0:{text:"Draft",status:"Default"},1:{text:"Active",status:"Processing"}},width:100},{title:"Ng\xE0y c\u1EADp nh\u1EADt",dataIndex:"modifiedDate",valueType:"dateTime",width:200,search:!1},{title:"Ng\u01B0\u1EDDi c\u1EADp nh\u1EADt",dataIndex:"modifiedBy",width:200,search:!1},{title:"",render:function(K,b){return[(0,o.jsx)(m.ZP,{size:"small",type:"primary",icon:(0,o.jsx)(h.Z,{}),onClick:function(){X(b.id),C(!0)}},"edit"),(0,o.jsx)(v.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return Y(b.id)},children:(0,o.jsx)(m.ZP,{size:"small",type:"primary",danger:!0,icon:(0,o.jsx)(d.Z,{})})},"delete")]},valueType:"option",width:100,align:"center"}];return(0,o.jsxs)(B._z,{extra:(0,o.jsx)(m.ZP,{type:"primary",icon:(0,o.jsx)(W.Z,{}),onClick:function(){X(void 0),C(!0)},children:"Th\xEAm m\u1EDBi"}),children:[(0,o.jsx)(U.Z,{search:{layout:"vertical"},actionRef:$,request:function(K){return P(l()(l()({},K),{},{pageIndex:K.current}))},columns:re,rowKey:"id",rowSelection:{}}),(0,o.jsx)(ee,{open:F,setOpen:C,id:Q,actionRef:$})]})},te=k},41641:function(V,E,e){e.d(E,{IO:function(){return l},kd:function(){return m},pA:function(){return _},t4:function(){return f},vs:function(){return i}});var a=e(58703),l=function(n){return(0,a.request)("file/upload",{method:"POST",data:n,headers:{"Content-Type":"multipart/form-data"}})},f=function(n){return(0,a.request)("file/list",{params:n})},i=function(n){return(0,a.request)("gallery/photo/list",{params:n})},_=function(n){return(0,a.request)("gallery/photo/add",{method:"POST",data:n})},m=function(n){return(0,a.request)("gallery/photo/".concat(n),{method:"DELETE"})}}}]);
