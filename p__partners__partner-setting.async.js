"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6341],{63687:function(G,C,e){e.d(C,{Z:function(){return Z}});var s=e(52643),a=e(68136),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},u=T,E=e(91471),O=function(m,l){return a.createElement(E.Z,(0,s.Z)({},m,{ref:l,icon:u}))},Z=a.forwardRef(O)},43772:function(G,C,e){var s=e(37986),a=e(23575),T=e(26622),u=e(68136),E=e(45409),O=e(29657),Z=e(33130),x=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],l=function(i,D){var R=i.fieldProps,n=i.children,r=i.params,h=i.proFieldProps,c=i.mode,M=i.valueEnum,j=i.request,g=i.showSearch,f=i.options,F=(0,a.Z)(i,x),A=(0,u.useContext)(E.Z);return(0,Z.jsx)(O.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,T.h)(M),request:j,params:r,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:f,mode:c,showSearch:g,getPopupContainer:A.getPopupContainer},R),ref:D,proFieldProps:h},F),{},{children:n}))},y=u.forwardRef(function(v,i){var D=v.fieldProps,R=v.children,n=v.params,r=v.proFieldProps,h=v.mode,c=v.valueEnum,M=v.request,j=v.options,g=(0,a.Z)(v,m),f=(0,s.Z)({options:j,mode:h||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},D),F=(0,u.useContext)(E.Z);return(0,Z.jsx)(O.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,T.h)(c),request:M,params:n,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({getPopupContainer:F.getPopupContainer},f),ref:i,proFieldProps:r},g),{},{children:R}))}),I=u.forwardRef(l),p=y,L=I;L.SearchSelect=p,L.displayName="ProFormComponent",C.Z=L},91816:function(G,C,e){var s=e(37986),a=e(23575),T=e(68136),u=e(29657),E=e(33130),O=["fieldProps","proFieldProps"],Z=function(m,l){var y=m.fieldProps,I=m.proFieldProps,p=(0,a.Z)(m,O);return(0,E.jsx)(u.Z,(0,s.Z)({ref:l,valueType:"textarea",fieldProps:y,proFieldProps:I},p))};C.Z=T.forwardRef(Z)},16331:function(G,C,e){var s=e(31693),a=e(37986),T=e(23575),u=e(23205),E=e(4870),O=e(67036),Z=e(91105),x=e(68136),m=e(29657),l=e(33130),y=["fieldProps","proFieldProps"],I=["fieldProps","proFieldProps"],p="text",L=function(n){var r=n.fieldProps,h=n.proFieldProps,c=(0,T.Z)(n,y);return(0,l.jsx)(m.Z,(0,a.Z)({valueType:p,fieldProps:r,filedConfig:{valueType:p},proFieldProps:h},c))},v=function(n){var r=(0,u.Z)(n.open||!1,{value:n.open,onChange:n.onOpenChange}),h=(0,s.Z)(r,2),c=h[0],M=h[1];return(0,l.jsx)(E.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(g){var f,F=g.getFieldValue(n.name||[]);return(0,l.jsx)(O.Z,(0,a.Z)((0,a.Z)({getPopupContainer:function(t){return t&&t.parentNode?t.parentNode:t},onOpenChange:M,content:(0,l.jsxs)("div",{style:{padding:"4px 0"},children:[(f=n.statusRender)===null||f===void 0?void 0:f.call(n,F),n.strengthText?(0,l.jsx)("div",{style:{marginTop:10},children:(0,l.jsx)("span",{children:n.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},n.popoverProps),{},{open:c,children:n.children}))}})},i=function(n){var r=n.fieldProps,h=n.proFieldProps,c=(0,T.Z)(n,I),M=(0,x.useState)(!1),j=(0,s.Z)(M,2),g=j[0],f=j[1];return r!=null&&r.statusRender&&c.name?(0,l.jsx)(v,{name:c.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:g,onOpenChange:f,children:(0,l.jsx)(m.Z,(0,a.Z)({valueType:"password",fieldProps:(0,a.Z)((0,a.Z)({},(0,Z.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(A){var t;r==null||(t=r.onBlur)===null||t===void 0||t.call(r,A),f(!1)},onClick:function(A){var t;r==null||(t=r.onClick)===null||t===void 0||t.call(r,A),f(!0)}}),proFieldProps:h,filedConfig:{valueType:p}},c))}):(0,l.jsx)(m.Z,(0,a.Z)({valueType:"password",fieldProps:r,proFieldProps:h,filedConfig:{valueType:p}},c))},D=L;D.Password=i,D.displayName="ProFormComponent",C.Z=D},48350:function(G,C,e){e.r(C),e.d(C,{default:function(){return k}});var s=e(78095),a=e.n(s),T=e(34827),u=e.n(T),E=e(46665),O=e(15621),Z=e(30339),x=e(68136),m=e(49799),l=e(25223),y=e(81068),I=e(60096),p=e(58703),L=function(d){return(0,p.request)("partner/".concat(d))},v=function(d){return(0,p.request)("partner/list",{params:d})},i=function(d){return(0,p.request)("partner/".concat(d),{method:"DELETE"})},D=function(d){return(0,p.request)("partner/add",{method:"POST",data:d})},R=function(d){return(0,p.request)("partner/update",{method:"POST",data:d})},n=e(53939),r=e.n(n),h=e(83134),c=e.n(h),M=e(63687),j=e(75926),g=e(16331),f=e(91816),F=e(43772),A=e(24657),t=e(33130),b=function(d){var z=d.open,H=d.setOpen,U=d.id,Y=d.actionRef,K=(0,x.useRef)(),J=(0,x.useState)(""),$=u()(J,2),N=$[0],Q=$[1];(0,x.useEffect)(function(){if(U)L(U).then(function(o){var P;(P=K.current)===null||P===void 0||P.setFields([{name:"id",value:o.id},{name:"name",value:o.name},{name:"logo",value:o.logo},{name:"description",value:o.description},{name:"url",value:o.url},{name:"status",value:o.status}]),Q(o.logo)});else{var S;(S=K.current)===null||S===void 0||S.resetFields()}},[U]);var X=function(){var S=c()(r()().mark(function o(P){var V;return r()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!U){B.next=5;break}return B.next=3,R(P);case 3:B.next=7;break;case 5:return B.next=7,D(P);case 7:H(!1),E.ZP.success("Th\xE0nh c\xF4ng!"),(V=Y.current)===null||V===void 0||V.reload();case 10:case"end":return B.stop()}},o)}));return function(P){return S.apply(this,arguments)}}();return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(j.a,{open:z,onOpenChange:H,title:"C\xE0i \u0111\u1EB7t",width:700,formRef:K,onFinish:X,children:[(0,t.jsx)(g.Z,{hidden:!0,name:"id"}),(0,t.jsx)(g.Z,{label:"T\xEAn \u0111\u1ED1i t\xE1c",name:"name",rules:[{required:!0}]}),N&&(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsx)(A.Z,{src:N,width:150})}),(0,t.jsx)(g.Z,{label:"Logo",name:"logo",rules:[{required:!0}],fieldProps:{addonAfter:(0,t.jsxs)("span",{children:[(0,t.jsx)(M.Z,{})," Upload"]})}}),(0,t.jsx)(f.Z,{label:"Description",name:"description"}),(0,t.jsx)(g.Z,{label:"Li\xEAn k\u1EBFt",name:"url"}),(0,t.jsx)(F.Z,{name:"status",label:"Tr\u1EA1ng th\xE1i",rules:[{required:!0}],options:[{label:"Draft",value:0},{label:"Active",value:1}]})]})})},_=b,w=function(){var d=(0,x.useState)(!1),z=u()(d,2),H=z[0],U=z[1],Y=(0,x.useState)(),K=u()(Y,2),J=K[0],$=K[1],N=(0,x.useRef)();function Q(S){i(S).then(function(o){if(o.succeeded){var P;E.ZP.success(o.message),(P=N.current)===null||P===void 0||P.reload()}else E.ZP.error(o.errors[0].description)})}var X=[{title:"STT",valueType:"indexBorder",width:50,align:"center"},{title:"\u0110\u1ED1i t\xE1c",dataIndex:"name"},{title:"Li\xEAn k\u1EBFt",dataIndex:"url",search:!1},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",valueEnum:{0:{text:"Draft",status:"Default"},1:{text:"Active",status:"Processing"}},width:100},{title:"Ng\xE0y c\u1EADp nh\u1EADt",dataIndex:"modifiedDate",valueType:"dateTime",width:200,search:!1},{title:"Ng\u01B0\u1EDDi c\u1EADp nh\u1EADt",dataIndex:"modifiedBy",width:200,search:!1},{title:"",render:function(o,P){return[(0,t.jsx)(O.ZP,{size:"small",type:"primary",icon:(0,t.jsx)(m.Z,{}),onClick:function(){$(P.id),U(!0)}},"edit"),(0,t.jsx)(Z.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return Q(P.id)},children:(0,t.jsx)(O.ZP,{size:"small",type:"primary",danger:!0,icon:(0,t.jsx)(l.Z,{})})},"delete")]},valueType:"option",width:100,align:"center"}];return(0,t.jsxs)(y._z,{children:[(0,t.jsx)(I.Z,{search:{layout:"vertical"},actionRef:N,request:function(o){return v(a()(a()({},o),{},{pageIndex:o.current}))},columns:X,rowKey:"id",rowSelection:{}}),(0,t.jsx)(_,{open:H,setOpen:U,id:J,actionRef:N})]})},k=w}}]);
