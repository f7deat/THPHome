"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7724],{78837:function($,x,e){var p=e(60430),v=e.n(p),D=e(53939),a=e.n(D),j=e(83134),c=e.n(j),u=e(34827),t=e.n(u),O=e(41641),T=e(83294),X=e(26494),S=e(46665),F=e(18186),V=e(15621),P=e(62960),I=e(10483),Y=e(13755),y=e(68136),r=e(33130),M=function(n){var Q=(0,y.useState)(""),K=t()(Q,2),W=K[0],H=K[1],w=(0,y.useState)([]),z=t()(w,2),g=z[0],R=z[1],k=(0,y.useState)(!1),N=t()(k,2),q=N[0],b=N[1];function B(m){var s;try{s=new URL(m)}catch(f){return!1}return s.protocol==="https:"}var U=function(){var m=c()(a()().mark(function s(){var f,d;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(g.length>0)){o.next=15;break}return f=new FormData,g.forEach(function(C){f.append("file",C)}),b(!0),o.next=6,(0,O.IO)(f);case 6:if(d=o.sent,b(!1),d.succeeded){o.next=11;break}return S.ZP.error(d.message),o.abrupt("return");case 11:return R([]),n.onFinish(d),n.onCancel(),o.abrupt("return");case 15:if(B(W)){o.next=18;break}return S.ZP.error("Sorry, URL failed to upload."),o.abrupt("return");case 18:n.onFinish({url:W,succeeded:!0}),H(""),n.onCancel();case 21:case"end":return o.stop()}},s)}));return function(){return m.apply(this,arguments)}}();return(0,r.jsxs)(F.Z,{open:n.open,onCancel:function(){return n.onCancel()},centered:!0,title:"Upload",onOk:U,confirmLoading:q,children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)(Y.Z,{fileList:g,onRemove:function(s){var f=g.indexOf(s),d=g.slice();d.splice(f,1),R(d)},beforeUpload:function(s){return R([].concat(v()(g),[s])),!1},maxCount:1,children:[(0,r.jsx)("p",{className:"ant-upload-drag-icon",children:(0,r.jsx)(T.Z,{})}),(0,r.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,r.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(V.ZP,{icon:(0,r.jsx)(X.Z,{}),type:"link",size:"large",children:(0,r.jsx)("b",{children:"Choose from your computer"})})}),(0,r.jsx)(P.Z,{children:"or"}),(0,r.jsx)(I.Z,{placeholder:"Paste image or URL",onChange:function(s){return H(s.currentTarget.value)}})]})};x.Z=M},84811:function($,x,e){e.r(x),e.d(x,{default:function(){return q}});var p=e(53939),v=e.n(p),D=e(83134),a=e.n(D),j=e(34827),c=e.n(j),u=e(64073),t=e(63687),O=e(60096),T=e(79392),X=e(18186),S=e(13762),F=e(2537),V=e(20782),P=e(15621),I=e(24657),Y=e(62380),y=e(78837),r=e(68136),M=e(41641),J=e(26805),n=e(33130),Q=function(B){var U=B.open,m=B.setOpen,s=(0,r.useState)(!1),f=c()(s,2),d=f[0],Z=f[1],o=(0,r.useRef)(),C=(0,r.useState)(),G=c()(C,2),A=G[0],E=G[1],h=function(){var l;(l=o.current)===null||l===void 0||l.reload()};return(0,n.jsxs)(X.Z,{width:1e3,open:U,title:"File Explorer",onCancel:function(){return m(!1)},footer:!1,centered:!0,children:[(0,n.jsxs)(S.Z,{gutter:16,children:[(0,n.jsx)(F.Z,{span:18,children:(0,n.jsx)(O.Z,{search:!1,columns:[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"fileName",render:function(l,L){return(0,n.jsx)(V.Z,{title:l,children:(0,n.jsx)(P.ZP,{size:"small",onClick:function(){return E(L)},type:"text",style:{maxWidth:300,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:l})})}},{title:"Size",dataIndex:"size",render:function(l,L){return(0,J.gB)(L.size)}},{title:"Upload",dataIndex:"createdDate",valueType:"dateTime",width:200},{title:"T\xE1c v\u1EE5",valueType:"option",render:function(){return[(0,n.jsx)(P.ZP,{size:"small",type:"text",icon:(0,n.jsx)(u.Z,{})})]},width:60}],size:"small",request:M.t4,actionRef:o,ghost:!0,toolBarRender:function(){return[(0,n.jsx)(P.ZP,{icon:(0,n.jsx)(t.Z,{}),type:"primary",onClick:function(){return Z(!0)},children:"Upload"},"upload")]},pagination:{pageSize:5}})}),(0,n.jsx)(F.Z,{span:6,children:(0,n.jsx)(T.Z,{size:"small",title:"Preview",headerBordered:!0,bordered:!0,children:A?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsx)(I.Z,{src:A.url,height:150,style:{objectFit:"contain"}})}),(0,n.jsxs)("div",{className:"mb-2",children:["Size: ",(0,J.gB)(A.size)]}),(0,n.jsx)(P.ZP,{className:"w-full",type:"primary",children:"Ch\u1ECDn"})]}):(0,n.jsx)(Y.Z,{})})})]}),(0,n.jsx)(y.Z,{open:d,onCancel:function(){return Z(!1)},onFinish:h})]})},K=Q,W=e(22200),H=e(25223),w=e(81068),z=e(40225),g=e(46665),R=e(41605),k=e(30339),N=function(){var B=(0,r.useState)(!1),U=c()(B,2),m=U[0],s=U[1],f=(0,r.useState)(!1),d=c()(f,2),Z=d[0],o=d[1],C=(0,r.useRef)(),G=function(){var E=a()(v()().mark(function h(i){var l;return v()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,M.pA)(i);case 2:g.ZP.success("Uploaded!"),(l=C.current)===null||l===void 0||l.reload();case 4:case"end":return _.stop()}},h)}));return function(i){return E.apply(this,arguments)}}(),A=function(){var E=a()(v()().mark(function h(i){var l;return v()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,M.kd)(i);case 2:g.ZP.success("X\xF3a th\xE0nh c\xF4ng!"),(l=C.current)===null||l===void 0||l.reload();case 4:case"end":return _.stop()}},h)}));return function(i){return E.apply(this,arguments)}}();return(0,n.jsxs)(w._z,{extra:(0,n.jsxs)(R.Z,{children:[(0,n.jsx)(P.ZP,{icon:(0,n.jsx)(W.Z,{}),onClick:function(){return s(!0)},children:"File Explorer"}),(0,n.jsx)(P.ZP,{icon:(0,n.jsx)(t.Z,{}),type:"primary",onClick:function(){return o(!0)},children:"T\u1EA3i l\xEAn"})]}),children:[(0,n.jsx)(z.Rs,{actionRef:C,ghost:!0,pagination:{defaultPageSize:12},request:M.vs,grid:{gutter:16,column:6},renderItem:function(h){return(0,n.jsxs)("div",{className:"bg-white shadow",children:[(0,n.jsx)(I.Z,{src:h.url,className:"w-full object-cover",height:180,wrapperClassName:"w-full"}),(0,n.jsx)("div",{className:"p-1 flex justify-center",children:(0,n.jsx)(k.Z,{title:"X\xE1c nh\u1EADn x\xF3a",onConfirm:function(){return A(h.id)},children:(0,n.jsx)(P.ZP,{type:"text",icon:(0,n.jsx)(H.Z,{}),size:"small",danger:!0,children:"X\xF3a"})})})]})}}),(0,n.jsx)(K,{open:m,setOpen:s}),(0,n.jsx)(y.Z,{open:Z,onCancel:function(){return o(!1)},onFinish:G})]})},q=N},41641:function($,x,e){e.d(x,{IO:function(){return v},kd:function(){return c},pA:function(){return j},t4:function(){return D},vs:function(){return a}});var p=e(58703),v=function(t){return(0,p.request)("file/upload",{method:"POST",data:t,headers:{"Content-Type":"multipart/form-data"}})},D=function(t){return(0,p.request)("file/list",{params:t})},a=function(t){return(0,p.request)("gallery/photo/list",{params:t})},j=function(t){return(0,p.request)("gallery/photo/add",{method:"POST",data:t})},c=function(t){return(0,p.request)("gallery/photo/".concat(t),{method:"DELETE"})}},26805:function($,x,e){e.d(x,{dK:function(){return v},gB:function(){return D}});function p(a){return a.trim()}function v(a){return a?a==="vi-VN"?1:2:1}function D(a){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=j?1e3:1024;if(Math.abs(a)<u)return a+" B";var t=j?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],O=-1,T=Math.pow(10,c);do a/=u,++O;while(Math.round(Math.abs(a)*T)/T>=u&&O<t.length-1);return a.toFixed(c)+" "+t[O]}}}]);
