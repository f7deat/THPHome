"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5383],{39058:function(b,j,n){n.r(j),n.d(j,{default:function(){return ae}});var F=n(48305),u=n.n(F),y=n(95845),t=n(16941),r=n(68110),i=n(55641),o=n(14292),g=n(53739),h=n(19146),p=n(37560),U=n(29690),v=n(76477),P=n(69534),x=n(97146),H=n(33122),d=n(93236),A=n(21897),J=n(69838),Q=n(22717),W=n(56154),X=n(81842),k=n(26598),f=n(37090),w=n(77097),O=n(24706),q=n(90228),K=n.n(q),_=n(87999),ee=n.n(_);function ne(S){return B.apply(this,arguments)}function B(){return B=ee()(K()().mark(function S(M){return K()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,f.request)("menu/options?language=".concat(M)));case 1:case"end":return m.stop()}},S)})),B.apply(this,arguments)}var D=n(42389),e=n(62086),z=y.Z.Option,te=function(){var M=(0,d.useState)([]),T=u()(M,2),m=T[0],le=T[1],ie=(0,d.useState)(!1),L=u()(ie,2),ue=L[0],c=L[1],se=(0,d.useState)([]),N=u()(se,2),re=N[0],de=N[1],oe=(0,d.useState)(1),V=u()(oe,2),Z=V[0],me=V[1],ce=(0,d.useState)(),G=u()(ce,2),he=G[0],R=G[1],Y=(0,f.useIntl)(),ve=(0,d.useState)("internal"),$=u()(ve,2),Se=$[0],Me=$[1],xe=t.Z.useForm(),fe=u()(xe,1),C=fe[0],E=function(){(0,f.request)("menu/list?type=".concat(Z,"&language=").concat((0,D.dK)(Y.locale))).then(function(l){le(l)})};(0,d.useEffect)(function(){E()},[Z,he]);var Ze=function(l){me(Number(l))};function je(){C.resetFields(),C.setFields([{name:"type",value:Z}]),c(!0)}var ye=function(){c(!1)};function ge(a){(0,f.request)("menu/delete/".concat(a),{method:"DELETE"}).then(function(l){l.succeeded?(r.ZP.success(l.message),E()):r.ZP.error(l.message)})}function pe(a){de([{name:["id"],value:a.id},{name:["createdBy"],value:a.createdBy},{name:["createdDate"],value:a.createdDate},{name:["name"],value:a.name},{name:["thumbnail"],value:a.thumbnail},{name:["description"],value:a.description},{name:["url"],value:a.url},{name:["index"],value:a.index},{name:["icon"],value:a.icon}]),C.setFields([{name:"type",value:a.type},{name:"mode",value:a.mode},{name:"parrentId",value:a.parrentId===0?null:a.parrentId}]),c(!0)}var Ce=function(l){var s="";l.type=Number(Z),l.parrentId?l.parrentId=Number(l.parrentId):l.parrentId=0,l.id?s="menu/update":s="menu/add",(0,f.request)(s,{data:l,method:"POST"}).then(function(I){I.succeeded?r.ZP.success(I.message):r.ZP.error(I.message),c(!1),E()})},Ie=[{title:"Id",dataIndex:"id"},{title:"Th\u1EE9 t\u1EF1",dataIndex:"index",width:100},{title:"T\xEAn",dataIndex:"name",render:function(l,s){return(0,e.jsx)(i.ZP,{type:"link",size:"small",onClick:function(){return R(s)},children:l})}},{title:"Ki\u1EC3u hi\u1EC3n th\u1ECB",dataIndex:"mode"},{title:"Li\xEAn k\u1EBFt",dataIndex:"url"},{title:"T\xE1c v\u1EE5",render:function(l){return(0,e.jsxs)(o.Z,{children:[(0,e.jsx)(i.ZP,{size:"small",type:"primary",icon:(0,e.jsx)(A.Z,{}),onClick:function(){R(l),c(!0)}}),(0,e.jsx)(i.ZP,{size:"small",icon:(0,e.jsx)(J.Z,{}),onClick:function(){return pe(l)}}),(0,e.jsx)(g.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return ge(l.id)},children:(0,e.jsx)(i.ZP,{type:"primary",danger:!0,icon:(0,e.jsx)(Q.Z,{}),size:"small"})})]})},width:200}],Be=[{key:"1",label:"Top Menu"},{key:"2",label:"Main Menu"},{key:"3",label:"Box Menu"}];return(0,e.jsx)(w._z,{children:(0,e.jsxs)(k.Z,{title:"Menu",extra:(0,e.jsx)(i.ZP,{type:"primary",icon:(0,e.jsx)(A.Z,{}),onClick:function(){return je()},children:"Th\xEAm"}),children:[(0,e.jsx)(h.Z,{defaultActiveKey:1,items:Be,onChange:Ze,type:"card"}),(0,e.jsx)(p.Z,{dataSource:m,columns:Ie,rowKey:"id"}),(0,e.jsx)(U.Z,{title:"C\xE0i \u0111\u1EB7t",placement:"right",closable:!1,onClose:ye,open:ue,width:700,children:(0,e.jsxs)(t.Z,{onFinish:Ce,layout:"vertical",fields:re,form:C,children:[(0,e.jsx)(t.Z.Item,{hidden:!0,name:"id"}),(0,e.jsx)(t.Z.Item,{hidden:!0,name:"createdBy"}),(0,e.jsx)(t.Z.Item,{hidden:!0,name:"createdDate"}),(0,e.jsx)(t.Z.Item,{hidden:!0,name:"modifiedBy"}),(0,e.jsx)(t.Z.Item,{label:"T\xEAn",name:"name",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp"}],children:(0,e.jsx)(v.Z,{})}),(0,e.jsxs)(P.Z,{gutter:16,children:[(0,e.jsx)(x.Z,{span:16,children:(0,e.jsx)(O.Z,{label:"Menu cha",name:"parrentId",allowClear:!0,showSearch:!0,request:function(){return ne((0,D.dK)(Y.locale))}})}),(0,e.jsx)(x.Z,{span:8,children:(0,e.jsx)(O.Z,{disabled:!0,options:[{label:"Top Menu",value:1},{label:"Menu Menu",value:2},{label:"Box Menu",value:3}],label:"Lo\u1EA1i",name:"type",initialValue:Z})})]}),(0,e.jsx)(t.Z.Item,{label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",name:"thumbnail",children:(0,e.jsx)(v.Z,{})}),(0,e.jsx)(t.Z.Item,{label:"M\xF4 t\u1EA3",name:"description",children:(0,e.jsx)(v.Z.TextArea,{})}),(0,e.jsx)(t.Z.Item,{label:"Li\xEAn k\u1EBFt",name:"url",children:(0,e.jsx)(v.Z,{})}),(0,e.jsxs)(P.Z,{gutter:16,children:[(0,e.jsx)(x.Z,{span:8,children:(0,e.jsx)(t.Z.Item,{name:"mode",label:"Ki\u1EC3u hi\u1EC3n th\u1ECB",initialValue:"Flyout",children:(0,e.jsxs)(y.Z,{children:[(0,e.jsx)(z,{value:"Flyout",children:"Flyout"}),(0,e.jsx)(z,{value:"Mega",children:"Mega"})]})})}),(0,e.jsx)(x.Z,{span:8,children:(0,e.jsx)(t.Z.Item,{label:"Th\u1EE9 t\u1EF1",name:"index",children:(0,e.jsx)(H.Z,{style:{width:"100%"}})})}),(0,e.jsx)(x.Z,{span:8,children:(0,e.jsx)(t.Z.Item,{label:"Icon",name:"icon",children:(0,e.jsx)(v.Z,{})})})]}),(0,e.jsx)(t.Z.Item,{children:(0,e.jsxs)(o.Z,{children:[(0,e.jsx)(i.ZP,{type:"primary",htmlType:"submit",icon:(0,e.jsx)(W.Z,{}),children:"Save"}),(0,e.jsx)(i.ZP,{htmlType:"button",icon:(0,e.jsx)(X.Z,{}),onClick:function(){return c(!1)},children:"Close"})]})})]})})]})})},ae=te},42389:function(b,j,n){n.d(j,{dK:function(){return u},gB:function(){return y}});function F(t){return t.trim()}function u(t){return t?t==="vi-VN"?1:2:1}function y(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=r?1e3:1024;if(Math.abs(t)<o)return t+" B";var g=r?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],h=-1,p=Math.pow(10,i);do t/=o,++h;while(Math.round(Math.abs(t)*p)/p>=o&&h<g.length-1);return t.toFixed(i)+" "+g[h]}}}]);
