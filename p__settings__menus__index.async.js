"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[383],{39058:function(L,v,n){n.r(v),n.d(v,{default:function(){return te}});var T=n(48305),s=n.n(T),u=n(95845),l=n(16941),x=n(68110),r=n(55641),E=n(14292),V=n(53739),$=n(19146),z=n(89035),G=n(29690),c=n(76477),U=n(69534),y=n(97146),Y=n(33122),d=n(93236),F=n(21897),H=n(69838),J=n(22717),Q=n(56154),W=n(81842),X=n(26598),h=n(37090),b=n(77097),k=n(24706),w=n(90228),M=n.n(w),q=n(87999),_=n.n(q);function ee(I){return C.apply(this,arguments)}function C(){return C=_()(M()().mark(function I(g){return M()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("menu/options?language=".concat(g)));case 1:case"end":return o.stop()}},I)})),C.apply(this,arguments)}var P=n(42389),e=n(62086),A=u.Z.Option,ne=function(){var g=(0,d.useState)([]),p=s()(g,2),o=p[0],ae=p[1],le=(0,d.useState)(!1),O=s()(le,2),se=O[0],m=O[1],ie=(0,d.useState)([]),B=s()(ie,2),ue=B[0],re=B[1],de=(0,d.useState)("1"),D=s()(de,2),f=D[0],oe=D[1],me=(0,d.useState)(),K=s()(me,2),ce=K[0],N=K[1],R=(0,h.useIntl)(),he=l.Z.useForm(),ve=s()(he,1),Z=ve[0];(0,d.useEffect)(function(){S()},[f,ce]);var S=function(){(0,h.request)("menu/list?type=".concat(f,"&language=").concat((0,P.d)(R.locale))).then(function(a){ae(a)})},xe=function(a){oe(a)};function fe(){Z.resetFields(),Z.setFields([{name:"type",value:f}]),m(!0)}var Ze=function(){m(!1)};function je(t){(0,h.request)("menu/delete/".concat(t),{method:"DELETE"}).then(function(a){a.succeeded?(x.ZP.success(a.message),S()):x.ZP.error(a.message)})}function ye(t){re([{name:["id"],value:t.id},{name:["createdBy"],value:t.createdBy},{name:["createdDate"],value:t.createdDate},{name:["name"],value:t.name},{name:["thumbnail"],value:t.thumbnail},{name:["description"],value:t.description},{name:["url"],value:t.url},{name:["index"],value:t.index},{name:["icon"],value:t.icon}]),Z.setFields([{name:"type",value:t.type},{name:"mode",value:t.mode},{name:"parrentId",value:t.parrentId===0?null:t.parrentId}]),m(!0)}var Ce=function(a){var i="";a.type=Number(f),a.parrentId?a.parrentId=Number(a.parrentId):a.parrentId=0,a.id?i="menu/update":i="menu/add",(0,h.request)(i,{data:a,method:"POST"}).then(function(j){j.succeeded?x.ZP.success(j.message):x.ZP.error(j.message),m(!1),S()})},Ie=[{title:"Id",dataIndex:"id"},{title:"Th\u1EE9 t\u1EF1",dataIndex:"index",width:100},{title:"T\xEAn",dataIndex:"name",render:function(a,i){return(0,e.jsx)(r.ZP,{type:"link",size:"small",onClick:function(){return N(i)},children:a})}},{title:"Ki\u1EC3u hi\u1EC3n th\u1ECB",dataIndex:"mode"},{title:"Li\xEAn k\u1EBFt",dataIndex:"url"},{title:"T\xE1c v\u1EE5",render:function(a){return(0,e.jsxs)(E.Z,{children:[(0,e.jsx)(r.ZP,{type:"primary",icon:(0,e.jsx)(F.Z,{}),onClick:function(){N(a),m(!0)}}),(0,e.jsx)(r.ZP,{icon:(0,e.jsx)(H.Z,{}),onClick:function(){return ye(a)}}),(0,e.jsx)(V.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return je(a.id)},children:(0,e.jsx)(r.ZP,{type:"primary",danger:!0,icon:(0,e.jsx)(J.Z,{})})})]})},width:200}],ge=[{key:"1",label:"Top Menu"},{key:"2",label:"Main Menu"},{key:"3",label:"Box Menu"}];return(0,e.jsx)(b._z,{children:(0,e.jsxs)(X.Z,{title:"Menu",extra:(0,e.jsx)(r.ZP,{type:"primary",icon:(0,e.jsx)(F.Z,{}),onClick:function(){return fe()},children:"Th\xEAm"}),children:[(0,e.jsx)($.Z,{defaultActiveKey:"1",items:ge,onChange:xe,type:"card"}),(0,e.jsx)(z.Z,{dataSource:o,columns:Ie,rowKey:"id"}),(0,e.jsx)(G.Z,{title:"C\xE0i \u0111\u1EB7t",placement:"right",closable:!1,onClose:Ze,visible:se,width:700,children:(0,e.jsxs)(l.Z,{onFinish:Ce,layout:"vertical",fields:ue,form:Z,children:[(0,e.jsx)(l.Z.Item,{hidden:!0,name:"id"}),(0,e.jsx)(l.Z.Item,{hidden:!0,name:"createdBy"}),(0,e.jsx)(l.Z.Item,{hidden:!0,name:"createdDate"}),(0,e.jsx)(l.Z.Item,{hidden:!0,name:"modifiedBy"}),(0,e.jsx)(l.Z.Item,{label:"T\xEAn",name:"name",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp"}],children:(0,e.jsx)(c.Z,{})}),(0,e.jsx)(k.Z,{label:"Menu cha",name:"parrentId",allowClear:!0,showSearch:!0,request:function(){return ee((0,P.d)(R.locale))}}),(0,e.jsx)(l.Z.Item,{label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",name:"thumbnail",children:(0,e.jsx)(c.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"M\xF4 t\u1EA3",name:"description",children:(0,e.jsx)(c.Z.TextArea,{})}),(0,e.jsx)(l.Z.Item,{label:"Li\xEAn k\u1EBFt",name:"url",children:(0,e.jsx)(c.Z,{})}),(0,e.jsxs)(U.Z,{gutter:16,children:[(0,e.jsx)(y.Z,{span:8,children:(0,e.jsx)(l.Z.Item,{name:"mode",label:"Ki\u1EC3u hi\u1EC3n th\u1ECB",children:(0,e.jsxs)(u.Z,{children:[(0,e.jsx)(A,{value:"Flyout",children:"Flyout"}),(0,e.jsx)(A,{value:"Mega",children:"Mega"})]})})}),(0,e.jsx)(y.Z,{span:8,children:(0,e.jsx)(l.Z.Item,{label:"Th\u1EE9 t\u1EF1",name:"index",children:(0,e.jsx)(Y.Z,{style:{width:"100%"}})})}),(0,e.jsx)(y.Z,{span:8,children:(0,e.jsx)(l.Z.Item,{label:"Icon",name:"icon",children:(0,e.jsx)(c.Z,{})})})]}),(0,e.jsx)(l.Z.Item,{children:(0,e.jsxs)(E.Z,{children:[(0,e.jsx)(r.ZP,{type:"primary",htmlType:"submit",icon:(0,e.jsx)(Q.Z,{}),children:"Save"}),(0,e.jsx)(r.ZP,{htmlType:"button",icon:(0,e.jsx)(W.Z,{}),onClick:function(){return m(!1)},children:"Close"})]})})]})})]})})},te=ne},42389:function(L,v,n){n.d(v,{d:function(){return s}});function T(u){return u.trim()}function s(u){return u?u==="vi-VN"?1:2:1}}}]);
