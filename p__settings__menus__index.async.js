"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[383],{39058:function(V,v,n){n.r(v),n.d(v,{default:function(){return ae}});var E=n(48305),s=n.n(E),i=n(95845),l=n(16941),x=n(68110),r=n(55641),F=n(14292),$=n(53739),z=n(19146),G=n(89035),U=n(29690),c=n(76477),Y=n(69534),C=n(97146),H=n(33122),d=n(93236),M=n(21897),J=n(69838),Q=n(22717),W=n(56154),X=n(81842),b=n(26598),h=n(37090),k=n(77097),w=n(24706),q=n(90228),P=n.n(q),_=n(87999),ee=n.n(_);function ne(I){return g.apply(this,arguments)}function g(){return g=ee()(P()().mark(function I(p){return P()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("menu/options?language=".concat(p)));case 1:case"end":return o.stop()}},I)})),g.apply(this,arguments)}var A=n(42389),e=n(62086),O=i.Z.Option,te=function(){var p=(0,d.useState)([]),S=s()(p,2),o=S[0],le=S[1],se=(0,d.useState)(!1),B=s()(se,2),ue=B[0],m=B[1],ie=(0,d.useState)([]),D=s()(ie,2),re=D[0],de=D[1],oe=(0,d.useState)("1"),K=s()(oe,2),f=K[0],me=K[1],ce=(0,d.useState)(),R=s()(ce,2),Z=R[0],L=R[1],N=(0,h.useIntl)(),he=l.Z.useForm(),ve=s()(he,1),j=ve[0];(0,d.useEffect)(function(){T()},[f,Z]);var T=function(){(0,h.request)("menu/list?type=".concat(f,"&language=").concat((0,A.d)(N.locale))).then(function(a){le(a)})},xe=function(a){me(a)};function fe(){j.resetFields(),j.setFields([{name:"type",value:f}]),m(!0)}var Ze=function(){m(!1)};function je(t){(0,h.request)("menu/delete/".concat(t),{method:"DELETE"}).then(function(a){a.succeeded?(x.ZP.success(a.message),T()):x.ZP.error(a.message)})}function ye(t){de([{name:["id"],value:t.id},{name:["createdBy"],value:t.createdBy},{name:["createdDate"],value:t.createdDate},{name:["name"],value:t.name},{name:["thumbnail"],value:t.thumbnail},{name:["description"],value:t.description},{name:["url"],value:t.url},{name:["index"],value:t.index},{name:["icon"],value:t.icon}]),j.setFields([{name:"type",value:t.type},{name:"mode",value:t.mode},{name:"parrentId",value:t.parrentId===0?null:t.parrentId}]),m(!0)}var Ce=function(a){var u="";a.type=Number(f),a.parrentId=Z==null?void 0:Z.id,a.id?u="menu/update":u="menu/add",(0,h.request)(u,{data:a,method:"POST"}).then(function(y){y.succeeded?x.ZP.success(y.message):x.ZP.error(y.message),m(!1),T()})},ge=[{title:"Id",dataIndex:"id"},{title:"Th\u1EE9 t\u1EF1",dataIndex:"index",width:100},{title:"T\xEAn",dataIndex:"name",render:function(a,u){return(0,e.jsx)(r.ZP,{type:"link",size:"small",onClick:function(){return L(u)},children:a})}},{title:"Ki\u1EC3u hi\u1EC3n th\u1ECB",dataIndex:"mode"},{title:"Li\xEAn k\u1EBFt",dataIndex:"url"},{title:"T\xE1c v\u1EE5",render:function(a){return(0,e.jsxs)(F.Z,{children:[(0,e.jsx)(r.ZP,{type:"primary",icon:(0,e.jsx)(M.Z,{}),onClick:function(){L(a),m(!0)}}),(0,e.jsx)(r.ZP,{icon:(0,e.jsx)(J.Z,{}),onClick:function(){return ye(a)}}),(0,e.jsx)($.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return je(a.id)},children:(0,e.jsx)(r.ZP,{type:"primary",danger:!0,icon:(0,e.jsx)(Q.Z,{})})})]})},width:200}],Ie=[{key:"1",label:"Top Menu"},{key:"2",label:"Main Menu"},{key:"3",label:"Box Menu"}];return(0,e.jsx)(k._z,{children:(0,e.jsxs)(b.Z,{title:"Menu",extra:(0,e.jsx)(r.ZP,{type:"primary",icon:(0,e.jsx)(M.Z,{}),onClick:function(){return fe()},children:"Th\xEAm"}),children:[(0,e.jsx)(z.Z,{defaultActiveKey:"1",items:Ie,onChange:xe,type:"card"}),(0,e.jsx)(G.Z,{dataSource:o,columns:ge,rowKey:"id"}),(0,e.jsx)(U.Z,{title:"C\xE0i \u0111\u1EB7t",placement:"right",closable:!1,onClose:Ze,visible:ue,width:700,children:(0,e.jsxs)(l.Z,{onFinish:Ce,layout:"vertical",fields:re,form:j,children:[(0,e.jsx)(l.Z.Item,{hidden:!0,name:"id"}),(0,e.jsx)(l.Z.Item,{hidden:!0,name:"createdBy"}),(0,e.jsx)(l.Z.Item,{hidden:!0,name:"createdDate"}),(0,e.jsx)(l.Z.Item,{hidden:!0,name:"modifiedBy"}),(0,e.jsx)(l.Z.Item,{label:"T\xEAn",name:"name",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp"}],children:(0,e.jsx)(c.Z,{})}),(0,e.jsx)(w.Z,{label:"Menu cha",name:"parrentId",allowClear:!0,showSearch:!0,request:function(){return ne((0,A.d)(N.locale))}}),(0,e.jsx)(l.Z.Item,{label:"\u1EA2nh \u0111\u1EA1i di\u1EC7n",name:"thumbnail",children:(0,e.jsx)(c.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"M\xF4 t\u1EA3",name:"description",children:(0,e.jsx)(c.Z.TextArea,{})}),(0,e.jsx)(l.Z.Item,{label:"Li\xEAn k\u1EBFt",name:"url",children:(0,e.jsx)(c.Z,{})}),(0,e.jsxs)(Y.Z,{gutter:16,children:[(0,e.jsx)(C.Z,{span:8,children:(0,e.jsx)(l.Z.Item,{name:"mode",label:"Ki\u1EC3u hi\u1EC3n th\u1ECB",children:(0,e.jsxs)(i.Z,{children:[(0,e.jsx)(O,{value:"Flyout",children:"Flyout"}),(0,e.jsx)(O,{value:"Mega",children:"Mega"})]})})}),(0,e.jsx)(C.Z,{span:8,children:(0,e.jsx)(l.Z.Item,{label:"Th\u1EE9 t\u1EF1",name:"index",children:(0,e.jsx)(H.Z,{style:{width:"100%"}})})}),(0,e.jsx)(C.Z,{span:8,children:(0,e.jsx)(l.Z.Item,{label:"Icon",name:"icon",children:(0,e.jsx)(c.Z,{})})})]}),(0,e.jsx)(l.Z.Item,{children:(0,e.jsxs)(F.Z,{children:[(0,e.jsx)(r.ZP,{type:"primary",htmlType:"submit",icon:(0,e.jsx)(W.Z,{}),children:"Save"}),(0,e.jsx)(r.ZP,{htmlType:"button",icon:(0,e.jsx)(X.Z,{}),onClick:function(){return m(!1)},children:"Close"})]})})]})})]})})},ae=te},42389:function(V,v,n){n.d(v,{d:function(){return s}});function E(i){return i.trim()}function s(i){return i?i==="vi-VN"?1:2:1}}}]);
