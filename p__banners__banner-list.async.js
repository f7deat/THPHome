"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[574],{25223:function(ae,j,e){e.d(j,{Z:function(){return f}});var y=e(52643),o=e(68136),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},v=h,g=e(91471),D=function(E,L){return o.createElement(g.Z,(0,y.Z)({},E,{ref:L,icon:v}))},f=o.forwardRef(D)},54532:function(ae,j,e){e.r(j),e.d(j,{default:function(){return Z}});var y=e(78095),o=e.n(y),h=e(34827),v=e.n(h),g=e(24991),D=e(4870),f=e(46665),b=e(13762),E=e(2537),L=e(30339),M=e(78491),p=e(22606),V=e(41605),S=e(18801),U=e(15621),$=e(88821),K=e(63687),z=e(55772),m=e(68136),x=function(d){return d[d.DEFAULT=0]="DEFAULT",d[d.SLIDE=1]="SLIDE",d[d.POST=2]="POST",d[d.PHOTO=3]="PHOTO",d}(x||{}),G=[{id:x.DEFAULT,name:"Default"},{id:x.SLIDE,name:"Slide"},{id:x.POST,name:"Post"},{id:x.PHOTO,name:"Photo"}],J=e(14613),C=e(80812),X=e(81068),n=e(33130),t=g.Z.Option,Y=function(){var A=(0,m.useState)(!1),W=v()(A,2),N=W[0],u=W[1],Q=(0,m.useState)(),R=v()(Q,2),r=R[0],P=R[1],w=(0,m.useState)(),T=v()(w,2),F=T[0],se=T[1],k=(0,m.useState)(x.PHOTO),_=v()(k,2),I=_[0],H=_[1],q=(0,m.useState)(!1),s=v()(q,2),i=s[0],c=s[1],ee=D.Z.useForm(),oe=v()(ee,1),ne=oe[0],le=G.map(function(a){return(0,n.jsx)(t,{value:a.id,children:a.name},a.id)}),B=(0,m.useCallback)(function(){(0,C.request)("banner/get-list?type=".concat(I)).then(function(a){se(a)})},[I]);(0,m.useEffect)(function(){B()},[B]);var re=function(l){H(l.type||x.PHOTO),P(l),u(!0)},de=function(){u(!1)},ce=function(){r.image=ne.getFieldValue("image"),r.id?(0,C.request)("banner/update",{method:"POST",data:r}).then(function(l){l.succeeded&&(B(),f.ZP.success("succeeded!"),u(!1))}):(0,C.request)("banner/add",{method:"POST",data:r}).then(function(l){l.succeeded&&(B(),f.ZP.success("succeeded!"),u(!1))})};function ue(a){(0,C.request)("banner/delete/".concat(a),{method:"POST"}).then(function(l){l.succeeded&&(B(),f.ZP.success("succeeded!"))})}function ve(a){ue(a)}var fe=function(){c(!0)},he=function(){c(!1)};return(0,n.jsxs)(X._z,{children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(g.Z,{defaultValue:I,style:{width:120},onChange:function(l){return H(l)},children:le})}),(0,n.jsxs)(b.Z,{gutter:16,children:[(0,n.jsx)(E.Z,{span:6,children:(0,n.jsx)("div",{className:"h-40 w-full bg-white border border-dashed border-gray-500 flex justify-center items-center hover:border-blue-600 cursor-pointer hover:text-blue-600",onClick:function(){return re({})},children:(0,n.jsx)($.Z,{})})}),F&&F.map(function(a){return(0,n.jsx)(E.Z,{span:6,children:(0,n.jsxs)("div",{className:"relative w-full bg-white border border-dashed border-gray-500 flex justify-center items-center hover:border-blue-600 hover:text-blue-600",children:[(0,n.jsx)("img",{src:a.image,alt:a.name,className:"object-fit-cover w-full h-40"}),(0,n.jsxs)("div",{className:"flex absolute bottom-0 w-full",children:[(0,n.jsx)("div",{className:"w-1/2 flex justify-center py-1 bg-white cursor-pointer hover:bg-red-500 hover:text-white",onClick:function(){return re(a)},children:"Chi ti\u1EBFt"}),(0,n.jsx)(L.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return ve(a.id)},children:(0,n.jsx)("div",{className:"w-1/2 flex justify-center py-1 bg-white cursor-pointer hover:bg-red-500 hover:text-white",children:"X\xF3a"})})]})]})},a.id)})]}),(0,n.jsx)(M.Z,{title:"Banner",placement:"right",closable:!1,onClose:de,visible:N,width:700,children:(0,n.jsxs)(D.Z,{form:ne,layout:"vertical",children:[(0,n.jsx)("div",{children:"Name"}),(0,n.jsx)(p.Z,{className:"mb-2",value:r==null?void 0:r.name,onChange:function(l){return P(function(O){return o()(o()({},O),{},{name:l.target.value})})}}),(0,n.jsx)("div",{className:"flex mb-2",children:(0,n.jsxs)(V.Z,{children:[(0,n.jsx)(D.Z.Item,{name:"image",label:"Image",children:(0,n.jsx)(p.Z,{})}),(0,n.jsx)(S.Z,{beforeUpload:function(l){var O=l.type==="image/jpeg"||l.type==="image/png";if(O){var ie=new FormData;return ie.append("file",l),(0,C.request)("file/upload",{method:"POST",data:ie}).then(function(te){if(!te.succeeded)return f.ZP.error(te.message),!1;ne.setFieldValue("image",te.url)}),!1}else return f.ZP.error("You can only upload JPG or PNG file!"),!1},maxCount:1,showUploadList:!1,children:(0,n.jsx)(U.ZP,{icon:(0,n.jsx)(K.Z,{}),children:"T\u1EA3i l\xEAn"})}),(0,n.jsx)(U.ZP,{icon:(0,n.jsx)(K.Z,{}),onClick:fe,children:"Duy\u1EC7t"})]})}),(0,n.jsx)("div",{children:"Url"}),(0,n.jsx)(p.Z,{className:"mb-2",value:r==null?void 0:r.url,onChange:function(l){return P(function(O){return o()(o()({},O),{},{url:l.target.value})})}}),(0,n.jsx)("div",{children:"Display On"}),(0,n.jsx)(p.Z,{className:"mb-2",value:r==null?void 0:r.displayOn,onChange:function(l){return P(function(O){return o()(o()({},O),{},{displayOn:Number(l.target.value)})})}}),(0,n.jsx)("div",{children:"Type"}),(0,n.jsx)(g.Z,{defaultValue:r==null?void 0:r.type,style:{width:"100%"},onChange:function(l){return P(function(O){return o()(o()({},O),{},{type:l})})},className:"mb-3",children:le}),(0,n.jsx)(U.ZP,{type:"primary",icon:(0,n.jsx)(z.Z,{}),onClick:ce,children:"L\u01B0u"})]})}),(0,n.jsx)(J.default,{visible:i,onOk:he,onCancel:function(){return c(!1)}})]})},Z=Y},14613:function(ae,j,e){e.r(j),e.d(j,{default:function(){return Y}});var y=e(34827),o=e.n(y),h=e(46665),v=e(24657),g=e(62380),D=e(78491),f=e(41605),b=e(22606),E=e(15621),L=e(13762),M=e(2537),p=e(67036),V=e(30339),S=e(68136),U=e(83294),$=e(54619),K=e(47485),z=e(2493),m=e(34180),x=e(55772),G=e(87358),J=e(13755),C=e(46555),X=e.n(C),n=e(80812),t=e(33130);function Y(Z){var d,A,W=(0,S.useState)([]),N=o()(W,2),u=N[0],Q=N[1],R=(0,S.useState)(""),r=o()(R,2),P=r[0],w=r[1];(0,S.useEffect)(function(){Z.visible&&T()},[Z.visible]);function T(){(0,n.request)("file/directories").then(function(s){Q(s)})}var F=function(){if(!P)return h.ZP.warning("Please choose a file!");Z.onOk(P)};function se(s){}function k(s){w(s)}var _=function(i){var c=i.file.status;c!=="uploading"&&console.log(i.file,i.fileList),c==="done"?(h.ZP.success("".concat(i.file.name," file uploaded successfully.")),T()):c==="error"&&h.ZP.error("".concat(i.file.name," file upload failed."))};function I(s){(0,n.request)("/api/file/delete",{method:"POST",data:{fullName:s}}).then(function(i){i.data.succeeded?(T(),h.ZP.success(i.data.message)):h.ZP.error(i.data.message)})}function H(s){var i,c=["jpeg","jpg","png","gif","bmp"],ee=((i=s.split(".").pop())===null||i===void 0?void 0:i.toLowerCase())||"";return c.includes(ee)}function q(s){return H(s.name)?(0,t.jsx)("div",{children:(0,t.jsx)(v.Z,{src:s.fullName,width:200})}):(0,t.jsx)(g.Z,{})}return(0,t.jsxs)(D.Z,{title:"File Explorer",placement:"right",closable:!1,visible:Z.visible,width:900,children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)(J.Z,{action:"/api/file/upload",onChange:_,children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(U.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]})}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)(f.Z,{className:"mb-2",children:[(0,t.jsx)(b.Z,{}),(0,t.jsx)(E.ZP,{type:"primary",icon:(0,t.jsx)($.Z,{})})]}),(0,t.jsxs)("div",{className:"border",style:{minHeight:"calc(100vh - 360px)"},children:[u==null||(d=u.folders)===null||d===void 0?void 0:d.map(function(s,i){return(0,t.jsxs)("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer",onDoubleClick:function(){return void 0},children:[(0,t.jsx)(K.Z,{className:"mr-2"}),s.name]},i)}),u==null||(A=u.files)===null||A===void 0?void 0:A.map(function(s,i){return(0,t.jsx)("button",{className:"px-2 py-1 hover:bg-gray-100 w-full text-left bg-white focus:bg-gray-100",onClick:function(){return k(s)},children:(0,t.jsxs)(L.Z,{className:"items-center",children:[(0,t.jsx)(M.Z,{span:12,children:(0,t.jsxs)(p.Z,{content:q(s),title:"Preview",children:[(0,t.jsx)(z.Z,{className:"mr-2"}),s.name]})}),(0,t.jsx)(M.Z,{span:6,children:X()(s.lastWriteTime).format("MM/DD/YYYY h:mm:ss A")}),(0,t.jsxs)(M.Z,{span:3,children:[s.length," KB"]}),(0,t.jsx)(M.Z,{span:3,className:"text-right",children:(0,t.jsx)(V.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return I(s.fullName)},children:(0,t.jsx)(m.Z,{twoToneColor:"red"})})})]})},i)})]})]}),(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(E.ZP,{onClick:F,icon:(0,t.jsx)(x.Z,{}),type:"primary",children:"Ok"}),(0,t.jsx)(E.ZP,{onClick:Z.onCancel,icon:(0,t.jsx)(G.Z,{}),children:"Close"})]})]})}}}]);
