"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2574],{49799:function(le,P,e){e.d(P,{Z:function(){return v}});var p=e(52643),d=e(68136),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},u=f,j=e(91471),g=function(E,L){return d.createElement(j.Z,(0,p.Z)({},E,{ref:L,icon:u}))},v=d.forwardRef(g)},54532:function(le,P,e){e.r(P),e.d(P,{default:function(){return K}});var p=e(78095),d=e.n(p),f=e(34827),u=e.n(f),j=e(24991),g=e(4870),v=e(46665),I=e(13762),E=e(2537),L=e(30339),C=e(24657),H=e(78491),Z=e(10483),y=e(41605),V=e(18801),S=e(15621),$=e(88821),z=e(49799),G=e(25223),B=e(63687),J=e(55772),m=e(68136),h=function(o){return o[o.DEFAULT=0]="DEFAULT",o[o.SLIDE=1]="SLIDE",o[o.POST=2]="POST",o[o.PHOTO=3]="PHOTO",o}(h||{}),Y=[{id:h.DEFAULT,name:"Default"},{id:h.SLIDE,name:"Slide"},{id:h.POST,name:"Post"},{id:h.PHOTO,name:"Photo"}],W=e(14613),t=e(58703),Q=e(81068),O=e(64235),n=e(33130),U=j.Z.Option,X=function(){var _=(0,m.useState)(!1),R=u()(_,2),N=R[0],D=R[1],k=(0,m.useState)(),M=u()(k,2),r=M[0],T=M[1],w=(0,m.useState)(),F=u()(w,2),b=F[0],q=F[1],ee=(0,m.useState)(h.PHOTO),l=u()(ee,2),i=l[0],c=l[1],ne=(0,m.useState)(!1),ie=u()(ne,2),ce=ie[0],te=ie[1],ue=g.Z.useForm(),ve=u()(ue,1),ae=ve[0],re=Y.map(function(a){return(0,n.jsx)(U,{value:a.id,children:a.name},a.id)}),A=(0,m.useCallback)(function(){(0,t.request)("banner/get-list?type=".concat(i)).then(function(a){q(a)})},[i]);(0,m.useEffect)(function(){A()},[A]);var oe=function(s){c(s.type||h.PHOTO),T(s),D(!0)},fe=function(){D(!1)},me=function(){r.image=ae.getFieldValue("image"),r.id?(0,t.request)("banner/update",{method:"POST",data:r}).then(function(s){s.succeeded&&(A(),v.ZP.success("succeeded!"),D(!1))}):(0,t.request)("banner/add",{method:"POST",data:r}).then(function(s){s.succeeded&&(A(),v.ZP.success("succeeded!"),D(!1))})};function he(a){(0,t.request)("banner/delete/".concat(a),{method:"POST"}).then(function(s){s.succeeded&&(A(),v.ZP.success("succeeded!"))})}function xe(a){he(a)}var Ee=function(){te(!0)},Oe=function(){te(!1)},Pe=function(s){return s.startsWith("http")?s:"https://dhhp.edu.vn".concat(s)};return(0,n.jsxs)(Q._z,{children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(j.Z,{defaultValue:i,style:{width:120},onChange:function(s){return c(s)},children:re})}),(0,n.jsxs)(I.Z,{gutter:16,children:[(0,n.jsx)(E.Z,{span:6,children:(0,n.jsx)(O.Z,{className:"h-full flex items-center justify-center mb-4",onClick:function(){return oe({})},children:(0,n.jsx)($.Z,{})})}),b&&b.map(function(a){return(0,n.jsx)(E.Z,{span:6,children:(0,n.jsx)(O.Z,{className:"mb-4",actions:[(0,n.jsx)(z.Z,{onClick:function(){return oe(a)}},"edit"),(0,n.jsx)(L.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return xe(a.id)},children:(0,n.jsx)(G.Z,{})},"delete")],children:(0,n.jsx)("div",{className:"relative w-full bg-white border border-dashed border-gray-500 flex justify-center items-center hover:border-blue-600 hover:text-blue-600",children:(0,n.jsx)(C.Z,{src:Pe(a.image),alt:a.name,height:200,wrapperClassName:"w-full",style:{objectFit:"cover"}})})})},a.id)})]}),(0,n.jsx)(H.Z,{title:"Banner",placement:"right",closable:!1,onClose:fe,visible:N,width:700,children:(0,n.jsxs)(g.Z,{form:ae,layout:"vertical",children:[(0,n.jsx)("div",{children:"Name"}),(0,n.jsx)(Z.Z,{className:"mb-2",value:r==null?void 0:r.name,onChange:function(s){return T(function(x){return d()(d()({},x),{},{name:s.target.value})})}}),(0,n.jsx)("div",{className:"flex mb-2",children:(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(g.Z.Item,{name:"image",label:"Image",children:(0,n.jsx)(Z.Z,{})}),(0,n.jsx)(V.Z,{beforeUpload:function(s){var x=s.type==="image/jpeg"||s.type==="image/png";if(x){var de=new FormData;return de.append("file",s),(0,t.request)("file/upload",{method:"POST",data:de}).then(function(se){if(!se.succeeded)return v.ZP.error(se.message),!1;ae.setFieldValue("image",se.url)}),!1}else return v.ZP.error("You can only upload JPG or PNG file!"),!1},maxCount:1,showUploadList:!1,children:(0,n.jsx)(S.ZP,{icon:(0,n.jsx)(B.Z,{}),children:"T\u1EA3i l\xEAn"})}),(0,n.jsx)(S.ZP,{icon:(0,n.jsx)(B.Z,{}),onClick:Ee,children:"Duy\u1EC7t"})]})}),(0,n.jsx)("div",{children:"Url"}),(0,n.jsx)(Z.Z,{className:"mb-2",value:r==null?void 0:r.url,onChange:function(s){return T(function(x){return d()(d()({},x),{},{url:s.target.value})})}}),(0,n.jsx)("div",{children:"Display On"}),(0,n.jsx)(Z.Z,{className:"mb-2",value:r==null?void 0:r.displayOn,onChange:function(s){return T(function(x){return d()(d()({},x),{},{displayOn:Number(s.target.value)})})}}),(0,n.jsx)("div",{children:"Type"}),(0,n.jsx)(j.Z,{defaultValue:r==null?void 0:r.type,style:{width:"100%"},onChange:function(s){return T(function(x){return d()(d()({},x),{},{type:s})})},className:"mb-3",children:re}),(0,n.jsx)(S.ZP,{type:"primary",icon:(0,n.jsx)(J.Z,{}),onClick:me,children:"L\u01B0u"})]})}),(0,n.jsx)(W.default,{visible:ce,onOk:Oe,onCancel:function(){return te(!1)}})]})},K=X},14613:function(le,P,e){e.r(P),e.d(P,{default:function(){return Q}});var p=e(34827),d=e.n(p),f=e(46665),u=e(24657),j=e(62380),g=e(78491),v=e(41605),I=e(10483),E=e(15621),L=e(13762),C=e(2537),H=e(67036),Z=e(30339),y=e(68136),V=e(83294),S=e(54619),$=e(47485),z=e(1820),G=e(34180),B=e(55772),J=e(87358),m=e(13755),h=e(46555),Y=e.n(h),W=e(58703),t=e(33130);function Q(O){var n,U,X=(0,y.useState)([]),K=d()(X,2),o=K[0],_=K[1],R=(0,y.useState)(""),N=d()(R,2),D=N[0],k=N[1];(0,y.useEffect)(function(){O.visible&&M()},[O.visible]);function M(){(0,W.request)("file/directories").then(function(l){_(l)})}var r=function(){if(!D)return f.ZP.warning("Please choose a file!");O.onOk(D)};function T(l){}function w(l){k(l)}var F=function(i){var c=i.file.status;c!=="uploading"&&console.log(i.file,i.fileList),c==="done"?(f.ZP.success("".concat(i.file.name," file uploaded successfully.")),M()):c==="error"&&f.ZP.error("".concat(i.file.name," file upload failed."))};function b(l){(0,W.request)("/api/file/delete",{method:"POST",data:{fullName:l}}).then(function(i){i.data.succeeded?(M(),f.ZP.success(i.data.message)):f.ZP.error(i.data.message)})}function q(l){var i,c=["jpeg","jpg","png","gif","bmp"],ne=((i=l.split(".").pop())===null||i===void 0?void 0:i.toLowerCase())||"";return c.includes(ne)}function ee(l){return q(l.name)?(0,t.jsx)("div",{children:(0,t.jsx)(u.Z,{src:l.fullName,width:200})}):(0,t.jsx)(j.Z,{})}return(0,t.jsxs)(g.Z,{title:"File Explorer",placement:"right",closable:!1,visible:O.visible,width:900,children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)(m.Z,{action:"/api/file/upload",onChange:F,children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(V.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]})}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)(v.Z,{className:"mb-2",children:[(0,t.jsx)(I.Z,{}),(0,t.jsx)(E.ZP,{type:"primary",icon:(0,t.jsx)(S.Z,{})})]}),(0,t.jsxs)("div",{className:"border",style:{minHeight:"calc(100vh - 360px)"},children:[o==null||(n=o.folders)===null||n===void 0?void 0:n.map(function(l,i){return(0,t.jsxs)("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer",onDoubleClick:function(){return void 0},children:[(0,t.jsx)($.Z,{className:"mr-2"}),l.name]},i)}),o==null||(U=o.files)===null||U===void 0?void 0:U.map(function(l,i){return(0,t.jsx)("button",{className:"px-2 py-1 hover:bg-gray-100 w-full text-left bg-white focus:bg-gray-100",onClick:function(){return w(l)},children:(0,t.jsxs)(L.Z,{className:"items-center",children:[(0,t.jsx)(C.Z,{span:12,children:(0,t.jsxs)(H.Z,{content:ee(l),title:"Preview",children:[(0,t.jsx)(z.Z,{className:"mr-2"}),l.name]})}),(0,t.jsx)(C.Z,{span:6,children:Y()(l.lastWriteTime).format("MM/DD/YYYY h:mm:ss A")}),(0,t.jsxs)(C.Z,{span:3,children:[l.length," KB"]}),(0,t.jsx)(C.Z,{span:3,className:"text-right",children:(0,t.jsx)(Z.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return b(l.fullName)},children:(0,t.jsx)(G.Z,{twoToneColor:"red"})})})]})},i)})]})]}),(0,t.jsxs)(v.Z,{children:[(0,t.jsx)(E.ZP,{onClick:r,icon:(0,t.jsx)(B.Z,{}),type:"primary",children:"Ok"}),(0,t.jsx)(E.ZP,{onClick:O.onCancel,icon:(0,t.jsx)(J.Z,{}),children:"Close"})]})]})}}}]);
