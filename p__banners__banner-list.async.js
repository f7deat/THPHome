"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2574],{26494:function(R,p,e){e.d(p,{Z:function(){return P}});var a=e(52643),r=e(68136),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},_=h,E=e(91471),v=function(u,o){return r.createElement(E.Z,(0,a.Z)({},u,{ref:o,icon:_}))},P=r.forwardRef(v)},49799:function(R,p,e){e.d(p,{Z:function(){return P}});var a=e(52643),r=e(68136),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},_=h,E=e(91471),v=function(u,o){return r.createElement(E.Z,(0,a.Z)({},u,{ref:o,icon:_}))},P=r.forwardRef(v)},55772:function(R,p,e){e.d(p,{Z:function(){return P}});var a=e(52643),r=e(68136),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},_=h,E=e(91471),v=function(u,o){return r.createElement(E.Z,(0,a.Z)({},u,{ref:o,icon:_}))},P=r.forwardRef(v)},63687:function(R,p,e){e.d(p,{Z:function(){return P}});var a=e(52643),r=e(68136),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},_=h,E=e(91471),v=function(u,o){return r.createElement(E.Z,(0,a.Z)({},u,{ref:o,icon:_}))},P=r.forwardRef(v)},16331:function(R,p,e){var a=e(31693),r=e(37986),h=e(23575),_=e(23205),E=e(4870),v=e(67036),P=e(91105),O=e(68136),u=e(29657),o=e(33130),g=["fieldProps","proFieldProps"],l=["fieldProps","proFieldProps"],A="text",H=function(s){var t=s.fieldProps,i=s.proFieldProps,f=(0,h.Z)(s,g);return(0,o.jsx)(u.Z,(0,r.Z)({valueType:A,fieldProps:t,filedConfig:{valueType:A},proFieldProps:i},f))},F=function(s){var t=(0,_.Z)(s.open||!1,{value:s.open,onChange:s.onOpenChange}),i=(0,a.Z)(t,2),f=i[0],B=i[1];return(0,o.jsx)(E.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(I){var y,U=I.getFieldValue(s.name||[]);return(0,o.jsx)(v.Z,(0,r.Z)((0,r.Z)({getPopupContainer:function(n){return n&&n.parentNode?n.parentNode:n},onOpenChange:B,content:(0,o.jsxs)("div",{style:{padding:"4px 0"},children:[(y=s.statusRender)===null||y===void 0?void 0:y.call(s,U),s.strengthText?(0,o.jsx)("div",{style:{marginTop:10},children:(0,o.jsx)("span",{children:s.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},s.popoverProps),{},{open:f,children:s.children}))}})},b=function(s){var t=s.fieldProps,i=s.proFieldProps,f=(0,h.Z)(s,l),B=(0,O.useState)(!1),M=(0,a.Z)(B,2),I=M[0],y=M[1];return t!=null&&t.statusRender&&f.name?(0,o.jsx)(F,{name:f.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:I,onOpenChange:y,children:(0,o.jsx)(u.Z,(0,r.Z)({valueType:"password",fieldProps:(0,r.Z)((0,r.Z)({},(0,P.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(D){var n;t==null||(n=t.onBlur)===null||n===void 0||n.call(t,D),y(!1)},onClick:function(D){var n;t==null||(n=t.onClick)===null||n===void 0||n.call(t,D),y(!0)}}),proFieldProps:i,filedConfig:{valueType:A}},f))}):(0,o.jsx)(u.Z,(0,r.Z)({valueType:"password",fieldProps:t,proFieldProps:i,filedConfig:{valueType:A}},f))},L=H;L.Password=b,L.displayName="ProFormComponent",p.Z=L},78837:function(R,p,e){var a=e(60430),r=e.n(a),h=e(53939),_=e.n(h),E=e(83134),v=e.n(E),P=e(34827),O=e.n(P),u=e(41641),o=e(83294),g=e(26494),l=e(46665),A=e(18186),H=e(62960),F=e(10483),b=e(13755),L=e(68136),m=e(33130),s=function(i){var f=(0,L.useState)(""),B=O()(f,2),M=B[0],I=B[1],y=(0,L.useState)([]),U=O()(y,2),D=U[0],n=U[1],N=(0,L.useState)(!1),z=O()(N,2),T=z[0],G=z[1];function $(j){var x;try{x=new URL(j)}catch(S){return!1}return x.protocol==="https:"}var J=function(){var j=v()(_()().mark(function x(){var S,Z;return _()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(D.length>0)){C.next=15;break}return S=new FormData,D.forEach(function(Q){S.append("file",Q)}),G(!0),C.next=6,(0,u.IO)(S);case 6:if(Z=C.sent,G(!1),Z.succeeded){C.next=11;break}return l.ZP.error(Z.message),C.abrupt("return");case 11:return n([]),i.onFinish(Z),i.onCancel(),C.abrupt("return");case 15:if($(M)){C.next=18;break}return l.ZP.error("Sorry, URL failed to upload."),C.abrupt("return");case 18:i.onFinish({url:M,succeeded:!0}),I(""),i.onCancel();case 21:case"end":return C.stop()}},x)}));return function(){return j.apply(this,arguments)}}();return(0,m.jsxs)(A.Z,{open:i.open,onCancel:function(){return i.onCancel()},centered:!0,title:"Upload",onOk:J,confirmLoading:T,children:[(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsxs)(b.Z,{fileList:D,onRemove:function(x){var S=D.indexOf(x),Z=D.slice();Z.splice(S,1),n(Z)},beforeUpload:function(x){return n([].concat(r()(D),[x])),!1},maxCount:1,children:[(0,m.jsx)("p",{className:"ant-upload-drag-icon",children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,m.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})}),(0,m.jsx)("div",{className:"text-center",children:(0,m.jsxs)("div",{className:"font-medium flex items-center gap-2 justify-center text-blue-500 text-base",children:[" ",(0,m.jsx)(g.Z,{})," Choose from your computer"]})}),(0,m.jsx)(H.Z,{children:"or"}),(0,m.jsx)(F.Z,{placeholder:"Paste image or URL",onChange:function(x){return I(x.currentTarget.value)}})]})};p.Z=s},54532:function(R,p,e){e.r(p),e.d(p,{default:function(){return z}});var a=e(53939),r=e.n(a),h=e(83134),_=e.n(h),E=e(34827),v=e.n(E),P=e(4870),O=e(46665),u=e(15621),o=e(13762),g=e(2537),l=e(30339),A=e(24657),H=e(78491),F=e(69333),b=e(88821),L=e(49799),m=e(25223),s=e(63687),t=e(55772),i=e(68136),f=function(T){return T[T.DEFAULT=0]="DEFAULT",T[T.SLIDE=1]="SLIDE",T[T.POST=2]="POST",T[T.PHOTO=3]="PHOTO",T}(f||{}),B=[{id:f.SLIDE,name:"Slide"},{id:f.POST,name:"Post"},{id:f.PHOTO,name:"Photo"}],M=e(58703),I=e(81068),y=e(79392),U=e(16331),D=e(78837),n=e(33130),N=function(){var G=(0,i.useState)(!1),$=v()(G,2),J=$[0],j=$[1],x=(0,i.useState)(),S=v()(x,2),Z=S[0],Y=S[1],C=P.Z.useForm(),Q=v()(C,1),K=Q[0],ee=(0,i.useState)(!1),w=v()(ee,2),ne=w[0],k=w[1],V=(0,i.useCallback)(function(){(0,M.request)("banner/get-list?type=".concat(f.SLIDE)).then(function(d){Y(d)})},[]);(0,i.useEffect)(function(){V()},[V]);var q=function(c){K.setFields([{name:"name",value:c.name},{name:"image",value:c.image},{name:"url",value:c.url}]),j(!0)},te=function(){j(!1)},re=function(c){c.type=f.SLIDE,c.id?(0,M.request)("banner/update",{method:"POST",data:c}).then(function(W){W.succeeded&&(V(),O.ZP.success("succeeded!"),j(!1),K.resetFields())}):(0,M.request)("banner/add",{method:"POST",data:c}).then(function(W){W.succeeded&&(V(),O.ZP.success("succeeded!"),j(!1),K.resetFields())})};function ae(d){(0,M.request)("banner/delete/".concat(d),{method:"POST"}).then(function(c){c.succeeded&&(V(),O.ZP.success("succeeded!"))})}function oe(d){ae(d)}var le=function(c){return c.startsWith("http")?c:"https://dhhp.edu.vn".concat(c)},se=function(){var d=_()(r()().mark(function c(W){return r()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:W.succeeded&&K.setFieldValue("image",W.url);case 1:case"end":return X.stop()}},c)}));return function(W){return d.apply(this,arguments)}}();return(0,n.jsxs)(I._z,{extra:(0,n.jsx)(u.ZP,{type:"primary",icon:(0,n.jsx)(b.Z,{}),onClick:function(){return q({})},children:"Th\xEAm m\u1EDBi"}),children:[(0,n.jsx)(o.Z,{gutter:16,children:Z&&Z.map(function(d){return(0,n.jsx)(g.Z,{span:6,children:(0,n.jsx)(y.Z,{className:"mb-4",actions:[(0,n.jsx)(L.Z,{onClick:function(){return q(d)}},"edit"),(0,n.jsx)(l.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return oe(d.id)},children:(0,n.jsx)(m.Z,{})},"delete")],children:(0,n.jsx)("div",{className:"relative w-full bg-white border border-dashed border-gray-500 flex justify-center items-center hover:border-blue-600 hover:text-blue-600",children:(0,n.jsx)(A.Z,{src:le(d.image),alt:d.name,height:200,wrapperClassName:"w-full",style:{objectFit:"cover"}})})})},d.id)})}),(0,n.jsx)(H.Z,{title:"Slider",placement:"right",closable:!1,onClose:te,open:J,width:700,children:(0,n.jsxs)(P.Z,{form:K,layout:"vertical",onFinish:re,children:[(0,n.jsx)(U.Z,{name:"name",label:"Ti\xEAu \u0111\u1EC1"}),(0,n.jsx)(U.Z,{name:"image",className:"w-full",label:"H\xECnh \u1EA3nh",rules:[{required:!0}],fieldProps:{addonAfter:(0,n.jsx)(u.ZP,{type:"text",size:"small",icon:(0,n.jsx)(s.Z,{}),onClick:function(){return k(!0)},children:"T\u1EA3i l\xEAn"})}}),(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsxs)(F.ZP.Group,{defaultValue:"post",children:[(0,n.jsx)(F.ZP,{value:"post",children:"B\xE0i vi\u1EBFt"}),(0,n.jsx)(F.ZP,{value:"link",children:"Li\xEAn k\u1EBFt ngo\xE0i"})]})}),(0,n.jsx)(U.Z,{name:"url",placeholder:"https://"}),(0,n.jsx)(u.ZP,{type:"primary",icon:(0,n.jsx)(t.Z,{}),htmlType:"submit",children:"L\u01B0u"})]})}),(0,n.jsx)(D.Z,{open:ne,onCancel:function(){return k(!1)},onFinish:se})]})},z=N},41641:function(R,p,e){e.d(p,{IO:function(){return r},NR:function(){return O},TD:function(){return u},cI:function(){return P},ib:function(){return o},kd:function(){return v},pA:function(){return E},t4:function(){return h},vs:function(){return _}});var a=e(58703),r=function(l){return(0,a.request)("file/upload",{method:"POST",data:l,headers:{"Content-Type":"multipart/form-data"}})},h=function(l){return(0,a.request)("file/list",{params:l})},_=function(l){return(0,a.request)("gallery/photo/list",{params:l})},E=function(l){return(0,a.request)("gallery/photo/add",{method:"POST",data:l})},v=function(l){return(0,a.request)("gallery/photo/".concat(l),{method:"DELETE"})},P=function(){return(0,a.request)("gallery/list")},O=function(l){return(0,a.request)("gallery",{method:"POST",data:l})},u=function(l){return(0,a.request)("gallery",{method:"PUT",data:l})},o=function(l){return(0,a.request)("gallery/".concat(l),{method:"DELETE"})}}}]);
