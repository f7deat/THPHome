"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2574],{26494:function(S,p,e){e.d(p,{Z:function(){return u}});var i=e(52643),a=e(68136),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},h=_,O=e(91471),v=function(m,l){return a.createElement(O.Z,(0,i.Z)({},m,{ref:l,icon:h}))},u=a.forwardRef(v)},49799:function(S,p,e){e.d(p,{Z:function(){return u}});var i=e(52643),a=e(68136),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},h=_,O=e(91471),v=function(m,l){return a.createElement(O.Z,(0,i.Z)({},m,{ref:l,icon:h}))},u=a.forwardRef(v)},55772:function(S,p,e){e.d(p,{Z:function(){return u}});var i=e(52643),a=e(68136),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},h=_,O=e(91471),v=function(m,l){return a.createElement(O.Z,(0,i.Z)({},m,{ref:l,icon:h}))},u=a.forwardRef(v)},63687:function(S,p,e){e.d(p,{Z:function(){return u}});var i=e(52643),a=e(68136),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},h=_,O=e(91471),v=function(m,l){return a.createElement(O.Z,(0,i.Z)({},m,{ref:l,icon:h}))},u=a.forwardRef(v)},16331:function(S,p,e){var i=e(31693),a=e(37986),_=e(23575),h=e(23205),O=e(4870),v=e(67036),u=e(91105),o=e(68136),m=e(29657),l=e(33130),W=["fieldProps","proFieldProps"],F=["fieldProps","proFieldProps"],j="text",H=function(n){var t=n.fieldProps,E=n.proFieldProps,P=(0,_.Z)(n,W);return(0,l.jsx)(m.Z,(0,a.Z)({valueType:j,fieldProps:t,filedConfig:{valueType:j},proFieldProps:E},P))},K=function(n){var t=(0,h.Z)(n.open||!1,{value:n.open,onChange:n.onOpenChange}),E=(0,i.Z)(t,2),P=E[0],T=E[1];return(0,l.jsx)(O.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(L){var g,I=L.getFieldValue(n.name||[]);return(0,l.jsx)(v.Z,(0,a.Z)((0,a.Z)({getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},onOpenChange:T,content:(0,l.jsxs)("div",{style:{padding:"4px 0"},children:[(g=n.statusRender)===null||g===void 0?void 0:g.call(n,I),n.strengthText?(0,l.jsx)("div",{style:{marginTop:10},children:(0,l.jsx)("span",{children:n.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},n.popoverProps),{},{open:P,children:n.children}))}})},b=function(n){var t=n.fieldProps,E=n.proFieldProps,P=(0,_.Z)(n,F),T=(0,o.useState)(!1),Z=(0,i.Z)(T,2),L=Z[0],g=Z[1];return t!=null&&t.statusRender&&P.name?(0,l.jsx)(K,{name:P.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:L,onOpenChange:g,children:(0,l.jsx)(m.Z,(0,a.Z)({valueType:"password",fieldProps:(0,a.Z)((0,a.Z)({},(0,u.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(r){var s;t==null||(s=t.onBlur)===null||s===void 0||s.call(t,r),g(!1)},onClick:function(r){var s;t==null||(s=t.onClick)===null||s===void 0||s.call(t,r),g(!0)}}),proFieldProps:E,filedConfig:{valueType:j}},P))}):(0,l.jsx)(m.Z,(0,a.Z)({valueType:"password",fieldProps:t,proFieldProps:E,filedConfig:{valueType:j}},P))},A=H;A.Password=b,A.displayName="ProFormComponent",p.Z=A},78837:function(S,p,e){var i=e(60430),a=e.n(i),_=e(53939),h=e.n(_),O=e(83134),v=e.n(O),u=e(34827),o=e.n(u),m=e(41641),l=e(83294),W=e(26494),F=e(46665),j=e(18186),H=e(15621),K=e(62960),b=e(10483),A=e(13755),U=e(68136),n=e(33130),t=function(P){var T=(0,U.useState)(""),Z=o()(T,2),L=Z[0],g=Z[1],I=(0,U.useState)([]),r=o()(I,2),s=r[0],V=r[1],D=(0,U.useState)(!1),$=o()(D,2),G=$[0],N=$[1];function B(x){var C;try{C=new URL(x)}catch(y){return!1}return C.protocol==="https:"}var J=function(){var x=v()(h()().mark(function C(){var y,M;return h()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(s.length>0)){f.next=15;break}return y=new FormData,s.forEach(function(Q){y.append("file",Q)}),N(!0),f.next=6,(0,m.IO)(y);case 6:if(M=f.sent,N(!1),M.succeeded){f.next=11;break}return F.ZP.error(M.message),f.abrupt("return");case 11:return V([]),P.onFinish(M),P.onCancel(),f.abrupt("return");case 15:if(B(L)){f.next=18;break}return F.ZP.error("Sorry, URL failed to upload."),f.abrupt("return");case 18:P.onFinish({url:L,succeeded:!0}),g(""),P.onCancel();case 21:case"end":return f.stop()}},C)}));return function(){return x.apply(this,arguments)}}();return(0,n.jsxs)(j.Z,{open:P.open,onCancel:function(){return P.onCancel()},centered:!0,title:"Upload",onOk:J,confirmLoading:G,children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)(A.Z,{fileList:s,onRemove:function(C){var y=s.indexOf(C),M=s.slice();M.splice(y,1),V(M)},beforeUpload:function(C){return V([].concat(a()(s),[C])),!1},maxCount:1,children:[(0,n.jsx)("p",{className:"ant-upload-drag-icon",children:(0,n.jsx)(l.Z,{})}),(0,n.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,n.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)(H.ZP,{icon:(0,n.jsx)(W.Z,{}),type:"link",size:"large",children:(0,n.jsx)("b",{children:"Choose from your computer"})})}),(0,n.jsx)(K.Z,{children:"or"}),(0,n.jsx)(b.Z,{placeholder:"Paste image or URL",onChange:function(C){return g(C.currentTarget.value)}})]})};p.Z=t},54532:function(S,p,e){e.r(p),e.d(p,{default:function(){return V}});var i=e(53939),a=e.n(i),_=e(83134),h=e.n(_),O=e(34827),v=e.n(O),u=e(4870),o=e(46665),m=e(15621),l=e(13762),W=e(2537),F=e(30339),j=e(24657),H=e(78491),K=e(88821),b=e(49799),A=e(25223),U=e(63687),n=e(55772),t=e(68136),E=function(D){return D[D.DEFAULT=0]="DEFAULT",D[D.SLIDE=1]="SLIDE",D[D.POST=2]="POST",D[D.PHOTO=3]="PHOTO",D}(E||{}),P=[{id:E.SLIDE,name:"Slide"},{id:E.POST,name:"Post"},{id:E.PHOTO,name:"Photo"}],T=e(58703),Z=e(81068),L=e(79392),g=e(16331),I=e(78837),r=e(33130),s=function(){var $=(0,t.useState)(!1),G=v()($,2),N=G[0],B=G[1],J=(0,t.useState)(),x=v()(J,2),C=x[0],y=x[1],M=u.Z.useForm(),Y=v()(M,1),f=Y[0],Q=(0,t.useState)(!1),w=v()(Q,2),ee=w[0],k=w[1],z=(0,t.useCallback)(function(){(0,T.request)("banner/get-list?type=".concat(E.SLIDE)).then(function(d){y(d)})},[]);(0,t.useEffect)(function(){z()},[z]);var q=function(c){f.setFields([{name:"name",value:c.name},{name:"image",value:c.image},{name:"url",value:c.url}]),B(!0)},ne=function(){B(!1)},te=function(c){c.type=E.SLIDE,c.id?(0,T.request)("banner/update",{method:"POST",data:c}).then(function(R){R.succeeded&&(z(),o.ZP.success("succeeded!"),B(!1),f.resetFields())}):(0,T.request)("banner/add",{method:"POST",data:c}).then(function(R){R.succeeded&&(z(),o.ZP.success("succeeded!"),B(!1),f.resetFields())})};function re(d){(0,T.request)("banner/delete/".concat(d),{method:"POST"}).then(function(c){c.succeeded&&(z(),o.ZP.success("succeeded!"))})}function ae(d){re(d)}var oe=function(c){return c.startsWith("http")?c:"https://dhhp.edu.vn".concat(c)},le=function(){var d=h()(a()().mark(function c(R){return a()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:R.succeeded&&f.setFieldValue("image",R.url);case 1:case"end":return X.stop()}},c)}));return function(R){return d.apply(this,arguments)}}();return(0,r.jsxs)(Z._z,{extra:(0,r.jsx)(m.ZP,{type:"primary",icon:(0,r.jsx)(K.Z,{}),onClick:function(){return q({})},children:"Th\xEAm m\u1EDBi"}),children:[(0,r.jsx)(l.Z,{gutter:16,children:C&&C.map(function(d){return(0,r.jsx)(W.Z,{span:6,children:(0,r.jsx)(L.Z,{className:"mb-4",actions:[(0,r.jsx)(b.Z,{onClick:function(){return q(d)}},"edit"),(0,r.jsx)(F.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return ae(d.id)},children:(0,r.jsx)(A.Z,{})},"delete")],children:(0,r.jsx)("div",{className:"relative w-full bg-white border border-dashed border-gray-500 flex justify-center items-center hover:border-blue-600 hover:text-blue-600",children:(0,r.jsx)(j.Z,{src:oe(d.image),alt:d.name,height:200,wrapperClassName:"w-full",style:{objectFit:"cover"}})})})},d.id)})}),(0,r.jsx)(H.Z,{title:"Slider",placement:"right",closable:!1,onClose:ne,open:N,width:700,children:(0,r.jsxs)(u.Z,{form:f,layout:"vertical",onFinish:te,children:[(0,r.jsx)(g.Z,{name:"name",label:"Ti\xEAu \u0111\u1EC1"}),(0,r.jsx)(g.Z,{name:"image",className:"w-full",label:"H\xECnh \u1EA3nh",rules:[{required:!0}],fieldProps:{addonAfter:(0,r.jsx)(m.ZP,{type:"text",size:"small",icon:(0,r.jsx)(U.Z,{}),onClick:function(){return k(!0)},children:"T\u1EA3i l\xEAn"})}}),(0,r.jsx)(g.Z,{name:"url",label:"Li\xEAn k\u1EBFt"}),(0,r.jsx)(m.ZP,{type:"primary",icon:(0,r.jsx)(n.Z,{}),htmlType:"submit",children:"L\u01B0u"})]})}),(0,r.jsx)(I.Z,{open:ee,onCancel:function(){return k(!1)},onFinish:le})]})},V=s},41641:function(S,p,e){e.d(p,{IO:function(){return a},kd:function(){return v},pA:function(){return O},t4:function(){return _},vs:function(){return h}});var i=e(58703),a=function(o){return(0,i.request)("file/upload",{method:"POST",data:o,headers:{"Content-Type":"multipart/form-data"}})},_=function(o){return(0,i.request)("file/list",{params:o})},h=function(o){return(0,i.request)("gallery/photo/list",{params:o})},O=function(o){return(0,i.request)("gallery/photo/add",{method:"POST",data:o})},v=function(o){return(0,i.request)("gallery/photo/".concat(o),{method:"DELETE"})}}}]);
