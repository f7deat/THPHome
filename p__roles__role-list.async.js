"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9745],{25223:function(K,p,e){e.d(p,{Z:function(){return i}});var l=e(52643),a=e(68136),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},O=_,f=e(91471),s=function(m,M){return a.createElement(f.Z,(0,l.Z)({},m,{ref:M,icon:O}))},i=a.forwardRef(s)},6115:function(K,p,e){e.r(p);var l=e(34827),a=e.n(l),_=e(46665),O=e(41605),f=e(15621),s=e(30339),i=e(2099),y=e(78491),m=e(68136),M=e(22200),g=e(25223),C=e(58703),u=e(33130),N=function(){var $=(0,m.useState)([]),T=a()($,2),h=T[0],B=T[1],z=(0,m.useState)(!1),R=a()(z,2),Z=R[0],L=R[1],F=(0,m.useState)([]),E=a()(F,2),v=E[0],X=E[1];(0,m.useEffect)(function(){(0,C.request)("role/get-list").then(function(t){B(t)})},[]);var Y=function(o){(0,C.request)("role/delete/".concat(o),{method:"POST"}).then(function(x){x.succeeded&&(B(h.filter(function(I){return I.id!==o})),_.ZP.success("Succeeded!"))})};function n(t){(0,C.request)("user/get-users-in-role/".concat(t)).then(function(o){X(o),L(!0)})}var r=[{title:"Id",dataIndex:"id"},{title:"Name",dataIndex:"name"},{title:"Normalized Name",dataIndex:"normalizedName"},{title:"",render:function(o){return(0,u.jsxs)(O.Z,{children:[(0,u.jsx)(f.ZP,{type:"primary",icon:(0,u.jsx)(M.Z,{}),onClick:function(){return n(o.name)}}),(0,u.jsx)(s.Z,{title:"Are you sure to delete?",onConfirm:function(){return Y(o.id)},okText:"Yes",cancelText:"No",children:(0,u.jsx)(f.ZP,{type:"primary",danger:!0,icon:(0,u.jsx)(g.Z,{})})})]})}}],c=[{title:"Id",dataIndex:"id"},{title:"User Name",dataIndex:"userName"},{title:"",render:function(o){return(0,u.jsx)(s.Z,{title:"Are you sure delete from role?",onConfirm:function(){return Y(o.id)},okText:"Yes",cancelText:"No",children:(0,u.jsx)(f.ZP,{type:"primary",danger:!0,icon:(0,u.jsx)(g.Z,{})})})}}];return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"bg-white p-4",children:(0,u.jsx)(i.Z,{dataSource:h,columns:r,rowKey:"id"})}),(0,u.jsx)(y.Z,{title:"User In Role",placement:"right",closable:!1,onClose:function(){return L(!1)},visible:Z,width:800,children:(0,u.jsx)(i.Z,{dataSource:v,columns:c,rowKey:"id"})})]})};p.default=N},86310:function(K,p,e){var l=e(92532),a=e(68136),_=e(15621),O=e(64690);function f(i){return!!(i&&i.then)}const s=i=>{const{type:y,children:m,prefixCls:M,buttonProps:g,close:C,autoFocus:u,emitEvent:N,isSilent:b,quitOnNullishReturnValue:$,actionFn:T}=i,h=a.useRef(!1),B=a.useRef(null),[z,R]=(0,l.Z)(!1),Z=function(){C==null||C.apply(void 0,arguments)};a.useEffect(()=>{let E=null;return u&&(E=setTimeout(()=>{var v;(v=B.current)===null||v===void 0||v.focus()})),()=>{E&&clearTimeout(E)}},[]);const L=E=>{f(E)&&(R(!0),E.then(function(){R(!1,!0),Z.apply(void 0,arguments),h.current=!1},v=>{if(R(!1,!0),h.current=!1,!(b!=null&&b()))return Promise.reject(v)}))},F=E=>{if(h.current)return;if(h.current=!0,!T){Z();return}let v;if(N){if(v=T(E),$&&!f(v)){h.current=!1,Z(E);return}}else if(T.length)v=T(C),h.current=!1;else if(v=T(),!v){Z();return}L(v)};return a.createElement(_.ZP,Object.assign({},(0,O.nx)(y),{onClick:F,loading:z,prefixCls:M},g,{ref:B}),m)};p.Z=s},5858:function(K,p,e){var l=e(68136),a=e(87358);function _(f,s,i){return typeof f=="boolean"?f:s===void 0?!!i:s!==!1&&s!==null}function O(f,s,i){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.createElement(a.Z,null),m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!_(f,s,m))return[!1,null];const g=typeof s=="boolean"||s===void 0||s===null?y:s;return[!0,i?i(g):g]}p.Z=O},30339:function(K,p,e){e.d(p,{Z:function(){return Y}});var l=e(68136),a=e(7901),_=e(91150),O=e.n(_),f=e(23205),s=e(28498),i=e(99173),y=e(75879),m=e(80822),M=e(67036),g=e(86310),C=e(57222),u=e(15621),N=e(64690),b=e(18955),$=e(2016),T=e(5230),h=e(29029);const B=n=>{const{componentCls:r,iconCls:c,antCls:t,zIndexPopup:o,colorText:x,colorWarning:I,marginXXS:j,marginXS:S,fontSize:D,fontWeightStrong:H,colorTextHeading:W}=n;return{[r]:{zIndex:o,[`&${t}-popover`]:{fontSize:D},[`${r}-message`]:{marginBottom:S,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${r}-message-icon ${c}`]:{color:I,fontSize:D,lineHeight:1,marginInlineEnd:S},[`${r}-title`]:{fontWeight:H,color:W,"&:only-child":{fontWeight:"normal"}},[`${r}-description`]:{marginTop:j,color:x}},[`${r}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:S}}}}},z=n=>{const{zIndexPopupBase:r}=n;return{zIndexPopup:r+60}};var R=(0,h.I$)("Popconfirm",n=>B(n),z,{resetStyle:!1}),Z=function(n,r){var c={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(c[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(c[t[o]]=n[t[o]]);return c};const L=n=>{const{prefixCls:r,okButtonProps:c,cancelButtonProps:t,title:o,description:x,cancelText:I,okText:j,okType:S="primary",icon:D=l.createElement(a.Z,null),showCancel:H=!0,close:W,onConfirm:V,onCancel:Q,onPopupClick:k}=n,{getPrefixCls:G}=l.useContext(m.E_),[A]=(0,b.Z)("Popconfirm",$.Z.Popconfirm),U=(0,C.Z)(o),J=(0,C.Z)(x);return l.createElement("div",{className:`${r}-inner-content`,onClick:k},l.createElement("div",{className:`${r}-message`},D&&l.createElement("span",{className:`${r}-message-icon`},D),l.createElement("div",{className:`${r}-message-text`},U&&l.createElement("div",{className:O()(`${r}-title`)},U),J&&l.createElement("div",{className:`${r}-description`},J))),l.createElement("div",{className:`${r}-buttons`},H&&l.createElement(u.ZP,Object.assign({onClick:Q,size:"small"},t),I||(A==null?void 0:A.cancelText)),l.createElement(g.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,N.nx)(S)),c),actionFn:V,close:W,prefixCls:G("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},j||(A==null?void 0:A.okText))))};var E=n=>{const{prefixCls:r,placement:c,className:t,style:o}=n,x=Z(n,["prefixCls","placement","className","style"]),{getPrefixCls:I}=l.useContext(m.E_),j=I("popconfirm",r),[S]=R(j);return S(l.createElement(T.ZP,{placement:c,className:O()(j,t),style:o,content:l.createElement(L,Object.assign({prefixCls:j},x))}))},v=function(n,r){var c={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(c[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(c[t[o]]=n[t[o]]);return c};const X=l.forwardRef((n,r)=>{var c,t;const{prefixCls:o,placement:x="top",trigger:I="click",okType:j="primary",icon:S=l.createElement(a.Z,null),children:D,overlayClassName:H,onOpenChange:W,onVisibleChange:V}=n,Q=v(n,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:k}=l.useContext(m.E_),[G,A]=(0,f.Z)(!1,{value:(c=n.open)!==null&&c!==void 0?c:n.visible,defaultValue:(t=n.defaultOpen)!==null&&t!==void 0?t:n.defaultVisible}),U=(d,P)=>{A(d,!0),V==null||V(d),W==null||W(d,P)},J=d=>{U(!1,d)},ee=d=>{var P;return(P=n.onConfirm)===null||P===void 0?void 0:P.call(void 0,d)},ne=d=>{var P;U(!1,d),(P=n.onCancel)===null||P===void 0||P.call(void 0,d)},te=d=>{d.keyCode===s.Z.ESC&&G&&U(!1,d)},oe=d=>{const{disabled:P=!1}=n;P||U(d)},w=k("popconfirm",o),le=O()(w,H),[re]=R(w);return re(l.createElement(M.Z,Object.assign({},(0,i.Z)(Q,["title"]),{trigger:I,placement:x,onOpenChange:oe,open:G,ref:r,overlayClassName:le,content:l.createElement(L,Object.assign({okType:j,icon:S},n,{prefixCls:w,close:J,onConfirm:ee,onCancel:ne})),"data-popover-inject":!0}),(0,y.Tm)(D,{onKeyDown:d=>{var P,q;l.isValidElement(D)&&((q=D==null?void 0:(P=D.props).onKeyDown)===null||q===void 0||q.call(P,d)),te(d)}})))});X._InternalPanelDoNotUseOrYouWillBeFired=E;var Y=X},28899:function(K,p,e){e.d(p,{H:function(){return f}});var l=e(78910),a=e(68136);function _(){}const O=a.createContext({add:_,remove:_});function f(i){const y=a.useContext(O),m=a.useRef();return(0,l.useEvent)(g=>{if(g){const C=i?g.querySelector(i):g;y.add(C),m.current=C}else y.remove(m.current)})}var s=null}}]);
