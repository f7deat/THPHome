"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[745],{6115:function(Z,l,e){e.r(l);var x=e(34827),_=e.n(x),C=e(46665),v=e(41605),a=e(15621),d=e(30339),u=e(59176),T=e(78491),r=e(68136),I=e(22200),c=e(25223),i=e(80812),t=e(33130),R=function(){var j=(0,r.useState)([]),m=_()(j,2),E=m[0],P=m[1],h=(0,r.useState)(!1),f=_()(h,2),L=f[0],D=f[1],U=(0,r.useState)([]),O=_()(U,2),A=O[0],K=O[1];(0,r.useEffect)(function(){(0,i.request)("role/get-list").then(function(s){P(s)})},[]);var M=function(n){(0,i.request)("role/delete/".concat(n),{method:"POST"}).then(function(o){o.succeeded&&(P(E.filter(function(W){return W.id!==n})),C.ZP.success("Succeeded!"))})};function y(s){(0,i.request)("user/get-users-in-role/".concat(s)).then(function(n){K(n),D(!0)})}var B=[{title:"Id",dataIndex:"id"},{title:"Name",dataIndex:"name"},{title:"Normalized Name",dataIndex:"normalizedName"},{title:"",render:function(n){return(0,t.jsxs)(v.Z,{children:[(0,t.jsx)(a.ZP,{type:"primary",icon:(0,t.jsx)(I.Z,{}),onClick:function(){return y(n.name)}}),(0,t.jsx)(d.Z,{title:"Are you sure to delete?",onConfirm:function(){return M(n.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(a.ZP,{type:"primary",danger:!0,icon:(0,t.jsx)(c.Z,{})})})]})}}],S=[{title:"Id",dataIndex:"id"},{title:"User Name",dataIndex:"userName"},{title:"",render:function(n){return(0,t.jsx)(d.Z,{title:"Are you sure delete from role?",onConfirm:function(){return M(n.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(a.ZP,{type:"primary",danger:!0,icon:(0,t.jsx)(c.Z,{})})})}}];return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"bg-white p-4",children:(0,t.jsx)(u.Z,{dataSource:E,columns:B,rowKey:"id"})}),(0,t.jsx)(T.Z,{title:"User In Role",placement:"right",closable:!1,onClose:function(){return D(!1)},visible:L,width:800,children:(0,t.jsx)(u.Z,{dataSource:A,columns:S,rowKey:"id"})})]})};l.default=R}}]);
