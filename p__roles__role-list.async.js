"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9745],{25223:function(J,I,e){e.d(I,{Z:function(){return P}});var r=e(52643),u=e(68136),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},x=S,O=e(91471),_=function(m,R){return u.createElement(O.Z,(0,r.Z)({},m,{ref:R,icon:x}))},P=u.forwardRef(_)},6115:function(J,I,e){e.r(I);var r=e(34827),u=e.n(r),S=e(46665),x=e(41605),O=e(15621),_=e(30339),P=e(2099),L=e(78491),m=e(68136),R=e(22200),U=e(25223),C=e(58703),a=e(33130),K=function(){var W=(0,m.useState)([]),g=u()(W,2),p=g[0],Z=g[1],$=(0,m.useState)(!1),y=u()($,2),j=y[0],N=y[1],V=(0,m.useState)([]),d=u()(V,2),c=d[0],F=d[1];(0,m.useEffect)(function(){(0,C.request)("role/get-list").then(function(t){Z(t)})},[]);var X=function(o){(0,C.request)("role/delete/".concat(o),{method:"POST"}).then(function(v){v.succeeded&&(Z(p.filter(function(h){return h.id!==o})),S.ZP.success("Succeeded!"))})};function n(t){(0,C.request)("user/get-users-in-role/".concat(t)).then(function(o){F(o),N(!0)})}var l=[{title:"Id",dataIndex:"id"},{title:"Name",dataIndex:"name"},{title:"Normalized Name",dataIndex:"normalizedName"},{title:"",render:function(o){return(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(O.ZP,{type:"primary",icon:(0,a.jsx)(R.Z,{}),onClick:function(){return n(o.name)}}),(0,a.jsx)(_.Z,{title:"Are you sure to delete?",onConfirm:function(){return X(o.id)},okText:"Yes",cancelText:"No",children:(0,a.jsx)(O.ZP,{type:"primary",danger:!0,icon:(0,a.jsx)(U.Z,{})})})]})}}],s=[{title:"Id",dataIndex:"id"},{title:"User Name",dataIndex:"userName"},{title:"",render:function(o){return(0,a.jsx)(_.Z,{title:"Are you sure delete from role?",onConfirm:function(){return X(o.id)},okText:"Yes",cancelText:"No",children:(0,a.jsx)(O.ZP,{type:"primary",danger:!0,icon:(0,a.jsx)(U.Z,{})})})}}];return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"bg-white p-4",children:(0,a.jsx)(P.Z,{dataSource:p,columns:l,rowKey:"id"})}),(0,a.jsx)(L.Z,{title:"User In Role",placement:"right",closable:!1,onClose:function(){return N(!1)},visible:j,width:800,children:(0,a.jsx)(P.Z,{dataSource:c,columns:s,rowKey:"id"})})]})};I.default=K},86310:function(J,I,e){var r=e(92532),u=e(68136),S=e(15621),x=e(64690);function O(P){return!!(P&&P.then)}const _=P=>{const{type:L,children:m,prefixCls:R,buttonProps:U,close:C,autoFocus:a,emitEvent:K,isSilent:b,quitOnNullishReturnValue:W,actionFn:g}=P,p=u.useRef(!1),Z=u.useRef(null),[$,y]=(0,r.Z)(!1),j=function(){C==null||C.apply(void 0,arguments)};u.useEffect(()=>{let d=null;return a&&(d=setTimeout(()=>{var c;(c=Z.current)===null||c===void 0||c.focus()})),()=>{d&&clearTimeout(d)}},[]);const N=d=>{O(d)&&(y(!0),d.then(function(){y(!1,!0),j.apply(void 0,arguments),p.current=!1},c=>{if(y(!1,!0),p.current=!1,!(b!=null&&b()))return Promise.reject(c)}))},V=d=>{if(p.current)return;if(p.current=!0,!g){j();return}let c;if(K){if(c=g(d),W&&!O(c)){p.current=!1,j(d);return}}else if(g.length)c=g(C),p.current=!1;else if(c=g(),!c){j();return}N(c)};return u.createElement(S.ZP,Object.assign({},(0,x.nx)(L),{onClick:V,loading:$,prefixCls:R},U,{ref:Z}),m)};I.Z=_},30339:function(J,I,e){e.d(I,{Z:function(){return X}});var r=e(68136),u=e(7901),S=e(91150),x=e.n(S),O=e(23205),_=e(28498),P=e(99173),L=e(75879),m=e(80822),R=e(67036),U=e(86310),C=e(57222),a=e(15621),K=e(64690),b=e(18955),W=e(2016),g=e(5230),p=e(29029);const Z=n=>{const{componentCls:l,iconCls:s,antCls:t,zIndexPopup:o,colorText:v,colorWarning:h,marginXXS:D,marginXS:T,fontSize:E,fontWeightStrong:z,colorTextHeading:B}=n;return{[l]:{zIndex:o,[`&${t}-popover`]:{fontSize:E},[`${l}-message`]:{marginBottom:T,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${l}-message-icon ${s}`]:{color:h,fontSize:E,lineHeight:1,marginInlineEnd:T},[`${l}-title`]:{fontWeight:z,color:B,"&:only-child":{fontWeight:"normal"}},[`${l}-description`]:{marginTop:D,color:v}},[`${l}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:T}}}}},$=n=>{const{zIndexPopupBase:l}=n;return{zIndexPopup:l+60}};var y=(0,p.I$)("Popconfirm",n=>Z(n),$,{resetStyle:!1}),j=function(n,l){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&l.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(s[t[o]]=n[t[o]]);return s};const N=n=>{const{prefixCls:l,okButtonProps:s,cancelButtonProps:t,title:o,description:v,cancelText:h,okText:D,okType:T="primary",icon:E=r.createElement(u.Z,null),showCancel:z=!0,close:B,onConfirm:H,onCancel:Q,onPopupClick:k}=n,{getPrefixCls:Y}=r.useContext(m.E_),[M]=(0,b.Z)("Popconfirm",W.Z.Popconfirm),A=(0,C.Z)(o),G=(0,C.Z)(v);return r.createElement("div",{className:`${l}-inner-content`,onClick:k},r.createElement("div",{className:`${l}-message`},E&&r.createElement("span",{className:`${l}-message-icon`},E),r.createElement("div",{className:`${l}-message-text`},A&&r.createElement("div",{className:x()(`${l}-title`)},A),G&&r.createElement("div",{className:`${l}-description`},G))),r.createElement("div",{className:`${l}-buttons`},z&&r.createElement(a.ZP,Object.assign({onClick:Q,size:"small"},t),h||(M==null?void 0:M.cancelText)),r.createElement(U.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,K.nx)(T)),s),actionFn:H,close:B,prefixCls:Y("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},D||(M==null?void 0:M.okText))))};var d=n=>{const{prefixCls:l,placement:s,className:t,style:o}=n,v=j(n,["prefixCls","placement","className","style"]),{getPrefixCls:h}=r.useContext(m.E_),D=h("popconfirm",l),[T]=y(D);return T(r.createElement(g.ZP,{placement:s,className:x()(D,t),style:o,content:r.createElement(N,Object.assign({prefixCls:D},v))}))},c=function(n,l){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&l.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(s[t[o]]=n[t[o]]);return s};const F=r.forwardRef((n,l)=>{var s,t;const{prefixCls:o,placement:v="top",trigger:h="click",okType:D="primary",icon:T=r.createElement(u.Z,null),children:E,overlayClassName:z,onOpenChange:B,onVisibleChange:H}=n,Q=c(n,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:k}=r.useContext(m.E_),[Y,M]=(0,O.Z)(!1,{value:(s=n.open)!==null&&s!==void 0?s:n.visible,defaultValue:(t=n.defaultOpen)!==null&&t!==void 0?t:n.defaultVisible}),A=(i,f)=>{M(i,!0),H==null||H(i),B==null||B(i,f)},G=i=>{A(!1,i)},ee=i=>{var f;return(f=n.onConfirm)===null||f===void 0?void 0:f.call(void 0,i)},ne=i=>{var f;A(!1,i),(f=n.onCancel)===null||f===void 0||f.call(void 0,i)},te=i=>{i.keyCode===_.Z.ESC&&Y&&A(!1,i)},oe=i=>{const{disabled:f=!1}=n;f||A(i)},w=k("popconfirm",o),le=x()(w,z),[re]=y(w);return re(r.createElement(R.Z,Object.assign({},(0,P.Z)(Q,["title"]),{trigger:h,placement:v,onOpenChange:oe,open:Y,ref:l,overlayClassName:le,content:r.createElement(N,Object.assign({okType:D,icon:T},n,{prefixCls:w,close:G,onConfirm:ee,onCancel:ne})),"data-popover-inject":!0}),(0,L.Tm)(E,{onKeyDown:i=>{var f,q;r.isValidElement(E)&&((q=E==null?void 0:(f=E.props).onKeyDown)===null||q===void 0||q.call(f,i)),te(i)}})))});F._InternalPanelDoNotUseOrYouWillBeFired=d;var X=F}}]);
