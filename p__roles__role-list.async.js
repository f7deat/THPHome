"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9745],{22717:function(K,E,e){e.d(E,{Z:function(){return i}});var o=e(48063),a=e(93236),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},C=P,c=e(38782),s=function(u,y){return a.createElement(c.Z,(0,o.Z)({},u,{ref:y,icon:C}))},i=a.forwardRef(s)},82669:function(K,E,e){e.d(E,{Z:function(){return i}});var o=e(48063),a=e(93236),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},C=P,c=e(38782),s=function(u,y){return a.createElement(c.Z,(0,o.Z)({},u,{ref:y,icon:C}))},i=a.forwardRef(s)},13118:function(K,E,e){e.r(E);var o=e(48305),a=e.n(o),P=e(68110),C=e(14292),c=e(55641),s=e(53739),i=e(37560),_=e(29690),u=e(93236),y=e(35411),x=e(22717),O=e(37090),f=e(62086),N=function(){var z=(0,u.useState)([]),M=a()(z,2),D=M[0],B=M[1],$=(0,u.useState)(!1),R=a()($,2),S=R[0],L=R[1],F=(0,u.useState)([]),g=a()(F,2),v=g[0],X=g[1];(0,u.useEffect)(function(){(0,O.request)("role/get-list").then(function(t){B(t)})},[]);var Y=function(l){(0,O.request)("role/delete/".concat(l),{method:"POST"}).then(function(h){h.succeeded&&(B(D.filter(function(I){return I.id!==l})),P.ZP.success("Succeeded!"))})};function n(t){(0,O.request)("user/get-users-in-role/".concat(t)).then(function(l){X(l),L(!0)})}var r=[{title:"Id",dataIndex:"id"},{title:"Name",dataIndex:"name"},{title:"Normalized Name",dataIndex:"normalizedName"},{title:"",render:function(l){return(0,f.jsxs)(C.Z,{children:[(0,f.jsx)(c.ZP,{type:"primary",icon:(0,f.jsx)(y.Z,{}),onClick:function(){return n(l.name)}}),(0,f.jsx)(s.Z,{title:"Are you sure to delete?",onConfirm:function(){return Y(l.id)},okText:"Yes",cancelText:"No",children:(0,f.jsx)(c.ZP,{type:"primary",danger:!0,icon:(0,f.jsx)(x.Z,{})})})]})}}],d=[{title:"Id",dataIndex:"id"},{title:"User Name",dataIndex:"userName"},{title:"",render:function(l){return(0,f.jsx)(s.Z,{title:"Are you sure delete from role?",onConfirm:function(){return Y(l.id)},okText:"Yes",cancelText:"No",children:(0,f.jsx)(c.ZP,{type:"primary",danger:!0,icon:(0,f.jsx)(x.Z,{})})})}}];return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"bg-white p-4",children:(0,f.jsx)(i.Z,{dataSource:D,columns:r,rowKey:"id"})}),(0,f.jsx)(_.Z,{title:"User In Role",placement:"right",closable:!1,onClose:function(){return L(!1)},visible:S,width:800,children:(0,f.jsx)(i.Z,{dataSource:v,columns:d,rowKey:"id"})})]})};E.default=N},23811:function(K,E,e){var o=e(42291),a=e(93236),P=e(55641),C=e(62832);function c(i){return!!(i&&i.then)}const s=i=>{const{type:_,children:u,prefixCls:y,buttonProps:x,close:O,autoFocus:f,emitEvent:N,isSilent:b,quitOnNullishReturnValue:z,actionFn:M}=i,D=a.useRef(!1),B=a.useRef(null),[$,R]=(0,o.Z)(!1),S=function(){O==null||O.apply(void 0,arguments)};a.useEffect(()=>{let g=null;return f&&(g=setTimeout(()=>{var v;(v=B.current)===null||v===void 0||v.focus()})),()=>{g&&clearTimeout(g)}},[]);const L=g=>{c(g)&&(R(!0),g.then(function(){R(!1,!0),S.apply(void 0,arguments),D.current=!1},v=>{if(R(!1,!0),D.current=!1,!(b!=null&&b()))return Promise.reject(v)}))},F=g=>{if(D.current)return;if(D.current=!0,!M){S();return}let v;if(N){if(v=M(g),z&&!c(v)){D.current=!1,S(g);return}}else if(M.length)v=M(O),D.current=!1;else if(v=M(),!v){S();return}L(v)};return a.createElement(P.ZP,Object.assign({},(0,C.nx)(_),{onClick:F,loading:$,prefixCls:y},x,{ref:B}),u)};E.Z=s},50945:function(K,E,e){var o=e(93236),a=e(21916);function P(c,s,i){return typeof c=="boolean"?c:s===void 0?!!i:s!==!1&&s!==null}function C(c,s,i){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o.createElement(a.Z,null),u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!P(c,s,u))return[!1,null];const x=typeof s=="boolean"||s===void 0||s===null?_:s;return[!0,i?i(x):x]}E.Z=C},53739:function(K,E,e){e.d(E,{Z:function(){return Y}});var o=e(93236),a=e(39388),P=e(82187),C=e.n(P),c=e(65589),s=e(57),i=e(87017),_=e(15315),u=e(70785),y=e(42402),x=e(23811),O=e(82550),f=e(55641),N=e(62832),b=e(50959),z=e(98785),M=e(77127),D=e(23758);const B=n=>{const{componentCls:r,iconCls:d,antCls:t,zIndexPopup:l,colorText:h,colorWarning:I,marginXXS:Z,marginXS:j,fontSize:T,fontWeightStrong:H,colorTextHeading:U}=n;return{[r]:{zIndex:l,[`&${t}-popover`]:{fontSize:T},[`${r}-message`]:{marginBottom:j,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${r}-message-icon ${d}`]:{color:I,fontSize:T,lineHeight:1,marginInlineEnd:j},[`${r}-title`]:{fontWeight:H,color:U,"&:only-child":{fontWeight:"normal"}},[`${r}-description`]:{marginTop:Z,color:h}},[`${r}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:j}}}}},$=n=>{const{zIndexPopupBase:r}=n;return{zIndexPopup:r+60}};var R=(0,D.I$)("Popconfirm",n=>B(n),$,{resetStyle:!1}),S=function(n,r){var d={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(d[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(n);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(n,t[l])&&(d[t[l]]=n[t[l]]);return d};const L=n=>{const{prefixCls:r,okButtonProps:d,cancelButtonProps:t,title:l,description:h,cancelText:I,okText:Z,okType:j="primary",icon:T=o.createElement(a.Z,null),showCancel:H=!0,close:U,onConfirm:V,onCancel:J,onPopupClick:Q}=n,{getPrefixCls:w}=o.useContext(u.E_),[A]=(0,b.Z)("Popconfirm",z.Z.Popconfirm),W=(0,O.Z)(l),G=(0,O.Z)(h);return o.createElement("div",{className:`${r}-inner-content`,onClick:Q},o.createElement("div",{className:`${r}-message`},T&&o.createElement("span",{className:`${r}-message-icon`},T),o.createElement("div",{className:`${r}-message-text`},W&&o.createElement("div",{className:C()(`${r}-title`)},W),G&&o.createElement("div",{className:`${r}-description`},G))),o.createElement("div",{className:`${r}-buttons`},H&&o.createElement(f.ZP,Object.assign({onClick:J,size:"small"},t),I||(A==null?void 0:A.cancelText)),o.createElement(x.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,N.nx)(j)),d),actionFn:V,close:U,prefixCls:w("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},Z||(A==null?void 0:A.okText))))};var g=n=>{const{prefixCls:r,placement:d,className:t,style:l}=n,h=S(n,["prefixCls","placement","className","style"]),{getPrefixCls:I}=o.useContext(u.E_),Z=I("popconfirm",r),[j]=R(Z);return j(o.createElement(M.ZP,{placement:d,className:C()(Z,t),style:l,content:o.createElement(L,Object.assign({prefixCls:Z},h))}))},v=function(n,r){var d={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(d[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(n);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(n,t[l])&&(d[t[l]]=n[t[l]]);return d};const X=o.forwardRef((n,r)=>{var d,t;const{prefixCls:l,placement:h="top",trigger:I="click",okType:Z="primary",icon:j=o.createElement(a.Z,null),children:T,overlayClassName:H,onOpenChange:U,onVisibleChange:V}=n,J=v(n,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:Q}=o.useContext(u.E_),[w,A]=(0,c.Z)(!1,{value:(d=n.open)!==null&&d!==void 0?d:n.visible,defaultValue:(t=n.defaultOpen)!==null&&t!==void 0?t:n.defaultVisible}),W=(m,p)=>{A(m,!0),V==null||V(m),U==null||U(m,p)},G=m=>{W(!1,m)},ee=m=>{var p;return(p=n.onConfirm)===null||p===void 0?void 0:p.call(void 0,m)},ne=m=>{var p;W(!1,m),(p=n.onCancel)===null||p===void 0||p.call(void 0,m)},te=m=>{m.keyCode===s.Z.ESC&&w&&W(!1,m)},oe=m=>{const{disabled:p=!1}=n;p||W(m)},k=Q("popconfirm",l),le=C()(k,H),[re]=R(k);return re(o.createElement(y.Z,Object.assign({},(0,i.Z)(J,["title"]),{trigger:I,placement:h,onOpenChange:oe,open:w,ref:r,overlayClassName:le,content:o.createElement(L,Object.assign({okType:Z,icon:j},n,{prefixCls:k,close:G,onConfirm:ee,onCancel:ne})),"data-popover-inject":!0}),(0,_.Tm)(T,{onKeyDown:m=>{var p,q;o.isValidElement(T)&&((q=T==null?void 0:(p=T.props).onKeyDown)===null||q===void 0||q.call(p,m)),te(m)}})))});X._InternalPanelDoNotUseOrYouWillBeFired=g;var Y=X},398:function(K,E,e){e.d(E,{H:function(){return c}});var o=e(96771),a=e(93236);function P(){}const C=a.createContext({add:P,remove:P});function c(i){const _=a.useContext(C),u=a.useRef();return(0,o.useEvent)(x=>{if(x){const O=i?x.querySelector(i):x;_.add(O),u.current=O}else _.remove(u.current)})}var s=null}}]);
