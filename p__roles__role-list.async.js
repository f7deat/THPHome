"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9745],{22717:function(J,I,e){e.d(I,{Z:function(){return P}});var r=e(48063),u=e(93236),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},x=S,O=e(38782),_=function(m,R){return u.createElement(O.Z,(0,r.Z)({},m,{ref:R,icon:x}))},P=u.forwardRef(_)},13118:function(J,I,e){e.r(I);var r=e(48305),u=e.n(r),S=e(68110),x=e(14292),O=e(55641),_=e(53739),P=e(68307),A=e(29690),m=e(93236),R=e(35411),L=e(22717),C=e(37090),a=e(62086),K=function(){var W=(0,m.useState)([]),g=u()(W,2),E=g[0],Z=g[1],$=(0,m.useState)(!1),h=u()($,2),M=h[0],N=h[1],V=(0,m.useState)([]),d=u()(V,2),c=d[0],F=d[1];(0,m.useEffect)(function(){(0,C.request)("role/get-list").then(function(t){Z(t)})},[]);var X=function(o){(0,C.request)("role/delete/".concat(o),{method:"POST"}).then(function(v){v.succeeded&&(Z(E.filter(function(y){return y.id!==o})),S.ZP.success("Succeeded!"))})};function n(t){(0,C.request)("user/get-users-in-role/".concat(t)).then(function(o){F(o),N(!0)})}var l=[{title:"Id",dataIndex:"id"},{title:"Name",dataIndex:"name"},{title:"Normalized Name",dataIndex:"normalizedName"},{title:"",render:function(o){return(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(O.ZP,{type:"primary",icon:(0,a.jsx)(R.Z,{}),onClick:function(){return n(o.name)}}),(0,a.jsx)(_.Z,{title:"Are you sure to delete?",onConfirm:function(){return X(o.id)},okText:"Yes",cancelText:"No",children:(0,a.jsx)(O.ZP,{type:"primary",danger:!0,icon:(0,a.jsx)(L.Z,{})})})]})}}],s=[{title:"Id",dataIndex:"id"},{title:"User Name",dataIndex:"userName"},{title:"",render:function(o){return(0,a.jsx)(_.Z,{title:"Are you sure delete from role?",onConfirm:function(){return X(o.id)},okText:"Yes",cancelText:"No",children:(0,a.jsx)(O.ZP,{type:"primary",danger:!0,icon:(0,a.jsx)(L.Z,{})})})}}];return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"bg-white p-4",children:(0,a.jsx)(P.Z,{dataSource:E,columns:l,rowKey:"id"})}),(0,a.jsx)(A.Z,{title:"User In Role",placement:"right",closable:!1,onClose:function(){return N(!1)},visible:M,width:800,children:(0,a.jsx)(P.Z,{dataSource:c,columns:s,rowKey:"id"})})]})};I.default=K},23811:function(J,I,e){var r=e(42291),u=e(93236),S=e(55641),x=e(62832);function O(P){return!!(P&&P.then)}const _=P=>{const{type:A,children:m,prefixCls:R,buttonProps:L,close:C,autoFocus:a,emitEvent:K,isSilent:b,quitOnNullishReturnValue:W,actionFn:g}=P,E=u.useRef(!1),Z=u.useRef(null),[$,h]=(0,r.Z)(!1),M=function(){C==null||C.apply(void 0,arguments)};u.useEffect(()=>{let d=null;return a&&(d=setTimeout(()=>{var c;(c=Z.current)===null||c===void 0||c.focus()})),()=>{d&&clearTimeout(d)}},[]);const N=d=>{O(d)&&(h(!0),d.then(function(){h(!1,!0),M.apply(void 0,arguments),E.current=!1},c=>{if(h(!1,!0),E.current=!1,!(b!=null&&b()))return Promise.reject(c)}))},V=d=>{if(E.current)return;if(E.current=!0,!g){M();return}let c;if(K){if(c=g(d),W&&!O(c)){E.current=!1,M(d);return}}else if(g.length)c=g(C),E.current=!1;else if(c=g(),!c){M();return}N(c)};return u.createElement(S.ZP,Object.assign({},(0,x.nx)(A),{onClick:V,loading:$,prefixCls:R},L,{ref:Z}),m)};I.Z=_},53739:function(J,I,e){e.d(I,{Z:function(){return X}});var r=e(93236),u=e(39388),S=e(82187),x=e.n(S),O=e(65589),_=e(57),P=e(87017),A=e(15315),m=e(70785),R=e(42402),L=e(23811),C=e(82550),a=e(55641),K=e(62832),b=e(50959),W=e(98785),g=e(77127),E=e(23758);const Z=n=>{const{componentCls:l,iconCls:s,antCls:t,zIndexPopup:o,colorText:v,colorWarning:y,marginXXS:D,marginXS:T,fontSize:p,fontWeightStrong:z,colorTextHeading:B}=n;return{[l]:{zIndex:o,[`&${t}-popover`]:{fontSize:p},[`${l}-message`]:{marginBottom:T,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${l}-message-icon ${s}`]:{color:y,fontSize:p,lineHeight:1,marginInlineEnd:T},[`${l}-title`]:{fontWeight:z,color:B,"&:only-child":{fontWeight:"normal"}},[`${l}-description`]:{marginTop:D,color:v}},[`${l}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:T}}}}},$=n=>{const{zIndexPopupBase:l}=n;return{zIndexPopup:l+60}};var h=(0,E.I$)("Popconfirm",n=>Z(n),$,{resetStyle:!1}),M=function(n,l){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&l.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(s[t[o]]=n[t[o]]);return s};const N=n=>{const{prefixCls:l,okButtonProps:s,cancelButtonProps:t,title:o,description:v,cancelText:y,okText:D,okType:T="primary",icon:p=r.createElement(u.Z,null),showCancel:z=!0,close:B,onConfirm:H,onCancel:Q,onPopupClick:k}=n,{getPrefixCls:Y}=r.useContext(m.E_),[j]=(0,b.Z)("Popconfirm",W.Z.Popconfirm),U=(0,C.Z)(o),G=(0,C.Z)(v);return r.createElement("div",{className:`${l}-inner-content`,onClick:k},r.createElement("div",{className:`${l}-message`},p&&r.createElement("span",{className:`${l}-message-icon`},p),r.createElement("div",{className:`${l}-message-text`},U&&r.createElement("div",{className:x()(`${l}-title`)},U),G&&r.createElement("div",{className:`${l}-description`},G))),r.createElement("div",{className:`${l}-buttons`},z&&r.createElement(a.ZP,Object.assign({onClick:Q,size:"small"},t),y||(j==null?void 0:j.cancelText)),r.createElement(L.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,K.nx)(T)),s),actionFn:H,close:B,prefixCls:Y("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},D||(j==null?void 0:j.okText))))};var d=n=>{const{prefixCls:l,placement:s,className:t,style:o}=n,v=M(n,["prefixCls","placement","className","style"]),{getPrefixCls:y}=r.useContext(m.E_),D=y("popconfirm",l),[T]=h(D);return T(r.createElement(g.ZP,{placement:s,className:x()(D,t),style:o,content:r.createElement(N,Object.assign({prefixCls:D},v))}))},c=function(n,l){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&l.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(s[t[o]]=n[t[o]]);return s};const F=r.forwardRef((n,l)=>{var s,t;const{prefixCls:o,placement:v="top",trigger:y="click",okType:D="primary",icon:T=r.createElement(u.Z,null),children:p,overlayClassName:z,onOpenChange:B,onVisibleChange:H}=n,Q=c(n,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:k}=r.useContext(m.E_),[Y,j]=(0,O.Z)(!1,{value:(s=n.open)!==null&&s!==void 0?s:n.visible,defaultValue:(t=n.defaultOpen)!==null&&t!==void 0?t:n.defaultVisible}),U=(i,f)=>{j(i,!0),H==null||H(i),B==null||B(i,f)},G=i=>{U(!1,i)},ee=i=>{var f;return(f=n.onConfirm)===null||f===void 0?void 0:f.call(void 0,i)},ne=i=>{var f;U(!1,i),(f=n.onCancel)===null||f===void 0||f.call(void 0,i)},te=i=>{i.keyCode===_.Z.ESC&&Y&&U(!1,i)},oe=i=>{const{disabled:f=!1}=n;f||U(i)},w=k("popconfirm",o),le=x()(w,z),[re]=h(w);return re(r.createElement(R.Z,Object.assign({},(0,P.Z)(Q,["title"]),{trigger:y,placement:v,onOpenChange:oe,open:Y,ref:l,overlayClassName:le,content:r.createElement(N,Object.assign({okType:D,icon:T},n,{prefixCls:w,close:G,onConfirm:ee,onCancel:ne})),"data-popover-inject":!0}),(0,A.Tm)(p,{onKeyDown:i=>{var f,q;r.isValidElement(p)&&((q=p==null?void 0:(f=p.props).onKeyDown)===null||q===void 0||q.call(f,i)),te(i)}})))});F._InternalPanelDoNotUseOrYouWillBeFired=d;var X=F}}]);
