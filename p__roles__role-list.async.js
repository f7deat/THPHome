"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9745],{13118:function(y,i,e){e.r(i);var M=e(48305),_=e.n(M),x=e(68110),v=e(14292),a=e(55641),d=e(53739),u=e(68307),T=e(29690),r=e(93236),I=e(35411),c=e(22717),l=e(37090),t=e(62086),R=function(){var U=(0,r.useState)([]),m=_()(U,2),E=m[0],P=m[1],h=(0,r.useState)(!1),f=_()(h,2),j=f[0],D=f[1],L=(0,r.useState)([]),O=_()(L,2),A=O[0],K=O[1];(0,r.useEffect)(function(){(0,l.request)("role/get-list").then(function(s){P(s)})},[]);var C=function(n){(0,l.request)("role/delete/".concat(n),{method:"POST"}).then(function(o){o.succeeded&&(P(E.filter(function(Z){return Z.id!==n})),x.ZP.success("Succeeded!"))})};function B(s){(0,l.request)("user/get-users-in-role/".concat(s)).then(function(n){K(n),D(!0)})}var S=[{title:"Id",dataIndex:"id"},{title:"Name",dataIndex:"name"},{title:"Normalized Name",dataIndex:"normalizedName"},{title:"",render:function(n){return(0,t.jsxs)(v.Z,{children:[(0,t.jsx)(a.ZP,{type:"primary",icon:(0,t.jsx)(I.Z,{}),onClick:function(){return B(n.name)}}),(0,t.jsx)(d.Z,{title:"Are you sure to delete?",onConfirm:function(){return C(n.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(a.ZP,{type:"primary",danger:!0,icon:(0,t.jsx)(c.Z,{})})})]})}}],W=[{title:"Id",dataIndex:"id"},{title:"User Name",dataIndex:"userName"},{title:"",render:function(n){return(0,t.jsx)(d.Z,{title:"Are you sure delete from role?",onConfirm:function(){return C(n.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(a.ZP,{type:"primary",danger:!0,icon:(0,t.jsx)(c.Z,{})})})}}];return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"bg-white p-4",children:(0,t.jsx)(u.Z,{dataSource:E,columns:S,rowKey:"id"})}),(0,t.jsx)(T.Z,{title:"User In Role",placement:"right",closable:!1,onClose:function(){return D(!1)},visible:j,width:800,children:(0,t.jsx)(u.Z,{dataSource:A,columns:W,rowKey:"id"})})]})};i.default=R}}]);
