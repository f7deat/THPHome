"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5054],{55772:function(X,Z,e){e.d(Z,{Z:function(){return x}});var s=e(52643),h=e(68136),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},y=d,T=e(91471),b=function(P,V){return h.createElement(T.Z,(0,s.Z)({},P,{ref:V,icon:y}))},x=h.forwardRef(b)},50369:function(X,Z,e){e.r(Z),e.d(Z,{default:function(){return z}});var s=e(34827),h=e.n(s),d=e(46665),y=e(24657),T=e(62380),b=e(78491),x=e(41605),L=e(10483),P=e(15621),V=e(13762),H=e(2537),F=e(67036),B=e(30339),o=e(68136),l=e(83294),m=e(54619),O=e(52643),E={icon:function(v,f){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z",fill:v}},{tag:"path",attrs:{d:"M372.5 256H184v512h656V370.4H492.1z",fill:f}}]}},name:"folder",theme:"twotone"},U=E,K=e(91471),w=function(v,f){return o.createElement(K.Z,(0,O.Z)({},v,{ref:f,icon:U}))},W=o.forwardRef(w),Y=e(1820),k={icon:function(v,f){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:f}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:v}}]}},name:"delete",theme:"twotone"},j=k,C=function(v,f){return o.createElement(K.Z,(0,O.Z)({},v,{ref:f,icon:j}))},q=o.forwardRef(C),_=e(55772),r=e(87358),c=e(13755),g=e(46555),a=e.n(g),u=e(58703),n=e(33130);function z(p){var v,f,R=(0,o.useState)([]),M=h()(R,2),S=M[0],G=M[1],J=(0,o.useState)(""),A=h()(J,2),D=A[0],I=A[1];(0,o.useEffect)(function(){p.visible&&$()},[p.visible]);function $(){(0,u.request)("file/directories").then(function(t){G(t)})}var ee=function(){if(!D)return d.ZP.warning("Please choose a file!");p.onOk(D)};function re(t){}function te(t){I(t)}var ne=function(i){var N=i.file.status;N!=="uploading"&&console.log(i.file,i.fileList),N==="done"?(d.ZP.success("".concat(i.file.name," file uploaded successfully.")),$()):N==="error"&&d.ZP.error("".concat(i.file.name," file upload failed."))};function Q(t){(0,u.request)("/api/file/delete",{method:"POST",data:{fullName:t}}).then(function(i){i.data.succeeded?($(),d.ZP.success(i.data.message)):d.ZP.error(i.data.message)})}function oe(t){var i,N=["jpeg","jpg","png","gif","bmp"],ae=((i=t.split(".").pop())===null||i===void 0?void 0:i.toLowerCase())||"";return N.includes(ae)}function le(t){return oe(t.name)?(0,n.jsx)("div",{children:(0,n.jsx)(y.Z,{src:t.fullName,width:200})}):(0,n.jsx)(T.Z,{})}return(0,n.jsxs)(b.Z,{title:"File Explorer",placement:"right",closable:!1,visible:p.visible,width:900,children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)(c.Z,{action:"/api/file/upload",onChange:ne,children:[(0,n.jsx)("p",{className:"ant-upload-drag-icon",children:(0,n.jsx)(l.Z,{})}),(0,n.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,n.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]})}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)(x.Z,{className:"mb-2",children:[(0,n.jsx)(L.Z,{}),(0,n.jsx)(P.ZP,{type:"primary",icon:(0,n.jsx)(m.Z,{})})]}),(0,n.jsxs)("div",{className:"border",style:{minHeight:"calc(100vh - 360px)"},children:[S==null||(v=S.folders)===null||v===void 0?void 0:v.map(function(t,i){return(0,n.jsxs)("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer",onDoubleClick:function(){return void 0},children:[(0,n.jsx)(W,{className:"mr-2"}),t.name]},i)}),S==null||(f=S.files)===null||f===void 0?void 0:f.map(function(t,i){return(0,n.jsx)("button",{className:"px-2 py-1 hover:bg-gray-100 w-full text-left bg-white focus:bg-gray-100",onClick:function(){return te(t)},children:(0,n.jsxs)(V.Z,{className:"items-center",children:[(0,n.jsx)(H.Z,{span:12,children:(0,n.jsxs)(F.Z,{content:le(t),title:"Preview",children:[(0,n.jsx)(Y.Z,{className:"mr-2"}),t.name]})}),(0,n.jsx)(H.Z,{span:6,children:a()(t.lastWriteTime).format("MM/DD/YYYY h:mm:ss A")}),(0,n.jsxs)(H.Z,{span:3,children:[t.length," KB"]}),(0,n.jsx)(H.Z,{span:3,className:"text-right",children:(0,n.jsx)(B.Z,{title:"Are you sure to delete?",okText:"Yes",cancelText:"No",onConfirm:function(){return Q(t.fullName)},children:(0,n.jsx)(q,{twoToneColor:"red"})})})]})},i)})]})]}),(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(P.ZP,{onClick:ee,icon:(0,n.jsx)(_.Z,{}),type:"primary",children:"Ok"}),(0,n.jsx)(P.ZP,{onClick:p.onCancel,icon:(0,n.jsx)(r.Z,{}),children:"Close"})]})]})}},86310:function(X,Z,e){var s=e(92532),h=e(68136),d=e(15621),y=e(64690);function T(x){return!!(x&&x.then)}const b=x=>{const{type:L,children:P,prefixCls:V,buttonProps:H,close:F,autoFocus:B,emitEvent:o,isSilent:l,quitOnNullishReturnValue:m,actionFn:O}=x,E=h.useRef(!1),U=h.useRef(null),[K,w]=(0,s.Z)(!1),W=function(){F==null||F.apply(void 0,arguments)};h.useEffect(()=>{let j=null;return B&&(j=setTimeout(()=>{var C;(C=U.current)===null||C===void 0||C.focus()})),()=>{j&&clearTimeout(j)}},[]);const Y=j=>{T(j)&&(w(!0),j.then(function(){w(!1,!0),W.apply(void 0,arguments),E.current=!1},C=>{if(w(!1,!0),E.current=!1,!(l!=null&&l()))return Promise.reject(C)}))},k=j=>{if(E.current)return;if(E.current=!0,!O){W();return}let C;if(o){if(C=O(j),m&&!T(C)){E.current=!1,W(j);return}}else if(O.length)C=O(F),E.current=!1;else if(C=O(),!C){W();return}Y(C)};return h.createElement(d.ZP,Object.assign({},(0,y.nx)(L),{onClick:k,loading:K,prefixCls:V},H,{ref:U}),P)};Z.Z=b},30339:function(X,Z,e){e.d(Z,{Z:function(){return _}});var s=e(68136),h=e(7901),d=e(91150),y=e.n(d),T=e(23205),b=e(28498),x=e(99173),L=e(75879),P=e(80822),V=e(67036),H=e(86310),F=e(57222),B=e(15621),o=e(64690),l=e(18955),m=e(2016),O=e(5230),E=e(29029);const U=r=>{const{componentCls:c,iconCls:g,antCls:a,zIndexPopup:u,colorText:n,colorWarning:z,marginXXS:p,marginXS:v,fontSize:f,fontWeightStrong:R,colorTextHeading:M}=r;return{[c]:{zIndex:u,[`&${a}-popover`]:{fontSize:f},[`${c}-message`]:{marginBottom:v,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${c}-message-icon ${g}`]:{color:z,fontSize:f,lineHeight:1,marginInlineEnd:v},[`${c}-title`]:{fontWeight:R,color:M,"&:only-child":{fontWeight:"normal"}},[`${c}-description`]:{marginTop:p,color:n}},[`${c}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:v}}}}},K=r=>{const{zIndexPopupBase:c}=r;return{zIndexPopup:c+60}};var w=(0,E.I$)("Popconfirm",r=>U(r),K,{resetStyle:!1}),W=function(r,c){var g={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&c.indexOf(a)<0&&(g[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(r);u<a.length;u++)c.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(r,a[u])&&(g[a[u]]=r[a[u]]);return g};const Y=r=>{const{prefixCls:c,okButtonProps:g,cancelButtonProps:a,title:u,description:n,cancelText:z,okText:p,okType:v="primary",icon:f=s.createElement(h.Z,null),showCancel:R=!0,close:M,onConfirm:S,onCancel:G,onPopupClick:J}=r,{getPrefixCls:A}=s.useContext(P.E_),[D]=(0,l.Z)("Popconfirm",m.Z.Popconfirm),I=(0,F.Z)(u),$=(0,F.Z)(n);return s.createElement("div",{className:`${c}-inner-content`,onClick:J},s.createElement("div",{className:`${c}-message`},f&&s.createElement("span",{className:`${c}-message-icon`},f),s.createElement("div",{className:`${c}-message-text`},I&&s.createElement("div",{className:y()(`${c}-title`)},I),$&&s.createElement("div",{className:`${c}-description`},$))),s.createElement("div",{className:`${c}-buttons`},R&&s.createElement(B.ZP,Object.assign({onClick:G,size:"small"},a),z||(D==null?void 0:D.cancelText)),s.createElement(H.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,o.nx)(v)),g),actionFn:S,close:M,prefixCls:A("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},p||(D==null?void 0:D.okText))))};var j=r=>{const{prefixCls:c,placement:g,className:a,style:u}=r,n=W(r,["prefixCls","placement","className","style"]),{getPrefixCls:z}=s.useContext(P.E_),p=z("popconfirm",c),[v]=w(p);return v(s.createElement(O.ZP,{placement:g,className:y()(p,a),style:u,content:s.createElement(Y,Object.assign({prefixCls:p},n))}))},C=function(r,c){var g={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&c.indexOf(a)<0&&(g[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(r);u<a.length;u++)c.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(r,a[u])&&(g[a[u]]=r[a[u]]);return g};const q=s.forwardRef((r,c)=>{var g,a;const{prefixCls:u,placement:n="top",trigger:z="click",okType:p="primary",icon:v=s.createElement(h.Z,null),children:f,overlayClassName:R,onOpenChange:M,onVisibleChange:S}=r,G=C(r,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:J}=s.useContext(P.E_),[A,D]=(0,T.Z)(!1,{value:(g=r.open)!==null&&g!==void 0?g:r.visible,defaultValue:(a=r.defaultOpen)!==null&&a!==void 0?a:r.defaultVisible}),I=(t,i)=>{D(t,!0),S==null||S(t),M==null||M(t,i)},$=t=>{I(!1,t)},ee=t=>{var i;return(i=r.onConfirm)===null||i===void 0?void 0:i.call(void 0,t)},re=t=>{var i;I(!1,t),(i=r.onCancel)===null||i===void 0||i.call(void 0,t)},te=t=>{t.keyCode===b.Z.ESC&&A&&I(!1,t)},ne=t=>{const{disabled:i=!1}=r;i||I(t)},Q=J("popconfirm",u),oe=y()(Q,R),[le]=w(Q);return le(s.createElement(V.Z,Object.assign({},(0,x.Z)(G,["title"]),{trigger:z,placement:n,onOpenChange:ne,open:A,ref:c,overlayClassName:oe,content:s.createElement(Y,Object.assign({okType:p,icon:v},r,{prefixCls:Q,close:$,onConfirm:ee,onCancel:re})),"data-popover-inject":!0}),(0,L.Tm)(f,{onKeyDown:t=>{var i,N;s.isValidElement(f)&&((N=f==null?void 0:(i=f.props).onKeyDown)===null||N===void 0||N.call(i,t)),te(t)}})))});q._InternalPanelDoNotUseOrYouWillBeFired=j;var _=q},95179:function(X,Z,e){e.d(Z,{Z:function(){return h}});var s=e(89370);function h(d,y,T,b){var x=s.unstable_batchedUpdates?function(P){s.unstable_batchedUpdates(T,P)}:T;return d!=null&&d.addEventListener&&d.addEventListener(y,x,b),{remove:function(){d!=null&&d.removeEventListener&&d.removeEventListener(y,x,b)}}}},66e3:function(X,Z,e){e.d(Z,{g1:function(){return H},os:function(){return B}});var s=/margin|padding|width|height|max|min|offset/,h={left:!0,top:!0},d={cssFloat:1,styleFloat:1,float:1};function y(o){return o.nodeType===1?o.ownerDocument.defaultView.getComputedStyle(o,null):{}}function T(o,l,m){if(l=l.toLowerCase(),m==="auto"){if(l==="height")return o.offsetHeight;if(l==="width")return o.offsetWidth}return l in h||(h[l]=s.test(l)),h[l]?parseFloat(m)||0:m}function b(o,l){var m=arguments.length,O=y(o);return l=d[l]?"cssFloat"in o.style?"cssFloat":"styleFloat":l,m===1?O:T(o,l,O[l]||o.style[l])}function x(o,l,m){var O=arguments.length;if(l=d[l]?"cssFloat"in o.style?"cssFloat":"styleFloat":l,O===3)return typeof m=="number"&&s.test(l)&&(m="".concat(m,"px")),o.style[l]=m,m;for(var E in l)l.hasOwnProperty(E)&&x(o,E,l[E]);return y(o)}function L(o){return o===document.body?document.documentElement.clientWidth:o.offsetWidth}function P(o){return o===document.body?window.innerHeight||document.documentElement.clientHeight:o.offsetHeight}function V(){var o=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),l=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:o,height:l}}function H(){var o=document.documentElement.clientWidth,l=window.innerHeight||document.documentElement.clientHeight;return{width:o,height:l}}function F(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function B(o){var l=o.getBoundingClientRect(),m=document.documentElement;return{left:l.left+(window.pageXOffset||m.scrollLeft)-(m.clientLeft||document.body.clientLeft||0),top:l.top+(window.pageYOffset||m.scrollTop)-(m.clientTop||document.body.clientTop||0)}}}}]);
